var _t=Object.defineProperty;var Tt=(Re,G,re)=>G in Re?_t(Re,G,{enumerable:!0,configurable:!0,writable:!0,value:re}):Re[G]=re;var at=(Re,G,re)=>(Tt(Re,typeof G!="symbol"?G+"":G,re),re);import{d as Et,o as nt,c as it,a as je,n as ct,b as Mt,e as ht,r as kt,K as Ot,m as lt}from"./index-4wdzlY53.js";var wt={};(function(Re){(()=>{var G={541:(y,S,O)=>{var j=O(353),K=H(j),W=O(37),I=H(W),f=O(630),m=H(f),s=function(){function M(F,a){for(var d=0;d<a.length;d++){var b=a[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(F,b.key,b)}}return function(F,a,d){return a&&M(F.prototype,a),d&&M(F,d),F}}(),w=O(457),p=H(w),R=O(729),_=H(R),e=O(702);O(303);var P=O(248),t=H(P),D=O(249),Z=H(D);function H(M){return M&&M.__esModule?M:{default:M}}function ge(M,F){if(!(M instanceof F))throw new TypeError("Cannot call a class as a function")}function ce(M,F){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:M}function Fe(M,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);M.prototype=Object.create(F&&F.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(M,F):M.__proto__=F)}window.iFrameResizer=Z.default;var $=function(M){Fe(F,M);function F(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ge(this,F);var d=ce(this,(F.__proto__||Object.getPrototypeOf(F)).call(this));return d.options=a,d.api=new t.default(d),d.channel=p.default.build({window:a.window||window.parent,origin:"*",scope:a.id||location.origin,postMessageObserver:function(N,B){d.emit("postMessage",N,B)},gotMessageObserver:function(N,B){d.emit("gotMessage",N,B)}}),["init","update","reload","_event"].forEach(function(b){d.channel.bind(b,function(N,B){var A=b,z=B;return b==="_event"&&(A=B.eventName,z=B.eventData),d.emit(A,z),"success"})}),d}return s(F,[{key:"request",value:function(d){var b=this;return new e.Promise(function(N,B){if(!(0,m.default)(d))throw new Error("Params must be an object");var A=d.method,z=d.endpoint,ue=d.query,fe=d.body;if(!A||!z||!(0,I.default)(A)||!(0,I.default)(z))throw new Error("Invalid method or endpoint");if(!(0,K.default)(ue)&&!(0,m.default)(ue))throw new Error("Query must be an object");if(!(0,K.default)(fe)&&!(0,m.default)(fe))throw new Error("Body must be an object");b.effectiveUser&&(d.effectiveUser=b.effectiveUser),b.channel.call({method:"request",params:d,success:function(le){N(le)},error:function(le){B(le)}})})}},{key:"setEffectiveUser",value:function(d){this.effectiveUser=d}},{key:"saveData",value:function(d){var b=this;return new e.Promise(function(N,B){if(!(0,m.default)(d))throw new Error("Data must be an object");b.channel.call({method:"saveData",params:d,success:function(){N()},error:function(z){B(z)}})})}},{key:"addTransaction",value:function(d){var b=this;return new e.Promise(function(N,B){if(!(0,K.default)(d)&&!(0,m.default)(d))throw new Error("Attrs must be an object");b.channel.call({method:"addTransaction",params:d,success:function(z){N(z)},error:function(z){B(z)}})})}},{key:"editTransaction",value:function(d){var b=this;return new e.Promise(function(N,B){if(!d||!(0,I.default)(d))throw new Error("Invalid id");b.channel.call({method:"editTransaction",params:d,success:function(z){N(z)},error:function(z){B(z)}})})}},{key:"addInstitution",value:function(d){var b=this;return new e.Promise(function(N,B){if(!(0,K.default)(d)&&!(0,m.default)(d))throw new Error("Attrs must be an object");b.channel.call({method:"addInstitution",params:d,success:function(z){N(z)},error:function(z){B(z)}})})}},{key:"addInvestment",value:function(){var d=this;return new e.Promise(function(b,N){d.channel.call({method:"addInvestment",success:function(A){b(A)},error:function(A){N(A)}})})}},{key:"editInstitution",value:function(d){var b=this;return new e.Promise(function(N,B){if(!d||!(0,I.default)(d))throw new Error("Invalid id");b.channel.call({method:"editInstitution",params:d,success:function(z){N(z)},error:function(z){B(z)}})})}},{key:"editAsset",value:function(d){var b=this;return new e.Promise(function(N,B){if(!d||!(0,I.default)(d))throw new Error("Invalid id");b.channel.call({method:"editAsset",params:d,success:function(z){N(z)},error:function(z){B(z)}})})}},{key:"editLiability",value:function(d){var b=this;return new e.Promise(function(N,B){if(!d||!(0,I.default)(d))throw new Error("Invalid id");b.channel.call({method:"editLiability",params:d,success:function(z){N(z)},error:function(z){B(z)}})})}},{key:"deleteInstitution",value:function(d){var b=this;return new e.Promise(function(N,B){if(!d||!(0,I.default)(d))throw new Error("Invalid id");b.channel.call({method:"deleteInstitution",params:d,success:function(z){N(z)},error:function(z){B(z)}})})}},{key:"deleteAsset",value:function(d){var b=this;return new e.Promise(function(N,B){if(!d||!(0,I.default)(d))throw new Error("Invalid id");b.channel.call({method:"deleteAsset",params:d,success:function(z){N(z)},error:function(z){B(z)}})})}},{key:"deleteLiability",value:function(d){var b=this;return new e.Promise(function(N,B){if(!d||!(0,I.default)(d))throw new Error("Invalid id");b.channel.call({method:"deleteLiability",params:d,success:function(z){N(z)},error:function(z){B(z)}})})}},{key:"downloadDocument",value:function(d){var b=this;return new e.Promise(function(N,B){if(!d||!(0,I.default)(d))throw new Error("Invalid id");b.channel.call({method:"downloadDocument",params:d,success:function(){N()},error:function(z){B(z)}})})}},{key:"upgradePremium",value:function(){var d=this;return new e.Promise(function(b,N){d.channel.call({method:"upgradePremium",success:function(){b()},error:function(A){N(A)}})})}},{key:"getSharings",value:function(){var d=this;return new e.Promise(function(b,N){d.channel.call({method:"getSharings",success:function(A){b(A)},error:function(A){N(A)}})})}},{key:"switchUser",value:function(d){var b=this;return new e.Promise(function(N,B){if(!d||!(0,I.default)(d))throw new Error("Invalid id");b.channel.call({method:"switchUser",params:d,success:function(){N()},error:function(z){B(z)}})})}},{key:"destroy",value:function(){this.channel.destroy()}}]),F}(_.default);y.exports=$},248:y=>{var S=function(){function K(W,I){for(var f=0;f<I.length;f++){var m=I[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(W,m.key,m)}}return function(W,I,f){return I&&K(W.prototype,I),f&&K(W,f),W}}();function O(K,W){if(!(K instanceof W))throw new TypeError("Cannot call a class as a function")}var j=function(){function K(W){O(this,K),this.addon=W}return S(K,[{key:"getAssets",value:function(I){return this.addon.request({method:"GET",endpoint:"assets",query:I})}},{key:"getCurrencies",value:function(I){return this.addon.request({method:"GET",endpoint:"currencies",query:I})}},{key:"getInstitutions",value:function(I){return this.addon.request({method:"GET",endpoint:"institutions",query:I})}},{key:"getInstitution",value:function(I){return this.addon.request({method:"GET",endpoint:"institutions/"+I})}},{key:"pollInstitution",value:function(I,f){return this.addon.request({method:"GET",endpoint:"institutions/"+I+"/poll?v="+f})}},{key:"syncInstitution",value:function(I){return this.addon.request({method:"POST",endpoint:"institutions/"+I+"/sync"})}},{key:"addInstitution",value:function(I){return console.warn("DEPRECATED: `addon.api.addInstitution`. Use `addon.addInstitution instead.`"),this.addon.request({method:"POST",endpoint:"institutions",body:I})}},{key:"getLiabilities",value:function(I){return this.addon.request({method:"GET",endpoint:"liabilities",query:I})}},{key:"getPositions",value:function(I){return this.addon.request({method:"GET",endpoint:"positions",query:I})}},{key:"getTransactions",value:function(I){return this.addon.request({method:"GET",endpoint:"transactions",query:I})}},{key:"updateTransaction",value:function(I){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.addon.request({method:"PUT",endpoint:"transactions/"+I,body:f})}},{key:"getUser",value:function(){return this.addon.request({method:"GET",endpoint:"users/me"})}}]),K}();y.exports=j},249:(y,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default={heightCalculationMethod:function(){var j=document,K=j.body,W=j.documentElement;return Math.max.apply(null,[K.scrollHeight,K.offsetHeight,W.offsetHeight])}}},702:function(y,S,O){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(j,K){y.exports=K()})(this,function(){function j(r){var h=typeof r;return r!==null&&(h==="object"||h==="function")}function K(r){return typeof r=="function"}var W=void 0;Array.isArray?W=Array.isArray:W=function(r){return Object.prototype.toString.call(r)==="[object Array]"};var I=W,f=0,m=void 0,s=void 0,w=function(h,o){$[f]=h,$[f+1]=o,f+=2,f===2&&(s?s(M):a())};function p(r){s=r}function R(r){w=r}var _=typeof window<"u"?window:void 0,e=_||{},P=e.MutationObserver||e.WebKitMutationObserver,t=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",D=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function Z(){return function(){return process.nextTick(M)}}function H(){return typeof m<"u"?function(){m(M)}:Fe()}function ge(){var r=0,h=new P(M),o=document.createTextNode("");return h.observe(o,{characterData:!0}),function(){o.data=r=++r%2}}function ce(){var r=new MessageChannel;return r.port1.onmessage=M,function(){return r.port2.postMessage(0)}}function Fe(){var r=setTimeout;return function(){return r(M,1)}}var $=new Array(1e3);function M(){for(var r=0;r<f;r+=2){var h=$[r],o=$[r+1];h(o),$[r]=void 0,$[r+1]=void 0}f=0}function F(){try{var r=Function("return this")().require("vertx");return m=r.runOnLoop||r.runOnContext,H()}catch{return Fe()}}var a=void 0;t?a=Z():P?a=ge():D?a=ce():_===void 0?a=F():a=Fe();function d(r,h){var o=this,v=new this.constructor(B);v[N]===void 0&&E(v);var T=o._state;if(T){var x=arguments[T-1];w(function(){return Ge(T,v,x,o._result)})}else Ve(o,v,r,h);return v}function b(r){var h=this;if(r&&typeof r=="object"&&r.constructor===h)return r;var o=new h(B);return Ae(o,r),o}var N=Math.random().toString(36).substring(2);function B(){}var A=void 0,z=1,ue=2;function fe(){return new TypeError("You cannot resolve a promise with itself")}function ze(){return new TypeError("A promises callback cannot return that same promise.")}function le(r,h,o,v){try{r.call(h,o,v)}catch(T){return T}}function we(r,h,o){w(function(v){var T=!1,x=le(o,h,function(ye){T||(T=!0,h!==ye?Ae(v,ye):De(v,ye))},function(ye){T||(T=!0,xe(v,ye))},"Settle: "+(v._label||" unknown promise"));!T&&x&&(T=!0,xe(v,x))},r)}function be(r,h){h._state===z?De(r,h._result):h._state===ue?xe(r,h._result):Ve(h,void 0,function(o){return Ae(r,o)},function(o){return xe(r,o)})}function _e(r,h,o){h.constructor===r.constructor&&o===d&&h.constructor.resolve===b?be(r,h):o===void 0?De(r,h):K(o)?we(r,h,o):De(r,h)}function Ae(r,h){if(r===h)xe(r,fe());else if(j(h)){var o=void 0;try{o=h.then}catch(v){xe(r,v);return}_e(r,h,o)}else De(r,h)}function Pe(r){r._onerror&&r._onerror(r._result),Ue(r)}function De(r,h){r._state===A&&(r._result=h,r._state=z,r._subscribers.length!==0&&w(Ue,r))}function xe(r,h){r._state===A&&(r._state=ue,r._result=h,w(Pe,r))}function Ve(r,h,o,v){var T=r._subscribers,x=T.length;r._onerror=null,T[x]=h,T[x+z]=o,T[x+ue]=v,x===0&&r._state&&w(Ue,r)}function Ue(r){var h=r._subscribers,o=r._state;if(h.length!==0){for(var v=void 0,T=void 0,x=r._result,ye=0;ye<h.length;ye+=3)v=h[ye],T=h[ye+o],v?Ge(o,v,T,x):T(x);r._subscribers.length=0}}function Ge(r,h,o,v){var T=K(o),x=void 0,ye=void 0,Ce=!0;if(T){try{x=o(v)}catch(Je){Ce=!1,ye=Je}if(h===x){xe(h,ze());return}}else x=v;h._state!==A||(T&&Ce?Ae(h,x):Ce===!1?xe(h,ye):r===z?De(h,x):r===ue&&xe(h,x))}function c(r,h){try{h(function(v){Ae(r,v)},function(v){xe(r,v)})}catch(o){xe(r,o)}}var V=0;function i(){return V++}function E(r){r[N]=V++,r._state=void 0,r._result=void 0,r._subscribers=[]}function J(){return new Error("Array Methods must be provided an Array")}var q=function(){function r(h,o){this._instanceConstructor=h,this.promise=new h(B),this.promise[N]||E(this.promise),I(o)?(this.length=o.length,this._remaining=o.length,this._result=new Array(this.length),this.length===0?De(this.promise,this._result):(this.length=this.length||0,this._enumerate(o),this._remaining===0&&De(this.promise,this._result))):xe(this.promise,J())}return r.prototype._enumerate=function(o){for(var v=0;this._state===A&&v<o.length;v++)this._eachEntry(o[v],v)},r.prototype._eachEntry=function(o,v){var T=this._instanceConstructor,x=T.resolve;if(x===b){var ye=void 0,Ce=void 0,Je=!1;try{ye=o.then}catch(He){Je=!0,Ce=He}if(ye===d&&o._state!==A)this._settledAt(o._state,v,o._result);else if(typeof ye!="function")this._remaining--,this._result[v]=o;else if(T===u){var Ze=new T(B);Je?xe(Ze,Ce):_e(Ze,o,ye),this._willSettleAt(Ze,v)}else this._willSettleAt(new T(function(He){return He(o)}),v)}else this._willSettleAt(x(o),v)},r.prototype._settledAt=function(o,v,T){var x=this.promise;x._state===A&&(this._remaining--,o===ue?xe(x,T):this._result[v]=T),this._remaining===0&&De(x,this._result)},r.prototype._willSettleAt=function(o,v){var T=this;Ve(o,void 0,function(x){return T._settledAt(z,v,x)},function(x){return T._settledAt(ue,v,x)})},r}();function te(r){return new q(this,r).promise}function me(r){var h=this;return I(r)?new h(function(o,v){for(var T=r.length,x=0;x<T;x++)h.resolve(r[x]).then(o,v)}):new h(function(o,v){return v(new TypeError("You must pass an array to race."))})}function Ie(r){var h=this,o=new h(B);return xe(o,r),o}function oe(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function We(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var u=function(){function r(h){this[N]=i(),this._result=this._state=void 0,this._subscribers=[],B!==h&&(typeof h!="function"&&oe(),this instanceof r?c(this,h):We())}return r.prototype.catch=function(o){return this.then(null,o)},r.prototype.finally=function(o){var v=this,T=v.constructor;return K(o)?v.then(function(x){return T.resolve(o()).then(function(){return x})},function(x){return T.resolve(o()).then(function(){throw x})}):v.then(o,o)},r}();u.prototype.then=d,u.all=te,u.race=me,u.resolve=b,u.reject=Ie,u._setScheduler=p,u._setAsap=R,u._asap=w;function L(){var r=void 0;if(typeof O.g<"u")r=O.g;else if(typeof self<"u")r=self;else try{r=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var h=r.Promise;if(h){var o=null;try{o=Object.prototype.toString.call(h.resolve())}catch{}if(o==="[object Promise]"&&!h.cast)return}r.Promise=u}return u.polyfill=L,u.Promise=u,u})},729:y=>{var S=Object.prototype.hasOwnProperty,O="~";function j(){}Object.create&&(j.prototype=Object.create(null),new j().__proto__||(O=!1));function K(m,s,w){this.fn=m,this.context=s,this.once=w||!1}function W(m,s,w,p,R){if(typeof w!="function")throw new TypeError("The listener must be a function");var _=new K(w,p||m,R),e=O?O+s:s;return m._events[e]?m._events[e].fn?m._events[e]=[m._events[e],_]:m._events[e].push(_):(m._events[e]=_,m._eventsCount++),m}function I(m,s){--m._eventsCount===0?m._events=new j:delete m._events[s]}function f(){this._events=new j,this._eventsCount=0}f.prototype.eventNames=function(){var s=[],w,p;if(this._eventsCount===0)return s;for(p in w=this._events)S.call(w,p)&&s.push(O?p.slice(1):p);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(w)):s},f.prototype.listeners=function(s){var w=O?O+s:s,p=this._events[w];if(!p)return[];if(p.fn)return[p.fn];for(var R=0,_=p.length,e=new Array(_);R<_;R++)e[R]=p[R].fn;return e},f.prototype.listenerCount=function(s){var w=O?O+s:s,p=this._events[w];return p?p.fn?1:p.length:0},f.prototype.emit=function(s,w,p,R,_,e){var P=O?O+s:s;if(!this._events[P])return!1;var t=this._events[P],D=arguments.length,Z,H;if(t.fn){switch(t.once&&this.removeListener(s,t.fn,void 0,!0),D){case 1:return t.fn.call(t.context),!0;case 2:return t.fn.call(t.context,w),!0;case 3:return t.fn.call(t.context,w,p),!0;case 4:return t.fn.call(t.context,w,p,R),!0;case 5:return t.fn.call(t.context,w,p,R,_),!0;case 6:return t.fn.call(t.context,w,p,R,_,e),!0}for(H=1,Z=new Array(D-1);H<D;H++)Z[H-1]=arguments[H];t.fn.apply(t.context,Z)}else{var ge=t.length,ce;for(H=0;H<ge;H++)switch(t[H].once&&this.removeListener(s,t[H].fn,void 0,!0),D){case 1:t[H].fn.call(t[H].context);break;case 2:t[H].fn.call(t[H].context,w);break;case 3:t[H].fn.call(t[H].context,w,p);break;case 4:t[H].fn.call(t[H].context,w,p,R);break;default:if(!Z)for(ce=1,Z=new Array(D-1);ce<D;ce++)Z[ce-1]=arguments[ce];t[H].fn.apply(t[H].context,Z)}}return!0},f.prototype.on=function(s,w,p){return W(this,s,w,p,!1)},f.prototype.once=function(s,w,p){return W(this,s,w,p,!0)},f.prototype.removeListener=function(s,w,p,R){var _=O?O+s:s;if(!this._events[_])return this;if(!w)return I(this,_),this;var e=this._events[_];if(e.fn)e.fn===w&&(!R||e.once)&&(!p||e.context===p)&&I(this,_);else{for(var P=0,t=[],D=e.length;P<D;P++)(e[P].fn!==w||R&&!e[P].once||p&&e[P].context!==p)&&t.push(e[P]);t.length?this._events[_]=t.length===1?t[0]:t:I(this,_)}return this},f.prototype.removeAllListeners=function(s){var w;return s?(w=O?O+s:s,this._events[w]&&I(this,w)):(this._events=new j,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=O,f.EventEmitter=f,y.exports=f},303:(y,S,O)=>{y.exports=O(683)},402:y=>{(function(S){if(typeof window>"u")return;var O=!0,j=10,K="",W=0,I="",f=null,m="",s=!1,w={resize:1,click:1},p=128,R=!0,_=1,e="bodyOffset",P=e,t=!0,D="",Z={},H=32,ge=null,ce=!1,Fe="[iFrameSizer]",$=Fe.length,M="",F={max:1,min:1,bodyScroll:1,documentElementScroll:1},a="child",d=!0,b=window.parent,N="*",B=0,A=!1,z=null,ue=16,fe=1,ze="scroll",le=ze,we=window,be=function(){E("MessageCallback function not defined")},_e=function(){},Ae=function(){},Pe={height:function(){return E("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return E("Custom width calculation function not defined"),document.body.scrollWidth}},De={};function xe(n,l,C){"addEventListener"in window?n.addEventListener(l,C,!1):"attachEvent"in window&&n.attachEvent("on"+l,C)}function Ve(n,l,C){"removeEventListener"in window?n.removeEventListener(l,C,!1):"detachEvent"in window&&n.detachEvent("on"+l,C)}function Ue(n){return n.charAt(0).toUpperCase()+n.slice(1)}function Ge(n){var l,C,ee,ae=null,Te=0,Me=function(){Te=c(),ae=null,ee=n.apply(l,C),ae||(l=C=null)};return function(){var ke=c();Te||(Te=ke);var de=ue-(ke-Te);return l=this,C=arguments,de<=0||de>ue?(ae&&(clearTimeout(ae),ae=null),Te=ke,ee=n.apply(l,C),ae||(l=C=null)):ae||(ae=setTimeout(Me,de)),ee}}var c=Date.now||function(){return new Date().getTime()};function V(n){return Fe+"["+M+"] "+n}function i(n){ce&&typeof window.console=="object"&&console.log(V(n))}function E(n){typeof window.console=="object"&&console.warn(V(n))}function J(){q(),i("Initialising iFrame ("+location.href+")"),te(),oe(),Ie("background",K),Ie("padding",m),Ze(),h(),o(),We(),Ne(),v(),Z=He(),$e("init","Init message from host page"),_e()}function q(){function n(C){return C==="true"}var l=D.substr($).split(":");M=l[0],W=S!==l[1]?Number(l[1]):W,s=S!==l[2]?n(l[2]):s,ce=S!==l[3]?n(l[3]):ce,H=S!==l[4]?Number(l[4]):H,O=S!==l[6]?n(l[6]):O,I=l[7],P=S!==l[8]?l[8]:P,K=l[9],m=l[10],B=S!==l[11]?Number(l[11]):B,Z.enable=S!==l[12]?n(l[12]):!1,a=S!==l[13]?l[13]:a,le=S!==l[14]?l[14]:le}function te(){function n(){var C=window.iFrameResizer;i("Reading data from page: "+JSON.stringify(C)),be="messageCallback"in C?C.messageCallback:be,_e="readyCallback"in C?C.readyCallback:_e,N="targetOrigin"in C?C.targetOrigin:N,P="heightCalculationMethod"in C?C.heightCalculationMethod:P,le="widthCalculationMethod"in C?C.widthCalculationMethod:le}function l(C,ee){return typeof C=="function"&&(i("Setup custom "+ee+"CalcMethod"),Pe[ee]=C,C="custom"),C}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(n(),P=l(P,"height"),le=l(le,"width")),i("TargetOrigin for parent set to: "+N)}function me(n,l){return l.indexOf("-")!==-1&&(E("Negative CSS value ignored for "+n),l=""),l}function Ie(n,l){S!==l&&l!==""&&l!=="null"&&(document.body.style[n]=l,i("Body "+n+' set to "'+l+'"'))}function oe(){S===I&&(I=W+"px"),Ie("margin",me("margin",I))}function We(){document.documentElement.style.height="",document.body.style.height="",i('HTML & body height set to "auto"')}function u(n){var l={add:function(C){function ee(){$e(n.eventName,n.eventType)}De[C]=ee,xe(window,C,ee)},remove:function(C){var ee=De[C];delete De[C],Ve(window,C,ee)}};n.eventNames&&Array.prototype.map?(n.eventName=n.eventNames[0],n.eventNames.map(l[n.method])):l[n.method](n.eventName),i(Ue(n.method)+" event listener: "+n.eventType)}function L(n){u({method:n,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),u({method:n,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),u({method:n,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),u({method:n,eventType:"Input",eventName:"input"}),u({method:n,eventType:"Mouse Up",eventName:"mouseup"}),u({method:n,eventType:"Mouse Down",eventName:"mousedown"}),u({method:n,eventType:"Orientation Change",eventName:"orientationchange"}),u({method:n,eventType:"Print",eventName:["afterprint","beforeprint"]}),u({method:n,eventType:"Ready State Change",eventName:"readystatechange"}),u({method:n,eventType:"Touch Start",eventName:"touchstart"}),u({method:n,eventType:"Touch End",eventName:"touchend"}),u({method:n,eventType:"Touch Cancel",eventName:"touchcancel"}),u({method:n,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),u({method:n,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),u({method:n,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),a==="child"&&u({method:n,eventType:"IFrame Resized",eventName:"resize"})}function r(n,l,C,ee){return l!==n&&(n in C||(E(n+" is not a valid option for "+ee+"CalculationMethod."),n=l),i(ee+' calculation method set to "'+n+'"')),n}function h(){P=r(P,e,Be,"height")}function o(){le=r(le,ze,Xe,"width")}function v(){O===!0?(L("add"),U()):i("Auto Resize disabled")}function T(){i("Disable outgoing messages"),d=!1}function x(){i("Remove event listener: Message"),Ve(window,"message",g)}function ye(){f!==null&&f.disconnect()}function Ce(){L("remove"),ye(),clearInterval(ge)}function Je(){T(),x(),O===!0&&Ce()}function Ze(){var n=document.createElement("div");n.style.clear="both",n.style.display="block",document.body.appendChild(n)}function He(){function n(){return{x:window.pageXOffset!==S?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==S?window.pageYOffset:document.documentElement.scrollTop}}function l(de){var se=de.getBoundingClientRect(),Oe=n();return{x:parseInt(se.left,10)+parseInt(Oe.x,10),y:parseInt(se.top,10)+parseInt(Oe.y,10)}}function C(de){function se(Ke){var ot=l(Ke);i("Moving to in page link (#"+Oe+") at x: "+ot.x+" y: "+ot.y),Qe(ot.y,ot.x,"scrollToOffset")}var Oe=de.split("#")[1]||de,pe=decodeURIComponent(Oe),qe=document.getElementById(pe)||document.getElementsByName(pe)[0];S!==qe?se(qe):(i("In page link (#"+Oe+") not found in iFrame, so sending to parent"),Qe(0,0,"inPageLink","#"+Oe))}function ee(){location.hash!==""&&location.hash!=="#"&&C(location.href)}function ae(){function de(se){function Oe(pe){pe.preventDefault(),C(this.getAttribute("href"))}se.getAttribute("href")!=="#"&&xe(se,"click",Oe)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),de)}function Te(){xe(window,"hashchange",ee)}function Me(){setTimeout(ee,p)}function ke(){Array.prototype.forEach&&document.querySelectorAll?(i("Setting up location.hash handlers"),ae(),Te(),Me()):E("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return Z.enable?ke():i("In page linking not enabled"),{findTarget:C}}function Ne(){i("Enable public methods"),we.parentIFrame={autoResize:function(l){return l===!0&&O===!1?(O=!0,v()):l===!1&&O===!0&&(O=!1,Ce()),O},close:function(){Qe(0,0,"close"),Je()},getId:function(){return M},getPageInfo:function(l){typeof l=="function"?(Ae=l,Qe(0,0,"pageInfo")):(Ae=function(){},Qe(0,0,"pageInfoStop"))},moveToAnchor:function(l){Z.findTarget(l)},reset:function(){ut("parentIFrame.reset")},scrollTo:function(l,C){Qe(C,l,"scrollTo")},scrollToOffset:function(l,C){Qe(C,l,"scrollToOffset")},sendMessage:function(l,C){Qe(0,0,"message",JSON.stringify(l),C)},setHeightCalculationMethod:function(l){P=l,h()},setWidthCalculationMethod:function(l){le=l,o()},setTargetOrigin:function(l){i("Set targetOrigin: "+l),N=l},size:function(l,C){var ee=""+(l||"")+(C?","+C:"");$e("size","parentIFrame.size("+ee+")",l,C)}}}function ne(){H!==0&&(i("setInterval: "+H+"ms"),ge=setInterval(function(){$e("interval","setInterval: "+H)},Math.abs(H)))}function Y(){function n(pe){function qe(Ke){Ke.complete===!1&&(i("Attach listeners to "+Ke.src),Ke.addEventListener("load",ae,!1),Ke.addEventListener("error",Te,!1),de.push(Ke))}pe.type==="attributes"&&pe.attributeName==="src"?qe(pe.target):pe.type==="childList"&&Array.prototype.forEach.call(pe.target.querySelectorAll("img"),qe)}function l(pe){de.splice(de.indexOf(pe),1)}function C(pe){i("Remove listeners from "+pe.src),pe.removeEventListener("load",ae,!1),pe.removeEventListener("error",Te,!1),l(pe)}function ee(pe,qe,Ke){C(pe.target),$e(qe,Ke+": "+pe.target.src,S,S)}function ae(pe){ee(pe,"imageLoad","Image loaded")}function Te(pe){ee(pe,"imageLoadFailed","Image load failed")}function Me(pe){$e("mutationObserver","mutationObserver: "+pe[0].target+" "+pe[0].type),pe.forEach(n)}function ke(){var pe=document.querySelector("body"),qe={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return Oe=new se(Me),i("Create body MutationObserver"),Oe.observe(pe,qe),Oe}var de=[],se=window.MutationObserver||window.WebKitMutationObserver,Oe=ke();return{disconnect:function(){"disconnect"in Oe&&(i("Disconnect body MutationObserver"),Oe.disconnect(),de.forEach(C))}}}function U(){var n=0>H;window.MutationObserver||window.WebKitMutationObserver?n?ne():f=Y():(i("MutationObserver not supported in this browser!"),ne())}function X(n,l){function C(ae){var Te=/^\d+(px)?$/i;if(Te.test(ae))return parseInt(ae,j);var Me=l.style.left,ke=l.runtimeStyle.left;return l.runtimeStyle.left=l.currentStyle.left,l.style.left=ae||0,ae=l.style.pixelLeft,l.style.left=Me,l.runtimeStyle.left=ke,ae}var ee=0;return l=l||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(ee=document.defaultView.getComputedStyle(l,null),ee=ee!==null?ee[n]:0):ee=C(l.currentStyle[n]),parseInt(ee,j)}function ie(n){n>ue/2&&(ue=2*n,i("Event throttle increased to "+ue+"ms"))}function Ee(n,l){for(var C=l.length,ee=0,ae=0,Te=Ue(n),Me=c(),ke=0;ke<C;ke++)ee=l[ke].getBoundingClientRect()[n]+X("margin"+Te,l[ke]),ee>ae&&(ae=ee);return Me=c()-Me,i("Parsed "+C+" HTML elements"),i("Element position calculated in "+Me+"ms"),ie(Me),ae}function ve(n){return[n.bodyOffset(),n.bodyScroll(),n.documentElementOffset(),n.documentElementScroll()]}function Se(n,l){function C(){return E("No tagged elements ("+l+") found on page"),document.querySelectorAll("body *")}var ee=document.querySelectorAll("["+l+"]");return ee.length===0&&C(),Ee(n,ee)}function Le(){return document.querySelectorAll("body *")}var Be={bodyOffset:function(){return document.body.offsetHeight+X("marginTop")+X("marginBottom")},offset:function(){return Be.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return Pe.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,ve(Be))},min:function(){return Math.min.apply(null,ve(Be))},grow:function(){return Be.max()},lowestElement:function(){return Math.max(Be.bodyOffset(),Ee("bottom",Le()))},taggedElement:function(){return Se("bottom","data-iframe-height")}},Xe={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return Pe.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Xe.bodyScroll(),Xe.documentElementScroll())},max:function(){return Math.max.apply(null,ve(Xe))},min:function(){return Math.min.apply(null,ve(Xe))},rightMostElement:function(){return Ee("right",Le())},taggedElement:function(){return Se("right","data-iframe-width")}};function tt(n,l,C,ee){function ae(){_=Oe,fe=pe,Qe(_,fe,n)}function Te(){function qe(Ke,ot){var bt=Math.abs(Ke-ot)<=B;return!bt}return Oe=S!==C?C:Be[P](),pe=S!==ee?ee:Xe[le](),qe(_,Oe)||s&&qe(fe,pe)}function Me(){return!(n in{init:1,interval:1,size:1})}function ke(){return P in F||s&&le in F}function de(){i("No change in size detected")}function se(){Me()&&ke()?ut(l):n in{interval:1}||de()}var Oe,pe;Te()||n==="init"?(st(),ae()):se()}var ft=Ge(tt);function $e(n,l,C,ee){function ae(){n in{reset:1,resetPage:1,init:1}||i("Trigger event: "+l)}function Te(){return A&&n in w}Te()?i("Trigger event cancelled: "+n):(ae(),ft(n,l,C,ee))}function st(){A||(A=!0,i("Trigger event lock on")),clearTimeout(z),z=setTimeout(function(){A=!1,i("Trigger event lock off"),i("--")},p)}function Ye(n){_=Be[P](),fe=Xe[le](),Qe(_,fe,n)}function ut(n){var l=P;P=e,i("Reset trigger event: "+n),st(),Ye("reset"),P=l}function Qe(n,l,C,ee,ae){function Te(){S===ae?ae=N:i("Message targetOrigin: "+ae)}function Me(){var ke=n+":"+l,de=M+":"+ke+":"+C+(S!==ee?":"+ee:"");i("Sending message to host page ("+de+")"),b.postMessage(Fe+de,ae)}d===!0&&(Te(),Me())}function g(n){var l={init:function(){function Oe(){D=n.data,b=n.source,J(),R=!1,setTimeout(function(){t=!1},p)}document.readyState==="interactive"||document.readyState==="complete"?Oe():(i("Waiting for page ready"),xe(window,"readystatechange",l.initFromParent))},reset:function(){t?i("Page reset ignored by init"):(i("Page size reset by host page"),Ye("resetPage"))},resize:function(){$e("resizeParent","Parent window requested size check")},moveToAnchor:function(){Z.findTarget(ae())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var Oe=ae();i("PageInfoFromParent called from parent: "+Oe),Ae(JSON.parse(Oe)),i(" --")},message:function(){var Oe=ae();i("MessageCallback called from parent: "+Oe),be(JSON.parse(Oe)),i(" --")}};function C(){return Fe===(""+n.data).substr(0,$)}function ee(){return n.data.split("]")[1].split(":")[0]}function ae(){return n.data.substr(n.data.indexOf(":")+1)}function Te(){return!y.exports&&"iFrameResize"in window}function Me(){return n.data.split(":")[2]in{true:1,false:1}}function ke(){var se=ee();se in l?l[se]():!Te()&&!Me()&&E("Unexpected message ("+n.data+")")}function de(){R===!1?ke():Me()?l.init():i('Ignored message of type "'+ee()+'". Received before initialization.')}C()&&de()}function k(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}xe(window,"message",g),k()})()},28:(y,S)=>{var O,j,K;(function(W){if(typeof window>"u")return;var I=0,f=!1,m=!1,s="message",w=s.length,p="[iFrameSizer]",R=p.length,_=null,e=window.requestAnimationFrame,P={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},t={},D=null,Z={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){d("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};function H(i,E,J){"addEventListener"in window?i.addEventListener(E,J,!1):"attachEvent"in window&&i.attachEvent("on"+E,J)}function ge(i,E,J){"removeEventListener"in window?i.removeEventListener(E,J,!1):"detachEvent"in window&&i.detachEvent("on"+E,J)}function ce(){var i=["moz","webkit","o","ms"],E;for(E=0;E<i.length&&!e;E+=1)e=window[i[E]+"RequestAnimationFrame"];e||F("setup","RequestAnimationFrame not supported")}function Fe(i){var E="Host page: "+i;return window.top!==window.self&&(window.parentIFrame&&window.parentIFrame.getId?E=window.parentIFrame.getId()+": "+i:E="Nested host page: "+i),E}function $(i){return p+"["+Fe(i)+"]"}function M(i){return t[i]?t[i].log:f}function F(i,E){b("log",i,E,M(i))}function a(i,E){b("info",i,E,M(i))}function d(i,E){b("warn",i,E,!0)}function b(i,E,J,q){q===!0&&typeof window.console=="object"&&console[i]($(E),J)}function N(i){function E(){function X(){le(Y),ue(U),Ce("resizedCallback",Y)}q("Height"),q("Width"),we(X,Y,"init")}function J(){var X=ne.substr(R).split(":");return{iframe:t[X[0]]&&t[X[0]].iframe,id:X[0],height:X[1],width:X[2],type:X[3]}}function q(X){var ie=Number(t[U]["max"+X]),Ee=Number(t[U]["min"+X]),ve=X.toLowerCase(),Se=Number(Y[ve]);F(U,"Checking "+ve+" is in range "+Ee+"-"+ie),Se<Ee&&(Se=Ee,F(U,"Set "+ve+" to min value")),Se>ie&&(Se=ie,F(U,"Set "+ve+" to max value")),Y[ve]=""+Se}function te(){function X(){function ve(){var Le=0,Be=!1;for(F(U,"Checking connection is from allowed list of origins: "+Ee);Le<Ee.length;Le++)if(Ee[Le]===ie){Be=!0;break}return Be}function Se(){var Le=t[U]&&t[U].remoteHost;return F(U,"Checking connection is from: "+Le),ie===Le}return Ee.constructor===Array?ve():Se()}var ie=i.origin,Ee=t[U]&&t[U].checkOrigin;if(Ee&&""+ie!="null"&&!X())throw new Error("Unexpected message received from: "+ie+" for "+Y.iframe.id+". Message was: "+i.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function me(){return p===(""+ne).substr(0,R)&&ne.substr(R).split(":")[0]in t}function Ie(){var X=Y.type in{true:1,false:1,undefined:1};return X&&F(U,"Ignoring init message from meta parent page"),X}function oe(X){return ne.substr(ne.indexOf(":")+w+X)}function We(X){F(U,"MessageCallback passed: {iframe: "+Y.iframe.id+", message: "+X+"}"),Ce("messageCallback",{iframe:Y.iframe,message:JSON.parse(X)}),F(U,"--")}function u(){var X=document.body.getBoundingClientRect(),ie=Y.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:ie.height,iframeWidth:ie.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(ie.top-X.top,10),offsetLeft:parseInt(ie.left-X.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function L(X,ie){function Ee(){be("Send Page Info","pageInfo:"+u(),X,ie)}Pe(Ee,32)}function r(){function X(Se,Le){function Be(){t[ve]?L(t[ve].iframe,ve):ie()}["scroll","resize"].forEach(function(Xe){F(ve,Se+Xe+" listener for sendPageInfo"),Le(window,Xe,Be)})}function ie(){X("Remove ",ge)}function Ee(){X("Add ",H)}var ve=U;Ee(),t[ve]&&(t[ve].stopPageInfo=ie)}function h(){t[U]&&t[U].stopPageInfo&&(t[U].stopPageInfo(),delete t[U].stopPageInfo)}function o(){var X=!0;return Y.iframe===null&&(d(U,"IFrame ("+Y.id+") not found"),X=!1),X}function v(X){var ie=X.getBoundingClientRect();return z(U),{x:Math.floor(Number(ie.left)+Number(_.x)),y:Math.floor(Number(ie.top)+Number(_.y))}}function T(X){function ie(){_=Le,x(),F(U,"--")}function Ee(){return{x:Number(Y.width)+Se.x,y:Number(Y.height)+Se.y}}function ve(){window.parentIFrame?window.parentIFrame["scrollTo"+(X?"Offset":"")](Le.x,Le.y):d(U,"Unable to scroll to requested position, window.parentIFrame not found")}var Se=X?v(Y.iframe):{x:0,y:0},Le=Ee();F(U,"Reposition requested from iFrame (offset x:"+Se.x+" y:"+Se.y+")"),window.top!==window.self?ve():ie()}function x(){Ce("scrollCallback",_)!==!1?ue(U):fe()}function ye(X){function ie(){var Be=v(Le);F(U,"Moving to in page link (#"+ve+") at x: "+Be.x+" y: "+Be.y),_={x:Be.x,y:Be.y},x(),F(U,"--")}function Ee(){window.parentIFrame?window.parentIFrame.moveToAnchor(ve):F(U,"In page link #"+ve+" not found and window.parentIFrame not found")}var ve=X.split("#")[1]||"",Se=decodeURIComponent(ve),Le=document.getElementById(Se)||document.getElementsByName(Se)[0];Le?ie():window.top!==window.self?Ee():F(U,"In page link #"+ve+" not found")}function Ce(X,ie){return B(U,X,ie)}function Je(){switch(t[U]&&t[U].firstRun&&Ne(),Y.type){case"close":t[U].closeRequestCallback?B(U,"closeRequestCallback",t[U].iframe):A(Y.iframe);break;case"message":We(oe(6));break;case"scrollTo":T(!1);break;case"scrollToOffset":T(!0);break;case"pageInfo":L(t[U]&&t[U].iframe,U),r();break;case"pageInfoStop":h();break;case"inPageLink":ye(oe(9));break;case"reset":ze(Y);break;case"init":E(),Ce("initCallback",Y.iframe);break;default:E()}}function Ze(X){var ie=!0;return t[X]||(ie=!1,d(Y.type+" No settings for "+X+". Message was: "+ne)),ie}function He(){for(var X in t)be("iFrame requested init",_e(X),document.getElementById(X),X)}function Ne(){t[U]&&(t[U].firstRun=!1)}var ne=i.data,Y={},U=null;ne==="[iFrameResizerChild]Ready"?He():me()?(Y=J(),U=Y.id,t[U]&&(t[U].loaded=!0),!Ie()&&Ze(U)&&(F(U,"Received: "+ne),o()&&te()&&Je())):a(U,"Ignored: "+ne)}function B(i,E,J){var q=null,te=null;if(t[i])if(q=t[i][E],typeof q=="function")te=q(J);else throw new TypeError(E+" on iFrame["+i+"] is not a function");return te}function A(i){var E=i.id;F(E,"Removing iFrame: "+E),i.parentNode&&i.parentNode.removeChild(i),B(E,"closedCallback",E),F(E,"--"),delete t[E]}function z(i){_===null&&(_={x:window.pageXOffset!==W?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==W?window.pageYOffset:document.documentElement.scrollTop},F(i,"Get page position: "+_.x+","+_.y))}function ue(i){_!==null&&(window.scrollTo(_.x,_.y),F(i,"Set page position: "+_.x+","+_.y),fe())}function fe(){_=null}function ze(i){function E(){le(i),be("reset","reset",i.iframe,i.id)}F(i.id,"Size reset requested by "+(i.type==="init"?"host page":"iFrame")),z(i.id),we(E,i,"reset")}function le(i){function E(me){i.iframe.style[me]=i[me]+"px",F(i.id,"IFrame ("+te+") "+me+" set to "+i[me]+"px")}function J(me){!m&&i[me]==="0"&&(m=!0,F(te,"Hidden iFrame detected, creating visibility listener"),De())}function q(me){E(me),J(me)}var te=i.iframe.id;t[te]&&(t[te].sizeHeight&&q("height"),t[te].sizeWidth&&q("width"))}function we(i,E,J){J!==E.type&&e?(F(E.id,"Requesting animation frame"),e(i)):i()}function be(i,E,J,q,te){function me(){var L=t[q]&&t[q].targetOrigin;F(q,"["+i+"] Sending msg to iframe["+q+"] ("+E+") targetOrigin: "+L),J.contentWindow.postMessage(p+E,L)}function Ie(){d(q,"["+i+"] IFrame("+q+") not found")}function oe(){J&&"contentWindow"in J&&J.contentWindow!==null?me():Ie()}function We(){function L(){t[q]&&!t[q].loaded&&!u&&(u=!0,d(q,"IFrame has not responded within "+t[q].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}te&&t[q]&&t[q].warningTimeout&&(t[q].msgTimeout=setTimeout(L,t[q].warningTimeout))}var u=!1;q=q||J.id,t[q]&&(oe(),We())}function _e(i){return i+":"+t[i].bodyMarginV1+":"+t[i].sizeWidth+":"+t[i].log+":"+t[i].interval+":"+t[i].enablePublicMethods+":"+t[i].autoResize+":"+t[i].bodyMargin+":"+t[i].heightCalculationMethod+":"+t[i].bodyBackground+":"+t[i].bodyPadding+":"+t[i].tolerance+":"+t[i].inPageLinks+":"+t[i].resizeFrom+":"+t[i].widthCalculationMethod}function Ae(i,E){function J(){function x(Ce){t[T][Ce]!==1/0&&t[T][Ce]!==0&&(i.style[Ce]=t[T][Ce]+"px",F(T,"Set "+Ce+" = "+t[T][Ce]+"px"))}function ye(Ce){if(t[T]["min"+Ce]>t[T]["max"+Ce])throw new Error("Value for min"+Ce+" can not be greater than max"+Ce)}ye("Height"),ye("Width"),x("maxHeight"),x("minHeight"),x("maxWidth"),x("minWidth")}function q(){var x=E&&E.id||Z.id+I++;return document.getElementById(x)!==null&&(x=x+I++),x}function te(x){return x===""&&(i.id=x=q(),f=(E||{}).log,F(x,"Added missing iframe ID: "+x+" ("+i.src+")")),x}function me(){switch(F(T,"IFrame scrolling "+(t[T]&&t[T].scrolling?"enabled":"disabled")+" for "+T),i.style.overflow=(t[T]&&t[T].scrolling)===!1?"hidden":"auto",t[T]&&t[T].scrolling){case!0:i.scrolling="yes";break;case!1:i.scrolling="no";break;default:i.scrolling=t[T]?t[T].scrolling:"no"}}function Ie(){(typeof(t[T]&&t[T].bodyMargin)=="number"||(t[T]&&t[T].bodyMargin)==="0")&&(t[T].bodyMarginV1=t[T].bodyMargin,t[T].bodyMargin=""+t[T].bodyMargin+"px")}function oe(){var x=t[T]&&t[T].firstRun,ye=t[T]&&t[T].heightCalculationMethod in P;!x&&ye&&ze({iframe:i,height:0,width:0,type:"init"})}function We(){Function.prototype.bind&&t[T]&&(t[T].iframe.iFrameResizer={close:A.bind(null,t[T].iframe),resize:be.bind(null,"Window resize","resize",t[T].iframe),moveToAnchor:function(x){be("Move to anchor","moveToAnchor:"+x,t[T].iframe,T)},sendMessage:function(x){x=JSON.stringify(x),be("Send Message","message:"+x,t[T].iframe,T)}})}function u(x){function ye(){be("iFrame.onload",x,i,W,!0),oe()}H(i,"load",ye),be("init",x,i,W,!0)}function L(x){if(typeof x!="object")throw new TypeError("Options is not an object")}function r(x){for(var ye in Z)Z.hasOwnProperty(ye)&&(t[T][ye]=x.hasOwnProperty(ye)?x[ye]:Z[ye])}function h(x){return x===""||x==="file://"?"*":x}function o(x){x=x||{},t[T]={firstRun:!0,iframe:i,remoteHost:i.src.split("/").slice(0,3).join("/")},L(x),r(x),t[T]&&(t[T].targetOrigin=t[T].checkOrigin===!0?h(t[T].remoteHost):"*")}function v(){return T in t&&"iFrameResizer"in i}var T=te(i.id);v()?d(T,"Ignored iFrame, already setup."):(o(E),me(),J(),Ie(),u(_e(T)),We())}function Pe(i,E){D===null&&(D=setTimeout(function(){D=null,i()},E))}function De(){function i(){function te(Ie){function oe(u){return(t[Ie]&&t[Ie].iframe.style[u])==="0px"}function We(u){return u.offsetParent!==null}t[Ie]&&We(t[Ie].iframe)&&(oe("height")||oe("width"))&&be("Visibility change","resize",t[Ie].iframe,Ie)}for(var me in t)te(me)}function E(te){F("window","Mutation observed: "+te[0].target+" "+te[0].type),Pe(i,16)}function J(){var te=document.querySelector("body"),me={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},Ie=new q(E);Ie.observe(te,me)}var q=window.MutationObserver||window.WebKitMutationObserver;q&&J()}function xe(i){function E(){Ue("Window "+i,"resize")}F("window","Trigger event: "+i),Pe(E,16)}function Ve(){function i(){Ue("Tab Visable","resize")}document.visibilityState!=="hidden"&&(F("document","Trigger event: Visiblity change"),Pe(i,16))}function Ue(i,E){function J(te){return t[te]&&t[te].resizeFrom==="parent"&&t[te].autoResize&&!t[te].firstRun}for(var q in t)J(q)&&be(i,E,document.getElementById(q),q)}function Ge(){H(window,"message",N),H(window,"resize",function(){xe("resize")}),H(document,"visibilitychange",Ve),H(document,"-webkit-visibilitychange",Ve),H(window,"focusin",function(){xe("focus")}),H(window,"focus",function(){xe("focus")})}function c(){function i(q,te){function me(){if(te.tagName){if(te.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+te.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}te&&(me(),Ae(te,q),J.push(te))}function E(q){q&&q.enablePublicMethods&&d("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var J;return ce(),Ge(),function(te,me){switch(J=[],E(te),typeof me){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(me||"iframe"),i.bind(W,te));break;case"object":i(te,me);break;default:throw new TypeError("Unexpected data type ("+typeof me+")")}return J}}function V(i){i.fn?i.fn.iFrameResize||(i.fn.iFrameResize=function(J){function q(te,me){Ae(me,J)}return this.filter("iframe").each(q).end()}):a("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&V(window.jQuery),j=[],O=c,K=typeof O=="function"?O.apply(S,j):O,K!==W&&(y.exports=K)})()},683:(y,S,O)=>{S.iframeResizer=O(28),S.iframeResizerContentWindow=O(402)},457:y=>{var S=function(){var O=Math.floor(Math.random()*1000001),j={};function K(s,w,p,R){function _(t){for(var D=0;D<t.length;D++)if(t[D].win===s)return!0;return!1}var e=!1;if(w==="*"){for(var P in j)if(j.hasOwnProperty(P)&&P!=="*"&&typeof j[P][p]=="object"&&(e=_(j[P][p]),e))break}else j["*"]&&j["*"][p]&&(e=_(j["*"][p])),!e&&j[w]&&j[w][p]&&(e=_(j[w][p]));if(e)throw"A channel is already bound to the same window which overlaps with origin '"+w+"' and has scope '"+p+"'";typeof j[w]!="object"&&(j[w]={}),typeof j[w][p]!="object"&&(j[w][p]=[]),j[w][p].push({win:s,handler:R})}function W(s,w,p){for(var R=j[w][p],_=0;_<R.length;_++)R[_].win===s&&R.splice(_,1);j[w][p].length===0&&delete j[w][p]}function I(s){return Array.isArray?Array.isArray(s):s.constructor.toString().indexOf("Array")!=-1}var f={},m=function(s){try{var w=JSON.parse(s.data);if(typeof w!="object"||w===null)throw"malformed"}catch{return}var p=s.source,R=s.origin,_,e,P;if(typeof w.method=="string"){var t=w.method.split("::");t.length==2?(_=t[0],P=t[1]):P=w.method}if(typeof w.id<"u"&&(e=w.id),typeof P=="string"){var D=!1;if(j[R]&&j[R][_]){for(var Z=0;Z<j[R][_].length;Z++)if(j[R][_][Z].win===p){j[R][_][Z].handler(R,P,w),D=!0;break}}if(!D&&j["*"]&&j["*"][_]){for(var Z=0;Z<j["*"][_].length;Z++)if(j["*"][_][Z].win===p){j["*"][_][Z].handler(R,P,w);break}}}else typeof e<"u"&&f[e]&&f[e](R,P,w)};return window.addEventListener?window.addEventListener("message",m,!1):window.attachEvent&&window.attachEvent("onmessage",m),{build:function(s){var w=function(a){if(s.debugOutput&&window.console&&window.console.log){try{typeof a!="string"&&(a=JSON.stringify(a))}catch{}console.log("["+_+"] "+a)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof s!="object")throw"Channel build invoked without a proper object argument";if(!s.window||!s.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===s.window)throw"target window is same as present window -- not allowed";var p=!1;if(typeof s.origin=="string"){var R;s.origin==="*"?p=!0:(R=s.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))!==null&&(s.origin=R[0].toLowerCase(),p=!0)}if(!p)throw"Channel.build() called with an invalid origin";if(typeof s.scope<"u"){if(typeof s.scope!="string")throw"scope, when specified, must be a string";if(s.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var _=function(){for(var a="",d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",b=0;b<5;b++)a+=d.charAt(Math.floor(Math.random()*d.length));return a}(),e={},P={},t={},D=!1,Z=[],H=function(a,d,b){var N=!1,B=!1;return{origin:d,invoke:function(A,z){if(!t[a])throw"attempting to invoke a callback of a nonexistent transaction: "+a;for(var ue=!1,fe=0;fe<b.length;fe++)if(A===b[fe]){ue=!0;break}if(!ue)throw"request supports no such callback '"+A+"'";$({id:a,callback:A,params:z})},error:function(A,z){if(B=!0,!t[a])throw"error called for nonexistent message: "+a;delete t[a],$({id:a,error:A,message:z})},complete:function(A){if(B=!0,!t[a])throw"complete called for nonexistent message: "+a;delete t[a],$({id:a,result:A})},delayReturn:function(A){return typeof A=="boolean"&&(N=A===!0),N},completed:function(){return B}}},ge=function(a,d,b){return window.setTimeout(function(){if(P[a]){var N="timeout ("+d+"ms) exceeded on method '"+b+"'";(0,P[a].error)("timeout_error",N),delete P[a],delete f[a]}},d)},ce=function(a,d,b){if(typeof s.gotMessageObserver=="function")try{s.gotMessageObserver(a,b)}catch(_e){w("gotMessageObserver() raised an exception: "+_e.toString())}if(b.id&&d){if(e[d]){var N=H(b.id,a,b.callbacks?b.callbacks:[]);t[b.id]={};try{if(b.callbacks&&I(b.callbacks)&&b.callbacks.length>0)for(var B=0;B<b.callbacks.length;B++){for(var A=b.callbacks[B],z=b.params,ue=A.split("/"),fe=0;fe<ue.length-1;fe++){var ze=ue[fe];typeof z[ze]!="object"&&(z[ze]={}),z=z[ze]}z[ue[ue.length-1]]=function(){var _e=A;return function(Ae){return N.invoke(_e,Ae)}}()}var le=e[d](N,b.params);!N.delayReturn()&&!N.completed()&&N.complete(le)}catch(_e){var we="runtime_error",be=null;if(typeof _e=="string"?be=_e:typeof _e=="object"&&(_e&&I(_e)&&_e.length==2?(we=_e[0],be=_e[1]):typeof _e.error=="string"&&(we=_e.error,_e.message?typeof _e.message=="string"?be=_e.message:_e=_e.message:be="")),be===null)try{be=JSON.stringify(_e),typeof be>"u"&&(be=_e.toString())}catch{be=_e.toString()}N.error(we,be)}}}else b.id&&b.callback?!P[b.id]||!P[b.id].callbacks||!P[b.id].callbacks[b.callback]?w("ignoring invalid callback, id:"+b.id+" ("+b.callback+")"):P[b.id].callbacks[b.callback](b.params):b.id?P[b.id]?(b.error?(0,P[b.id].error)(b.error,b.message):b.result!==void 0?(0,P[b.id].success)(b.result):(0,P[b.id].success)(),delete P[b.id],delete f[b.id]):w("ignoring invalid response: "+b.id):d&&e[d]&&e[d]({origin:a},b.params)};K(s.window,s.origin,typeof s.scope=="string"?s.scope:"",ce);var Fe=function(a){return typeof s.scope=="string"&&s.scope.length&&(a=[s.scope,a].join("::")),a},$=function(a,d){if(!a)throw"postMessage called with null message";var b=D?"post  ":"queue ";if(w(b+" message: "+JSON.stringify(a)),!d&&!D)Z.push(a);else{if(typeof s.postMessageObserver=="function")try{s.postMessageObserver(s.origin,a)}catch(N){w("postMessageObserver() raised an exception: "+N.toString())}s.window.postMessage(JSON.stringify(a),s.origin)}},M=function(a,d){if(w("ready msg received"),D)throw"received ready message while in ready state.  help!";for(d==="ping"?_+="-R":_+="-L",F.unbind("__ready"),D=!0,w("ready msg accepted."),d==="ping"&&F.notify({method:"__ready",params:"pong"});Z.length;)$(Z.pop());typeof s.onReady=="function"&&s.onReady(F)},F={unbind:function(a){if(e[a]){if(!delete e[a])throw"can't delete method: "+a;return!0}return!1},bind:function(a,d){if(!a||typeof a!="string")throw"'method' argument to bind must be string";if(!d||typeof d!="function")throw"callback missing from bind params";if(e[a])throw"method '"+a+"' is already bound!";return e[a]=d,this},call:function(a){if(!a)throw"missing arguments to call function";if(!a.method||typeof a.method!="string")throw"'method' argument to call must be string";if(!a.success||typeof a.success!="function")throw"'success' callback missing from call";var d={},b=[],N=[],B=function(z,ue){if(N.indexOf(ue)>=0)throw"params cannot be a recursive data structure";if(N.push(ue),typeof ue=="object"){for(var fe in ue)if(ue.hasOwnProperty(fe)){var ze=z+(z.length?"/":"")+fe;typeof ue[fe]=="function"?(d[ze]=ue[fe],b.push(ze),delete ue[fe]):typeof ue[fe]=="object"&&ue[fe]!==null&&B(ze,ue[fe])}}};B("",a.params);var A={id:O,method:Fe(a.method),params:a.params};b.length&&(A.callbacks=b),a.timeout&&ge(O,a.timeout,Fe(a.method)),P[O]={callbacks:d,error:a.error,success:a.success},f[O]=ce,O++,$(A)},notify:function(a){if(!a)throw"missing arguments to notify function";if(!a.method||typeof a.method!="string")throw"'method' argument to notify must be string";$({method:Fe(a.method),params:a.params})},destroy:function(){W(s.window,s.origin,typeof s.scope=="string"?s.scope:""),window.removeEventListener?window.removeEventListener("message",ce,!1):window.detachEvent&&window.detachEvent("onmessage",ce),D=!1,e={},t={},P={},s.origin=null,Z=[],w("channel destroyed"),_=""}};return F.bind("__ready",M),setTimeout(function(){$({method:Fe("__ready"),params:"ping"},!0)},0),F}}}();y.exports=S},705:(y,S,O)=>{var j=O(639),K=j.Symbol;y.exports=K},239:(y,S,O)=>{var j=O(705),K=O(607),W=O(333),I="[object Null]",f="[object Undefined]",m=j?j.toStringTag:void 0;function s(w){return w==null?w===void 0?f:I:m&&m in Object(w)?K(w):W(w)}y.exports=s},957:(y,S,O)=>{var j=typeof O.g=="object"&&O.g&&O.g.Object===Object&&O.g;y.exports=j},924:(y,S,O)=>{var j=O(569),K=j(Object.getPrototypeOf,Object);y.exports=K},607:(y,S,O)=>{var j=O(705),K=Object.prototype,W=K.hasOwnProperty,I=K.toString,f=j?j.toStringTag:void 0;function m(s){var w=W.call(s,f),p=s[f];try{s[f]=void 0;var R=!0}catch{}var _=I.call(s);return R&&(w?s[f]=p:delete s[f]),_}y.exports=m},333:y=>{var S=Object.prototype,O=S.toString;function j(K){return O.call(K)}y.exports=j},569:y=>{function S(O,j){return function(K){return O(j(K))}}y.exports=S},639:(y,S,O)=>{var j=O(957),K=typeof self=="object"&&self&&self.Object===Object&&self,W=j||K||Function("return this")();y.exports=W},469:y=>{var S=Array.isArray;y.exports=S},5:y=>{function S(O){return O!=null&&typeof O=="object"}y.exports=S},630:(y,S,O)=>{var j=O(239),K=O(924),W=O(5),I="[object Object]",f=Function.prototype,m=Object.prototype,s=f.toString,w=m.hasOwnProperty,p=s.call(Object);function R(_){if(!W(_)||j(_)!=I)return!1;var e=K(_);if(e===null)return!0;var P=w.call(e,"constructor")&&e.constructor;return typeof P=="function"&&P instanceof P&&s.call(P)==p}y.exports=R},37:(y,S,O)=>{var j=O(239),K=O(469),W=O(5),I="[object String]";function f(m){return typeof m=="string"||!K(m)&&W(m)&&j(m)==I}y.exports=f},353:y=>{function S(O){return O===void 0}y.exports=S}},re={};function he(y){var S=re[y];if(S!==void 0)return S.exports;var O=re[y]={exports:{}};return G[y].call(O.exports,O,O.exports,he),O.exports}he.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var Q=he(541);Re.Addon=Q})()})(wt);(()=>{var Re={669:(he,Q,y)=>{var S=y(218),O=w(S),j=function(){function P(t,D){for(var Z=0;Z<D.length;Z++){var H=D[Z];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(t,H.key,H)}}return function(t,D,Z){return D&&P(t.prototype,D),Z&&P(t,Z),t}}(),K=y(457),W=w(K),I=y(729),f=w(I),m=y(702),s=y(303);function w(P){return P&&P.__esModule?P:{default:P}}function p(P,t){if(!(P instanceof t))throw new TypeError("Cannot call a class as a function")}function R(P,t){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:P}function _(P,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);P.prototype=Object.create(t&&t.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(P,t):P.__proto__=t)}var e=function(P){_(t,P);function t(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};p(this,t);var Z=R(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(Z.options=D,!D.iframe)throw new Error("Iframe not defined");return(0,s.iframeResizer)({checkOrigin:!0,heightCalculationMethod:window.ieVersion<=10?"max":"lowestElement",resizeFrom:"child",resizedCallback:function(ge){Z.emit("iframeResized",ge)}},D.iframe),Z.channel=W.default.build({window:D.iframe.contentWindow,origin:D.origin||"*",scope:D.id||D.iframe.contentWindow.location.origin,postMessageObserver:function(ge,ce){Z.emit("postMessage",ge,ce)},gotMessageObserver:function(ge,ce){Z.emit("gotMessage",ge,ce)}}),["saveData","request","addTransaction","editTransaction","addInstitution","addInvestment","editInstitution","editAsset","editLiability","deleteInstitution","deleteAsset","deleteLiability","downloadDocument","upgradePremium","getSharings","switchUser"].forEach(function(H){Z.channel.bind(H,function(ge,ce){var Fe=H,$=ce;ge.delayReturn(!0);var M=function(a,d){return a?ge.error(a):ge.complete(d)};Z.emit(Fe,$||M,$?M:void 0)})}),Z.channel.call({method:"init",params:D.options,success:function(ge){Z.emit("init",ge)}}),Z}return j(t,[{key:"trigger",value:function(Z,H){var ge=this,ce={eventName:Z};return H&&(ce.eventData=H),new m.Promise(function(Fe,$){ge.channel.call({method:"_event",params:ce,success:Fe,error:$})})}},{key:"update",value:function(Z){var H=this;return new m.Promise(function(ge,ce){if(!(0,O.default)(Z))throw new Error("Data must be an object");H.channel.call({method:"update",params:Z,success:ge,error:ce})})}},{key:"reload",value:function(){var Z=this;return new m.Promise(function(H,ge){Z.channel.call({method:"reload",success:H,error:ge})})}},{key:"destroy",value:function(){this.channel.destroy()}}]),t}(f.default);he.exports=e},702:function(he,Q,y){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(S,O){he.exports=O()})(this,function(){function S(u){var L=typeof u;return u!==null&&(L==="object"||L==="function")}function O(u){return typeof u=="function"}var j=void 0;Array.isArray?j=Array.isArray:j=function(u){return Object.prototype.toString.call(u)==="[object Array]"};var K=j,W=0,I=void 0,f=void 0,m=function(L,r){ce[W]=L,ce[W+1]=r,W+=2,W===2&&(f?f(Fe):M())};function s(u){f=u}function w(u){m=u}var p=typeof window<"u"?window:void 0,R=p||{},_=R.MutationObserver||R.WebKitMutationObserver,e=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",P=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function t(){return function(){return process.nextTick(Fe)}}function D(){return typeof I<"u"?function(){I(Fe)}:ge()}function Z(){var u=0,L=new _(Fe),r=document.createTextNode("");return L.observe(r,{characterData:!0}),function(){r.data=u=++u%2}}function H(){var u=new MessageChannel;return u.port1.onmessage=Fe,function(){return u.port2.postMessage(0)}}function ge(){var u=setTimeout;return function(){return u(Fe,1)}}var ce=new Array(1e3);function Fe(){for(var u=0;u<W;u+=2){var L=ce[u],r=ce[u+1];L(r),ce[u]=void 0,ce[u+1]=void 0}W=0}function $(){try{var u=Function("return this")().require("vertx");return I=u.runOnLoop||u.runOnContext,D()}catch{return ge()}}var M=void 0;e?M=t():_?M=Z():P?M=H():p===void 0?M=$():M=ge();function F(u,L){var r=this,h=new this.constructor(b);h[d]===void 0&&V(h);var o=r._state;if(o){var v=arguments[o-1];m(function(){return Ve(o,h,v,r._result)})}else De(r,h,u,L);return h}function a(u){var L=this;if(u&&typeof u=="object"&&u.constructor===L)return u;var r=new L(b);return be(r,u),r}var d=Math.random().toString(36).substring(2);function b(){}var N=void 0,B=1,A=2;function z(){return new TypeError("You cannot resolve a promise with itself")}function ue(){return new TypeError("A promises callback cannot return that same promise.")}function fe(u,L,r,h){try{u.call(L,r,h)}catch(o){return o}}function ze(u,L,r){m(function(h){var o=!1,v=fe(r,L,function(T){o||(o=!0,L!==T?be(h,T):Ae(h,T))},function(T){o||(o=!0,Pe(h,T))},"Settle: "+(h._label||" unknown promise"));!o&&v&&(o=!0,Pe(h,v))},u)}function le(u,L){L._state===B?Ae(u,L._result):L._state===A?Pe(u,L._result):De(L,void 0,function(r){return be(u,r)},function(r){return Pe(u,r)})}function we(u,L,r){L.constructor===u.constructor&&r===F&&L.constructor.resolve===a?le(u,L):r===void 0?Ae(u,L):O(r)?ze(u,L,r):Ae(u,L)}function be(u,L){if(u===L)Pe(u,z());else if(S(L)){var r=void 0;try{r=L.then}catch(h){Pe(u,h);return}we(u,L,r)}else Ae(u,L)}function _e(u){u._onerror&&u._onerror(u._result),xe(u)}function Ae(u,L){u._state===N&&(u._result=L,u._state=B,u._subscribers.length!==0&&m(xe,u))}function Pe(u,L){u._state===N&&(u._state=A,u._result=L,m(_e,u))}function De(u,L,r,h){var o=u._subscribers,v=o.length;u._onerror=null,o[v]=L,o[v+B]=r,o[v+A]=h,v===0&&u._state&&m(xe,u)}function xe(u){var L=u._subscribers,r=u._state;if(L.length!==0){for(var h=void 0,o=void 0,v=u._result,T=0;T<L.length;T+=3)h=L[T],o=L[T+r],h?Ve(r,h,o,v):o(v);u._subscribers.length=0}}function Ve(u,L,r,h){var o=O(r),v=void 0,T=void 0,x=!0;if(o){try{v=r(h)}catch(ye){x=!1,T=ye}if(L===v){Pe(L,ue());return}}else v=h;L._state!==N||(o&&x?be(L,v):x===!1?Pe(L,T):u===B?Ae(L,v):u===A&&Pe(L,v))}function Ue(u,L){try{L(function(h){be(u,h)},function(h){Pe(u,h)})}catch(r){Pe(u,r)}}var Ge=0;function c(){return Ge++}function V(u){u[d]=Ge++,u._state=void 0,u._result=void 0,u._subscribers=[]}function i(){return new Error("Array Methods must be provided an Array")}var E=function(){function u(L,r){this._instanceConstructor=L,this.promise=new L(b),this.promise[d]||V(this.promise),K(r)?(this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),this.length===0?Ae(this.promise,this._result):(this.length=this.length||0,this._enumerate(r),this._remaining===0&&Ae(this.promise,this._result))):Pe(this.promise,i())}return u.prototype._enumerate=function(r){for(var h=0;this._state===N&&h<r.length;h++)this._eachEntry(r[h],h)},u.prototype._eachEntry=function(r,h){var o=this._instanceConstructor,v=o.resolve;if(v===a){var T=void 0,x=void 0,ye=!1;try{T=r.then}catch(Je){ye=!0,x=Je}if(T===F&&r._state!==N)this._settledAt(r._state,h,r._result);else if(typeof T!="function")this._remaining--,this._result[h]=r;else if(o===oe){var Ce=new o(b);ye?Pe(Ce,x):we(Ce,r,T),this._willSettleAt(Ce,h)}else this._willSettleAt(new o(function(Je){return Je(r)}),h)}else this._willSettleAt(v(r),h)},u.prototype._settledAt=function(r,h,o){var v=this.promise;v._state===N&&(this._remaining--,r===A?Pe(v,o):this._result[h]=o),this._remaining===0&&Ae(v,this._result)},u.prototype._willSettleAt=function(r,h){var o=this;De(r,void 0,function(v){return o._settledAt(B,h,v)},function(v){return o._settledAt(A,h,v)})},u}();function J(u){return new E(this,u).promise}function q(u){var L=this;return K(u)?new L(function(r,h){for(var o=u.length,v=0;v<o;v++)L.resolve(u[v]).then(r,h)}):new L(function(r,h){return h(new TypeError("You must pass an array to race."))})}function te(u){var L=this,r=new L(b);return Pe(r,u),r}function me(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ie(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var oe=function(){function u(L){this[d]=c(),this._result=this._state=void 0,this._subscribers=[],b!==L&&(typeof L!="function"&&me(),this instanceof u?Ue(this,L):Ie())}return u.prototype.catch=function(r){return this.then(null,r)},u.prototype.finally=function(r){var h=this,o=h.constructor;return O(r)?h.then(function(v){return o.resolve(r()).then(function(){return v})},function(v){return o.resolve(r()).then(function(){throw v})}):h.then(r,r)},u}();oe.prototype.then=F,oe.all=J,oe.race=q,oe.resolve=a,oe.reject=te,oe._setScheduler=s,oe._setAsap=w,oe._asap=m;function We(){var u=void 0;if(typeof y.g<"u")u=y.g;else if(typeof self<"u")u=self;else try{u=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var L=u.Promise;if(L){var r=null;try{r=Object.prototype.toString.call(L.resolve())}catch{}if(r==="[object Promise]"&&!L.cast)return}u.Promise=oe}return oe.polyfill=We,oe.Promise=oe,oe})},729:he=>{var Q=Object.prototype.hasOwnProperty,y="~";function S(){}Object.create&&(S.prototype=Object.create(null),new S().__proto__||(y=!1));function O(I,f,m){this.fn=I,this.context=f,this.once=m||!1}function j(I,f,m,s,w){if(typeof m!="function")throw new TypeError("The listener must be a function");var p=new O(m,s||I,w),R=y?y+f:f;return I._events[R]?I._events[R].fn?I._events[R]=[I._events[R],p]:I._events[R].push(p):(I._events[R]=p,I._eventsCount++),I}function K(I,f){--I._eventsCount===0?I._events=new S:delete I._events[f]}function W(){this._events=new S,this._eventsCount=0}W.prototype.eventNames=function(){var f=[],m,s;if(this._eventsCount===0)return f;for(s in m=this._events)Q.call(m,s)&&f.push(y?s.slice(1):s);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},W.prototype.listeners=function(f){var m=y?y+f:f,s=this._events[m];if(!s)return[];if(s.fn)return[s.fn];for(var w=0,p=s.length,R=new Array(p);w<p;w++)R[w]=s[w].fn;return R},W.prototype.listenerCount=function(f){var m=y?y+f:f,s=this._events[m];return s?s.fn?1:s.length:0},W.prototype.emit=function(f,m,s,w,p,R){var _=y?y+f:f;if(!this._events[_])return!1;var e=this._events[_],P=arguments.length,t,D;if(e.fn){switch(e.once&&this.removeListener(f,e.fn,void 0,!0),P){case 1:return e.fn.call(e.context),!0;case 2:return e.fn.call(e.context,m),!0;case 3:return e.fn.call(e.context,m,s),!0;case 4:return e.fn.call(e.context,m,s,w),!0;case 5:return e.fn.call(e.context,m,s,w,p),!0;case 6:return e.fn.call(e.context,m,s,w,p,R),!0}for(D=1,t=new Array(P-1);D<P;D++)t[D-1]=arguments[D];e.fn.apply(e.context,t)}else{var Z=e.length,H;for(D=0;D<Z;D++)switch(e[D].once&&this.removeListener(f,e[D].fn,void 0,!0),P){case 1:e[D].fn.call(e[D].context);break;case 2:e[D].fn.call(e[D].context,m);break;case 3:e[D].fn.call(e[D].context,m,s);break;case 4:e[D].fn.call(e[D].context,m,s,w);break;default:if(!t)for(H=1,t=new Array(P-1);H<P;H++)t[H-1]=arguments[H];e[D].fn.apply(e[D].context,t)}}return!0},W.prototype.on=function(f,m,s){return j(this,f,m,s,!1)},W.prototype.once=function(f,m,s){return j(this,f,m,s,!0)},W.prototype.removeListener=function(f,m,s,w){var p=y?y+f:f;if(!this._events[p])return this;if(!m)return K(this,p),this;var R=this._events[p];if(R.fn)R.fn===m&&(!w||R.once)&&(!s||R.context===s)&&K(this,p);else{for(var _=0,e=[],P=R.length;_<P;_++)(R[_].fn!==m||w&&!R[_].once||s&&R[_].context!==s)&&e.push(R[_]);e.length?this._events[p]=e.length===1?e[0]:e:K(this,p)}return this},W.prototype.removeAllListeners=function(f){var m;return f?(m=y?y+f:f,this._events[m]&&K(this,m)):(this._events=new S,this._eventsCount=0),this},W.prototype.off=W.prototype.removeListener,W.prototype.addListener=W.prototype.on,W.prefixed=y,W.EventEmitter=W,he.exports=W},303:(he,Q,y)=>{he.exports=y(683)},402:he=>{(function(Q){if(typeof window>"u")return;var y=!0,S=10,O="",j=0,K="",W=null,I="",f=!1,m={resize:1,click:1},s=128,w=!0,p=1,R="bodyOffset",_=R,e=!0,P="",t={},D=32,Z=null,H=!1,ge="[iFrameSizer]",ce=ge.length,Fe="",$={max:1,min:1,bodyScroll:1,documentElementScroll:1},M="child",F=!0,a=window.parent,d="*",b=0,N=!1,B=null,A=16,z=1,ue="scroll",fe=ue,ze=window,le=function(){V("MessageCallback function not defined")},we=function(){},be=function(){},_e={height:function(){return V("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return V("Custom width calculation function not defined"),document.body.scrollWidth}},Ae={};function Pe(g,k,n){"addEventListener"in window?g.addEventListener(k,n,!1):"attachEvent"in window&&g.attachEvent("on"+k,n)}function De(g,k,n){"removeEventListener"in window?g.removeEventListener(k,n,!1):"detachEvent"in window&&g.detachEvent("on"+k,n)}function xe(g){return g.charAt(0).toUpperCase()+g.slice(1)}function Ve(g){var k,n,l,C=null,ee=0,ae=function(){ee=Ue(),C=null,l=g.apply(k,n),C||(k=n=null)};return function(){var Te=Ue();ee||(ee=Te);var Me=A-(Te-ee);return k=this,n=arguments,Me<=0||Me>A?(C&&(clearTimeout(C),C=null),ee=Te,l=g.apply(k,n),C||(k=n=null)):C||(C=setTimeout(ae,Me)),l}}var Ue=Date.now||function(){return new Date().getTime()};function Ge(g){return ge+"["+Fe+"] "+g}function c(g){H&&typeof window.console=="object"&&console.log(Ge(g))}function V(g){typeof window.console=="object"&&console.warn(Ge(g))}function i(){E(),c("Initialising iFrame ("+location.href+")"),J(),me(),te("background",O),te("padding",I),Ce(),L(),r(),Ie(),Ze(),h(),t=Je(),tt("init","Init message from host page"),we()}function E(){function g(n){return n==="true"}var k=P.substr(ce).split(":");Fe=k[0],j=Q!==k[1]?Number(k[1]):j,f=Q!==k[2]?g(k[2]):f,H=Q!==k[3]?g(k[3]):H,D=Q!==k[4]?Number(k[4]):D,y=Q!==k[6]?g(k[6]):y,K=k[7],_=Q!==k[8]?k[8]:_,O=k[9],I=k[10],b=Q!==k[11]?Number(k[11]):b,t.enable=Q!==k[12]?g(k[12]):!1,M=Q!==k[13]?k[13]:M,fe=Q!==k[14]?k[14]:fe}function J(){function g(){var n=window.iFrameResizer;c("Reading data from page: "+JSON.stringify(n)),le="messageCallback"in n?n.messageCallback:le,we="readyCallback"in n?n.readyCallback:we,d="targetOrigin"in n?n.targetOrigin:d,_="heightCalculationMethod"in n?n.heightCalculationMethod:_,fe="widthCalculationMethod"in n?n.widthCalculationMethod:fe}function k(n,l){return typeof n=="function"&&(c("Setup custom "+l+"CalcMethod"),_e[l]=n,n="custom"),n}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(g(),_=k(_,"height"),fe=k(fe,"width")),c("TargetOrigin for parent set to: "+d)}function q(g,k){return k.indexOf("-")!==-1&&(V("Negative CSS value ignored for "+g),k=""),k}function te(g,k){Q!==k&&k!==""&&k!=="null"&&(document.body.style[g]=k,c("Body "+g+' set to "'+k+'"'))}function me(){Q===K&&(K=j+"px"),te("margin",q("margin",K))}function Ie(){document.documentElement.style.height="",document.body.style.height="",c('HTML & body height set to "auto"')}function oe(g){var k={add:function(n){function l(){tt(g.eventName,g.eventType)}Ae[n]=l,Pe(window,n,l)},remove:function(n){var l=Ae[n];delete Ae[n],De(window,n,l)}};g.eventNames&&Array.prototype.map?(g.eventName=g.eventNames[0],g.eventNames.map(k[g.method])):k[g.method](g.eventName),c(xe(g.method)+" event listener: "+g.eventType)}function We(g){oe({method:g,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),oe({method:g,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),oe({method:g,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),oe({method:g,eventType:"Input",eventName:"input"}),oe({method:g,eventType:"Mouse Up",eventName:"mouseup"}),oe({method:g,eventType:"Mouse Down",eventName:"mousedown"}),oe({method:g,eventType:"Orientation Change",eventName:"orientationchange"}),oe({method:g,eventType:"Print",eventName:["afterprint","beforeprint"]}),oe({method:g,eventType:"Ready State Change",eventName:"readystatechange"}),oe({method:g,eventType:"Touch Start",eventName:"touchstart"}),oe({method:g,eventType:"Touch End",eventName:"touchend"}),oe({method:g,eventType:"Touch Cancel",eventName:"touchcancel"}),oe({method:g,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),oe({method:g,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),oe({method:g,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),M==="child"&&oe({method:g,eventType:"IFrame Resized",eventName:"resize"})}function u(g,k,n,l){return k!==g&&(g in n||(V(g+" is not a valid option for "+l+"CalculationMethod."),g=k),c(l+' calculation method set to "'+g+'"')),g}function L(){_=u(_,R,Se,"height")}function r(){fe=u(fe,ue,Le,"width")}function h(){y===!0?(We("add"),ne()):c("Auto Resize disabled")}function o(){c("Disable outgoing messages"),F=!1}function v(){c("Remove event listener: Message"),De(window,"message",ut)}function T(){W!==null&&W.disconnect()}function x(){We("remove"),T(),clearInterval(Z)}function ye(){o(),v(),y===!0&&x()}function Ce(){var g=document.createElement("div");g.style.clear="both",g.style.display="block",document.body.appendChild(g)}function Je(){function g(){return{x:window.pageXOffset!==Q?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==Q?window.pageYOffset:document.documentElement.scrollTop}}function k(Me){var ke=Me.getBoundingClientRect(),de=g();return{x:parseInt(ke.left,10)+parseInt(de.x,10),y:parseInt(ke.top,10)+parseInt(de.y,10)}}function n(Me){function ke(pe){var qe=k(pe);c("Moving to in page link (#"+de+") at x: "+qe.x+" y: "+qe.y),Ye(qe.y,qe.x,"scrollToOffset")}var de=Me.split("#")[1]||Me,se=decodeURIComponent(de),Oe=document.getElementById(se)||document.getElementsByName(se)[0];Q!==Oe?ke(Oe):(c("In page link (#"+de+") not found in iFrame, so sending to parent"),Ye(0,0,"inPageLink","#"+de))}function l(){location.hash!==""&&location.hash!=="#"&&n(location.href)}function C(){function Me(ke){function de(se){se.preventDefault(),n(this.getAttribute("href"))}ke.getAttribute("href")!=="#"&&Pe(ke,"click",de)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),Me)}function ee(){Pe(window,"hashchange",l)}function ae(){setTimeout(l,s)}function Te(){Array.prototype.forEach&&document.querySelectorAll?(c("Setting up location.hash handlers"),C(),ee(),ae()):V("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return t.enable?Te():c("In page linking not enabled"),{findTarget:n}}function Ze(){c("Enable public methods"),ze.parentIFrame={autoResize:function(k){return k===!0&&y===!1?(y=!0,h()):k===!1&&y===!0&&(y=!1,x()),y},close:function(){Ye(0,0,"close"),ye()},getId:function(){return Fe},getPageInfo:function(k){typeof k=="function"?(be=k,Ye(0,0,"pageInfo")):(be=function(){},Ye(0,0,"pageInfoStop"))},moveToAnchor:function(k){t.findTarget(k)},reset:function(){st("parentIFrame.reset")},scrollTo:function(k,n){Ye(n,k,"scrollTo")},scrollToOffset:function(k,n){Ye(n,k,"scrollToOffset")},sendMessage:function(k,n){Ye(0,0,"message",JSON.stringify(k),n)},setHeightCalculationMethod:function(k){_=k,L()},setWidthCalculationMethod:function(k){fe=k,r()},setTargetOrigin:function(k){c("Set targetOrigin: "+k),d=k},size:function(k,n){var l=""+(k||"")+(n?","+n:"");tt("size","parentIFrame.size("+l+")",k,n)}}}function He(){D!==0&&(c("setInterval: "+D+"ms"),Z=setInterval(function(){tt("interval","setInterval: "+D)},Math.abs(D)))}function Ne(){function g(se){function Oe(pe){pe.complete===!1&&(c("Attach listeners to "+pe.src),pe.addEventListener("load",C,!1),pe.addEventListener("error",ee,!1),Me.push(pe))}se.type==="attributes"&&se.attributeName==="src"?Oe(se.target):se.type==="childList"&&Array.prototype.forEach.call(se.target.querySelectorAll("img"),Oe)}function k(se){Me.splice(Me.indexOf(se),1)}function n(se){c("Remove listeners from "+se.src),se.removeEventListener("load",C,!1),se.removeEventListener("error",ee,!1),k(se)}function l(se,Oe,pe){n(se.target),tt(Oe,pe+": "+se.target.src,Q,Q)}function C(se){l(se,"imageLoad","Image loaded")}function ee(se){l(se,"imageLoadFailed","Image load failed")}function ae(se){tt("mutationObserver","mutationObserver: "+se[0].target+" "+se[0].type),se.forEach(g)}function Te(){var se=document.querySelector("body"),Oe={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return de=new ke(ae),c("Create body MutationObserver"),de.observe(se,Oe),de}var Me=[],ke=window.MutationObserver||window.WebKitMutationObserver,de=Te();return{disconnect:function(){"disconnect"in de&&(c("Disconnect body MutationObserver"),de.disconnect(),Me.forEach(n))}}}function ne(){var g=0>D;window.MutationObserver||window.WebKitMutationObserver?g?He():W=Ne():(c("MutationObserver not supported in this browser!"),He())}function Y(g,k){function n(C){var ee=/^\d+(px)?$/i;if(ee.test(C))return parseInt(C,S);var ae=k.style.left,Te=k.runtimeStyle.left;return k.runtimeStyle.left=k.currentStyle.left,k.style.left=C||0,C=k.style.pixelLeft,k.style.left=ae,k.runtimeStyle.left=Te,C}var l=0;return k=k||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(l=document.defaultView.getComputedStyle(k,null),l=l!==null?l[g]:0):l=n(k.currentStyle[g]),parseInt(l,S)}function U(g){g>A/2&&(A=2*g,c("Event throttle increased to "+A+"ms"))}function X(g,k){for(var n=k.length,l=0,C=0,ee=xe(g),ae=Ue(),Te=0;Te<n;Te++)l=k[Te].getBoundingClientRect()[g]+Y("margin"+ee,k[Te]),l>C&&(C=l);return ae=Ue()-ae,c("Parsed "+n+" HTML elements"),c("Element position calculated in "+ae+"ms"),U(ae),C}function ie(g){return[g.bodyOffset(),g.bodyScroll(),g.documentElementOffset(),g.documentElementScroll()]}function Ee(g,k){function n(){return V("No tagged elements ("+k+") found on page"),document.querySelectorAll("body *")}var l=document.querySelectorAll("["+k+"]");return l.length===0&&n(),X(g,l)}function ve(){return document.querySelectorAll("body *")}var Se={bodyOffset:function(){return document.body.offsetHeight+Y("marginTop")+Y("marginBottom")},offset:function(){return Se.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return _e.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,ie(Se))},min:function(){return Math.min.apply(null,ie(Se))},grow:function(){return Se.max()},lowestElement:function(){return Math.max(Se.bodyOffset(),X("bottom",ve()))},taggedElement:function(){return Ee("bottom","data-iframe-height")}},Le={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return _e.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Le.bodyScroll(),Le.documentElementScroll())},max:function(){return Math.max.apply(null,ie(Le))},min:function(){return Math.min.apply(null,ie(Le))},rightMostElement:function(){return X("right",ve())},taggedElement:function(){return Ee("right","data-iframe-width")}};function Be(g,k,n,l){function C(){p=de,z=se,Ye(p,z,g)}function ee(){function Oe(pe,qe){var Ke=Math.abs(pe-qe)<=b;return!Ke}return de=Q!==n?n:Se[_](),se=Q!==l?l:Le[fe](),Oe(p,de)||f&&Oe(z,se)}function ae(){return!(g in{init:1,interval:1,size:1})}function Te(){return _ in $||f&&fe in $}function Me(){c("No change in size detected")}function ke(){ae()&&Te()?st(k):g in{interval:1}||Me()}var de,se;ee()||g==="init"?(ft(),C()):ke()}var Xe=Ve(Be);function tt(g,k,n,l){function C(){g in{reset:1,resetPage:1,init:1}||c("Trigger event: "+k)}function ee(){return N&&g in m}ee()?c("Trigger event cancelled: "+g):(C(),Xe(g,k,n,l))}function ft(){N||(N=!0,c("Trigger event lock on")),clearTimeout(B),B=setTimeout(function(){N=!1,c("Trigger event lock off"),c("--")},s)}function $e(g){p=Se[_](),z=Le[fe](),Ye(p,z,g)}function st(g){var k=_;_=R,c("Reset trigger event: "+g),ft(),$e("reset"),_=k}function Ye(g,k,n,l,C){function ee(){Q===C?C=d:c("Message targetOrigin: "+C)}function ae(){var Te=g+":"+k,Me=Fe+":"+Te+":"+n+(Q!==l?":"+l:"");c("Sending message to host page ("+Me+")"),a.postMessage(ge+Me,C)}F===!0&&(ee(),ae())}function ut(g){var k={init:function(){function de(){P=g.data,a=g.source,i(),w=!1,setTimeout(function(){e=!1},s)}document.readyState==="interactive"||document.readyState==="complete"?de():(c("Waiting for page ready"),Pe(window,"readystatechange",k.initFromParent))},reset:function(){e?c("Page reset ignored by init"):(c("Page size reset by host page"),$e("resetPage"))},resize:function(){tt("resizeParent","Parent window requested size check")},moveToAnchor:function(){t.findTarget(C())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var de=C();c("PageInfoFromParent called from parent: "+de),be(JSON.parse(de)),c(" --")},message:function(){var de=C();c("MessageCallback called from parent: "+de),le(JSON.parse(de)),c(" --")}};function n(){return ge===(""+g.data).substr(0,ce)}function l(){return g.data.split("]")[1].split(":")[0]}function C(){return g.data.substr(g.data.indexOf(":")+1)}function ee(){return!he.exports&&"iFrameResize"in window}function ae(){return g.data.split(":")[2]in{true:1,false:1}}function Te(){var ke=l();ke in k?k[ke]():!ee()&&!ae()&&V("Unexpected message ("+g.data+")")}function Me(){w===!1?Te():ae()?k.init():c('Ignored message of type "'+l()+'". Received before initialization.')}n()&&Me()}function Qe(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}Pe(window,"message",ut),Qe()})()},28:(he,Q)=>{var y,S,O;(function(j){if(typeof window>"u")return;var K=0,W=!1,I=!1,f="message",m=f.length,s="[iFrameSizer]",w=s.length,p=null,R=window.requestAnimationFrame,_={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},e={},P=null,t={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){F("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};function D(c,V,i){"addEventListener"in window?c.addEventListener(V,i,!1):"attachEvent"in window&&c.attachEvent("on"+V,i)}function Z(c,V,i){"removeEventListener"in window?c.removeEventListener(V,i,!1):"detachEvent"in window&&c.detachEvent("on"+V,i)}function H(){var c=["moz","webkit","o","ms"],V;for(V=0;V<c.length&&!R;V+=1)R=window[c[V]+"RequestAnimationFrame"];R||$("setup","RequestAnimationFrame not supported")}function ge(c){var V="Host page: "+c;return window.top!==window.self&&(window.parentIFrame&&window.parentIFrame.getId?V=window.parentIFrame.getId()+": "+c:V="Nested host page: "+c),V}function ce(c){return s+"["+ge(c)+"]"}function Fe(c){return e[c]?e[c].log:W}function $(c,V){a("log",c,V,Fe(c))}function M(c,V){a("info",c,V,Fe(c))}function F(c,V){a("warn",c,V,!0)}function a(c,V,i,E){E===!0&&typeof window.console=="object"&&console[c](ce(V),i)}function d(c){function V(){function Y(){fe(Ne),A(ne),x("resizedCallback",Ne)}E("Height"),E("Width"),ze(Y,Ne,"init")}function i(){var Y=He.substr(w).split(":");return{iframe:e[Y[0]]&&e[Y[0]].iframe,id:Y[0],height:Y[1],width:Y[2],type:Y[3]}}function E(Y){var U=Number(e[ne]["max"+Y]),X=Number(e[ne]["min"+Y]),ie=Y.toLowerCase(),Ee=Number(Ne[ie]);$(ne,"Checking "+ie+" is in range "+X+"-"+U),Ee<X&&(Ee=X,$(ne,"Set "+ie+" to min value")),Ee>U&&(Ee=U,$(ne,"Set "+ie+" to max value")),Ne[ie]=""+Ee}function J(){function Y(){function ie(){var ve=0,Se=!1;for($(ne,"Checking connection is from allowed list of origins: "+X);ve<X.length;ve++)if(X[ve]===U){Se=!0;break}return Se}function Ee(){var ve=e[ne]&&e[ne].remoteHost;return $(ne,"Checking connection is from: "+ve),U===ve}return X.constructor===Array?ie():Ee()}var U=c.origin,X=e[ne]&&e[ne].checkOrigin;if(X&&""+U!="null"&&!Y())throw new Error("Unexpected message received from: "+U+" for "+Ne.iframe.id+". Message was: "+c.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function q(){return s===(""+He).substr(0,w)&&He.substr(w).split(":")[0]in e}function te(){var Y=Ne.type in{true:1,false:1,undefined:1};return Y&&$(ne,"Ignoring init message from meta parent page"),Y}function me(Y){return He.substr(He.indexOf(":")+m+Y)}function Ie(Y){$(ne,"MessageCallback passed: {iframe: "+Ne.iframe.id+", message: "+Y+"}"),x("messageCallback",{iframe:Ne.iframe,message:JSON.parse(Y)}),$(ne,"--")}function oe(){var Y=document.body.getBoundingClientRect(),U=Ne.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:U.height,iframeWidth:U.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(U.top-Y.top,10),offsetLeft:parseInt(U.left-Y.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function We(Y,U){function X(){le("Send Page Info","pageInfo:"+oe(),Y,U)}_e(X,32)}function u(){function Y(Ee,ve){function Se(){e[ie]?We(e[ie].iframe,ie):U()}["scroll","resize"].forEach(function(Le){$(ie,Ee+Le+" listener for sendPageInfo"),ve(window,Le,Se)})}function U(){Y("Remove ",Z)}function X(){Y("Add ",D)}var ie=ne;X(),e[ie]&&(e[ie].stopPageInfo=U)}function L(){e[ne]&&e[ne].stopPageInfo&&(e[ne].stopPageInfo(),delete e[ne].stopPageInfo)}function r(){var Y=!0;return Ne.iframe===null&&(F(ne,"IFrame ("+Ne.id+") not found"),Y=!1),Y}function h(Y){var U=Y.getBoundingClientRect();return B(ne),{x:Math.floor(Number(U.left)+Number(p.x)),y:Math.floor(Number(U.top)+Number(p.y))}}function o(Y){function U(){p=ve,v(),$(ne,"--")}function X(){return{x:Number(Ne.width)+Ee.x,y:Number(Ne.height)+Ee.y}}function ie(){window.parentIFrame?window.parentIFrame["scrollTo"+(Y?"Offset":"")](ve.x,ve.y):F(ne,"Unable to scroll to requested position, window.parentIFrame not found")}var Ee=Y?h(Ne.iframe):{x:0,y:0},ve=X();$(ne,"Reposition requested from iFrame (offset x:"+Ee.x+" y:"+Ee.y+")"),window.top!==window.self?ie():U()}function v(){x("scrollCallback",p)!==!1?A(ne):z()}function T(Y){function U(){var Se=h(ve);$(ne,"Moving to in page link (#"+ie+") at x: "+Se.x+" y: "+Se.y),p={x:Se.x,y:Se.y},v(),$(ne,"--")}function X(){window.parentIFrame?window.parentIFrame.moveToAnchor(ie):$(ne,"In page link #"+ie+" not found and window.parentIFrame not found")}var ie=Y.split("#")[1]||"",Ee=decodeURIComponent(ie),ve=document.getElementById(Ee)||document.getElementsByName(Ee)[0];ve?U():window.top!==window.self?X():$(ne,"In page link #"+ie+" not found")}function x(Y,U){return b(ne,Y,U)}function ye(){switch(e[ne]&&e[ne].firstRun&&Ze(),Ne.type){case"close":e[ne].closeRequestCallback?b(ne,"closeRequestCallback",e[ne].iframe):N(Ne.iframe);break;case"message":Ie(me(6));break;case"scrollTo":o(!1);break;case"scrollToOffset":o(!0);break;case"pageInfo":We(e[ne]&&e[ne].iframe,ne),u();break;case"pageInfoStop":L();break;case"inPageLink":T(me(9));break;case"reset":ue(Ne);break;case"init":V(),x("initCallback",Ne.iframe);break;default:V()}}function Ce(Y){var U=!0;return e[Y]||(U=!1,F(Ne.type+" No settings for "+Y+". Message was: "+He)),U}function Je(){for(var Y in e)le("iFrame requested init",we(Y),document.getElementById(Y),Y)}function Ze(){e[ne]&&(e[ne].firstRun=!1)}var He=c.data,Ne={},ne=null;He==="[iFrameResizerChild]Ready"?Je():q()?(Ne=i(),ne=Ne.id,e[ne]&&(e[ne].loaded=!0),!te()&&Ce(ne)&&($(ne,"Received: "+He),r()&&J()&&ye())):M(ne,"Ignored: "+He)}function b(c,V,i){var E=null,J=null;if(e[c])if(E=e[c][V],typeof E=="function")J=E(i);else throw new TypeError(V+" on iFrame["+c+"] is not a function");return J}function N(c){var V=c.id;$(V,"Removing iFrame: "+V),c.parentNode&&c.parentNode.removeChild(c),b(V,"closedCallback",V),$(V,"--"),delete e[V]}function B(c){p===null&&(p={x:window.pageXOffset!==j?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==j?window.pageYOffset:document.documentElement.scrollTop},$(c,"Get page position: "+p.x+","+p.y))}function A(c){p!==null&&(window.scrollTo(p.x,p.y),$(c,"Set page position: "+p.x+","+p.y),z())}function z(){p=null}function ue(c){function V(){fe(c),le("reset","reset",c.iframe,c.id)}$(c.id,"Size reset requested by "+(c.type==="init"?"host page":"iFrame")),B(c.id),ze(V,c,"reset")}function fe(c){function V(q){c.iframe.style[q]=c[q]+"px",$(c.id,"IFrame ("+J+") "+q+" set to "+c[q]+"px")}function i(q){!I&&c[q]==="0"&&(I=!0,$(J,"Hidden iFrame detected, creating visibility listener"),Ae())}function E(q){V(q),i(q)}var J=c.iframe.id;e[J]&&(e[J].sizeHeight&&E("height"),e[J].sizeWidth&&E("width"))}function ze(c,V,i){i!==V.type&&R?($(V.id,"Requesting animation frame"),R(c)):c()}function le(c,V,i,E,J){function q(){var We=e[E]&&e[E].targetOrigin;$(E,"["+c+"] Sending msg to iframe["+E+"] ("+V+") targetOrigin: "+We),i.contentWindow.postMessage(s+V,We)}function te(){F(E,"["+c+"] IFrame("+E+") not found")}function me(){i&&"contentWindow"in i&&i.contentWindow!==null?q():te()}function Ie(){function We(){e[E]&&!e[E].loaded&&!oe&&(oe=!0,F(E,"IFrame has not responded within "+e[E].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}J&&e[E]&&e[E].warningTimeout&&(e[E].msgTimeout=setTimeout(We,e[E].warningTimeout))}var oe=!1;E=E||i.id,e[E]&&(me(),Ie())}function we(c){return c+":"+e[c].bodyMarginV1+":"+e[c].sizeWidth+":"+e[c].log+":"+e[c].interval+":"+e[c].enablePublicMethods+":"+e[c].autoResize+":"+e[c].bodyMargin+":"+e[c].heightCalculationMethod+":"+e[c].bodyBackground+":"+e[c].bodyPadding+":"+e[c].tolerance+":"+e[c].inPageLinks+":"+e[c].resizeFrom+":"+e[c].widthCalculationMethod}function be(c,V){function i(){function v(x){e[o][x]!==1/0&&e[o][x]!==0&&(c.style[x]=e[o][x]+"px",$(o,"Set "+x+" = "+e[o][x]+"px"))}function T(x){if(e[o]["min"+x]>e[o]["max"+x])throw new Error("Value for min"+x+" can not be greater than max"+x)}T("Height"),T("Width"),v("maxHeight"),v("minHeight"),v("maxWidth"),v("minWidth")}function E(){var v=V&&V.id||t.id+K++;return document.getElementById(v)!==null&&(v=v+K++),v}function J(v){return v===""&&(c.id=v=E(),W=(V||{}).log,$(v,"Added missing iframe ID: "+v+" ("+c.src+")")),v}function q(){switch($(o,"IFrame scrolling "+(e[o]&&e[o].scrolling?"enabled":"disabled")+" for "+o),c.style.overflow=(e[o]&&e[o].scrolling)===!1?"hidden":"auto",e[o]&&e[o].scrolling){case!0:c.scrolling="yes";break;case!1:c.scrolling="no";break;default:c.scrolling=e[o]?e[o].scrolling:"no"}}function te(){(typeof(e[o]&&e[o].bodyMargin)=="number"||(e[o]&&e[o].bodyMargin)==="0")&&(e[o].bodyMarginV1=e[o].bodyMargin,e[o].bodyMargin=""+e[o].bodyMargin+"px")}function me(){var v=e[o]&&e[o].firstRun,T=e[o]&&e[o].heightCalculationMethod in _;!v&&T&&ue({iframe:c,height:0,width:0,type:"init"})}function Ie(){Function.prototype.bind&&e[o]&&(e[o].iframe.iFrameResizer={close:N.bind(null,e[o].iframe),resize:le.bind(null,"Window resize","resize",e[o].iframe),moveToAnchor:function(v){le("Move to anchor","moveToAnchor:"+v,e[o].iframe,o)},sendMessage:function(v){v=JSON.stringify(v),le("Send Message","message:"+v,e[o].iframe,o)}})}function oe(v){function T(){le("iFrame.onload",v,c,j,!0),me()}D(c,"load",T),le("init",v,c,j,!0)}function We(v){if(typeof v!="object")throw new TypeError("Options is not an object")}function u(v){for(var T in t)t.hasOwnProperty(T)&&(e[o][T]=v.hasOwnProperty(T)?v[T]:t[T])}function L(v){return v===""||v==="file://"?"*":v}function r(v){v=v||{},e[o]={firstRun:!0,iframe:c,remoteHost:c.src.split("/").slice(0,3).join("/")},We(v),u(v),e[o]&&(e[o].targetOrigin=e[o].checkOrigin===!0?L(e[o].remoteHost):"*")}function h(){return o in e&&"iFrameResizer"in c}var o=J(c.id);h()?F(o,"Ignored iFrame, already setup."):(r(V),q(),i(),te(),oe(we(o)),Ie())}function _e(c,V){P===null&&(P=setTimeout(function(){P=null,c()},V))}function Ae(){function c(){function J(te){function me(oe){return(e[te]&&e[te].iframe.style[oe])==="0px"}function Ie(oe){return oe.offsetParent!==null}e[te]&&Ie(e[te].iframe)&&(me("height")||me("width"))&&le("Visibility change","resize",e[te].iframe,te)}for(var q in e)J(q)}function V(J){$("window","Mutation observed: "+J[0].target+" "+J[0].type),_e(c,16)}function i(){var J=document.querySelector("body"),q={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},te=new E(V);te.observe(J,q)}var E=window.MutationObserver||window.WebKitMutationObserver;E&&i()}function Pe(c){function V(){xe("Window "+c,"resize")}$("window","Trigger event: "+c),_e(V,16)}function De(){function c(){xe("Tab Visable","resize")}document.visibilityState!=="hidden"&&($("document","Trigger event: Visiblity change"),_e(c,16))}function xe(c,V){function i(J){return e[J]&&e[J].resizeFrom==="parent"&&e[J].autoResize&&!e[J].firstRun}for(var E in e)i(E)&&le(c,V,document.getElementById(E),E)}function Ve(){D(window,"message",d),D(window,"resize",function(){Pe("resize")}),D(document,"visibilitychange",De),D(document,"-webkit-visibilitychange",De),D(window,"focusin",function(){Pe("focus")}),D(window,"focus",function(){Pe("focus")})}function Ue(){function c(E,J){function q(){if(J.tagName){if(J.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+J.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}J&&(q(),be(J,E),i.push(J))}function V(E){E&&E.enablePublicMethods&&F("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var i;return H(),Ve(),function(J,q){switch(i=[],V(J),typeof q){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(q||"iframe"),c.bind(j,J));break;case"object":c(J,q);break;default:throw new TypeError("Unexpected data type ("+typeof q+")")}return i}}function Ge(c){c.fn?c.fn.iFrameResize||(c.fn.iFrameResize=function(i){function E(J,q){be(q,i)}return this.filter("iframe").each(E).end()}):M("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&Ge(window.jQuery),S=[],y=Ue,O=typeof y=="function"?y.apply(Q,S):y,O!==j&&(he.exports=O)})()},683:(he,Q,y)=>{Q.iframeResizer=y(28),Q.iframeResizerContentWindow=y(402)},457:he=>{var Q=function(){var y=Math.floor(Math.random()*1000001),S={};function O(f,m,s,w){function p(e){for(var P=0;P<e.length;P++)if(e[P].win===f)return!0;return!1}var R=!1;if(m==="*"){for(var _ in S)if(S.hasOwnProperty(_)&&_!=="*"&&typeof S[_][s]=="object"&&(R=p(S[_][s]),R))break}else S["*"]&&S["*"][s]&&(R=p(S["*"][s])),!R&&S[m]&&S[m][s]&&(R=p(S[m][s]));if(R)throw"A channel is already bound to the same window which overlaps with origin '"+m+"' and has scope '"+s+"'";typeof S[m]!="object"&&(S[m]={}),typeof S[m][s]!="object"&&(S[m][s]=[]),S[m][s].push({win:f,handler:w})}function j(f,m,s){for(var w=S[m][s],p=0;p<w.length;p++)w[p].win===f&&w.splice(p,1);S[m][s].length===0&&delete S[m][s]}function K(f){return Array.isArray?Array.isArray(f):f.constructor.toString().indexOf("Array")!=-1}var W={},I=function(f){try{var m=JSON.parse(f.data);if(typeof m!="object"||m===null)throw"malformed"}catch{return}var s=f.source,w=f.origin,p,R,_;if(typeof m.method=="string"){var e=m.method.split("::");e.length==2?(p=e[0],_=e[1]):_=m.method}if(typeof m.id<"u"&&(R=m.id),typeof _=="string"){var P=!1;if(S[w]&&S[w][p]){for(var t=0;t<S[w][p].length;t++)if(S[w][p][t].win===s){S[w][p][t].handler(w,_,m),P=!0;break}}if(!P&&S["*"]&&S["*"][p]){for(var t=0;t<S["*"][p].length;t++)if(S["*"][p][t].win===s){S["*"][p][t].handler(w,_,m);break}}}else typeof R<"u"&&W[R]&&W[R](w,_,m)};return window.addEventListener?window.addEventListener("message",I,!1):window.attachEvent&&window.attachEvent("onmessage",I),{build:function(f){var m=function(M){if(f.debugOutput&&window.console&&window.console.log){try{typeof M!="string"&&(M=JSON.stringify(M))}catch{}console.log("["+p+"] "+M)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof f!="object")throw"Channel build invoked without a proper object argument";if(!f.window||!f.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===f.window)throw"target window is same as present window -- not allowed";var s=!1;if(typeof f.origin=="string"){var w;f.origin==="*"?s=!0:(w=f.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))!==null&&(f.origin=w[0].toLowerCase(),s=!0)}if(!s)throw"Channel.build() called with an invalid origin";if(typeof f.scope<"u"){if(typeof f.scope!="string")throw"scope, when specified, must be a string";if(f.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var p=function(){for(var M="",F="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",a=0;a<5;a++)M+=F.charAt(Math.floor(Math.random()*F.length));return M}(),R={},_={},e={},P=!1,t=[],D=function(M,F,a){var d=!1,b=!1;return{origin:F,invoke:function(N,B){if(!e[M])throw"attempting to invoke a callback of a nonexistent transaction: "+M;for(var A=!1,z=0;z<a.length;z++)if(N===a[z]){A=!0;break}if(!A)throw"request supports no such callback '"+N+"'";ce({id:M,callback:N,params:B})},error:function(N,B){if(b=!0,!e[M])throw"error called for nonexistent message: "+M;delete e[M],ce({id:M,error:N,message:B})},complete:function(N){if(b=!0,!e[M])throw"complete called for nonexistent message: "+M;delete e[M],ce({id:M,result:N})},delayReturn:function(N){return typeof N=="boolean"&&(d=N===!0),d},completed:function(){return b}}},Z=function(M,F,a){return window.setTimeout(function(){if(_[M]){var d="timeout ("+F+"ms) exceeded on method '"+a+"'";(0,_[M].error)("timeout_error",d),delete _[M],delete W[M]}},F)},H=function(M,F,a){if(typeof f.gotMessageObserver=="function")try{f.gotMessageObserver(M,a)}catch(we){m("gotMessageObserver() raised an exception: "+we.toString())}if(a.id&&F){if(R[F]){var d=D(a.id,M,a.callbacks?a.callbacks:[]);e[a.id]={};try{if(a.callbacks&&K(a.callbacks)&&a.callbacks.length>0)for(var b=0;b<a.callbacks.length;b++){for(var N=a.callbacks[b],B=a.params,A=N.split("/"),z=0;z<A.length-1;z++){var ue=A[z];typeof B[ue]!="object"&&(B[ue]={}),B=B[ue]}B[A[A.length-1]]=function(){var we=N;return function(be){return d.invoke(we,be)}}()}var fe=R[F](d,a.params);!d.delayReturn()&&!d.completed()&&d.complete(fe)}catch(we){var ze="runtime_error",le=null;if(typeof we=="string"?le=we:typeof we=="object"&&(we&&K(we)&&we.length==2?(ze=we[0],le=we[1]):typeof we.error=="string"&&(ze=we.error,we.message?typeof we.message=="string"?le=we.message:we=we.message:le="")),le===null)try{le=JSON.stringify(we),typeof le>"u"&&(le=we.toString())}catch{le=we.toString()}d.error(ze,le)}}}else a.id&&a.callback?!_[a.id]||!_[a.id].callbacks||!_[a.id].callbacks[a.callback]?m("ignoring invalid callback, id:"+a.id+" ("+a.callback+")"):_[a.id].callbacks[a.callback](a.params):a.id?_[a.id]?(a.error?(0,_[a.id].error)(a.error,a.message):a.result!==void 0?(0,_[a.id].success)(a.result):(0,_[a.id].success)(),delete _[a.id],delete W[a.id]):m("ignoring invalid response: "+a.id):F&&R[F]&&R[F]({origin:M},a.params)};O(f.window,f.origin,typeof f.scope=="string"?f.scope:"",H);var ge=function(M){return typeof f.scope=="string"&&f.scope.length&&(M=[f.scope,M].join("::")),M},ce=function(M,F){if(!M)throw"postMessage called with null message";var a=P?"post  ":"queue ";if(m(a+" message: "+JSON.stringify(M)),!F&&!P)t.push(M);else{if(typeof f.postMessageObserver=="function")try{f.postMessageObserver(f.origin,M)}catch(d){m("postMessageObserver() raised an exception: "+d.toString())}f.window.postMessage(JSON.stringify(M),f.origin)}},Fe=function(M,F){if(m("ready msg received"),P)throw"received ready message while in ready state.  help!";for(F==="ping"?p+="-R":p+="-L",$.unbind("__ready"),P=!0,m("ready msg accepted."),F==="ping"&&$.notify({method:"__ready",params:"pong"});t.length;)ce(t.pop());typeof f.onReady=="function"&&f.onReady($)},$={unbind:function(M){if(R[M]){if(!delete R[M])throw"can't delete method: "+M;return!0}return!1},bind:function(M,F){if(!M||typeof M!="string")throw"'method' argument to bind must be string";if(!F||typeof F!="function")throw"callback missing from bind params";if(R[M])throw"method '"+M+"' is already bound!";return R[M]=F,this},call:function(M){if(!M)throw"missing arguments to call function";if(!M.method||typeof M.method!="string")throw"'method' argument to call must be string";if(!M.success||typeof M.success!="function")throw"'success' callback missing from call";var F={},a=[],d=[],b=function(B,A){if(d.indexOf(A)>=0)throw"params cannot be a recursive data structure";if(d.push(A),typeof A=="object"){for(var z in A)if(A.hasOwnProperty(z)){var ue=B+(B.length?"/":"")+z;typeof A[z]=="function"?(F[ue]=A[z],a.push(ue),delete A[z]):typeof A[z]=="object"&&A[z]!==null&&b(ue,A[z])}}};b("",M.params);var N={id:y,method:ge(M.method),params:M.params};a.length&&(N.callbacks=a),M.timeout&&Z(y,M.timeout,ge(M.method)),_[y]={callbacks:F,error:M.error,success:M.success},W[y]=H,y++,ce(N)},notify:function(M){if(!M)throw"missing arguments to notify function";if(!M.method||typeof M.method!="string")throw"'method' argument to notify must be string";ce({method:ge(M.method),params:M.params})},destroy:function(){j(f.window,f.origin,typeof f.scope=="string"?f.scope:""),window.removeEventListener?window.removeEventListener("message",H,!1):window.detachEvent&&window.detachEvent("onmessage",H),P=!1,R={},e={},_={},f.origin=null,t=[],m("channel destroyed"),p=""}};return $.bind("__ready",Fe),setTimeout(function(){ce({method:ge("__ready"),params:"ping"},!0)},0),$}}}();he.exports=Q},218:he=>{function Q(y){var S=typeof y;return y!=null&&(S=="object"||S=="function")}he.exports=Q}},G={};function re(he){var Q=G[he];if(Q!==void 0)return Q.exports;var y=G[he]={exports:{}};return Re[he].call(y.exports,y,y.exports,re),y.exports}re.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),re(669)})();var St=wt.Addon;const Ft="https://data.wealthica.com/api",Pt=Ft+"/streams",xt="https://portfoliotech.github.io/investify/static/img";function et(Re){return`${xt}/${Re}`}class Ct{constructor(){this.addon=new St,this.addon.on("init",G=>{this.addon.options=G})}fetch_user(){try{return this.addon.api.getUser()}catch(G){throw G}}fetch_currencies(){try{return this.addon.request({method:"GET",endpoint:"currencies"})}catch(G){throw G}}fetch_institutions(){try{return this.addon.api.getInstitutions(this.get_options_query(this.addon.options))}catch(G){throw G}}fetch_positions(){try{return this.addon.api.getPositions(this.get_options_query(this.addon.options))}catch(G){throw G}}fetch_transactions(){try{const G=new Date("2000-01-01").toISOString().split("T")[0],re=new Date().toISOString().split("T")[0],he={from:G,to:re,deleted:!1};return this.addon.api.getTransactions(he).then(Q=>Q.map(y=>{var I,f;const S={symbol:(I=y.security)==null?void 0:I.symbol,market:(f=y.security)==null?void 0:f.currency.substring(0,2).toUpperCase()},O=new Date(y.settlement_date),j=O.getUTCFullYear(),K=O.getUTCMonth()+1,W=`${j}-${("0"+K).slice(-2)}`;return{...y,subaccount_id:y.investment,symbol_mrkt:`${S.market}:${S.symbol}`,symbol:S.symbol,market:S.market,settlement_dt:O,year:j,month:K,year_month:W,amount:y.currency_amount,price:Math.abs(y.currency_amount/y.quantity),total:y.currency_amount-(y.fee||0)}}))}catch(G){throw G}}fetch_historical_data(G){try{return this.addon.request({method:"GET",endpoint:`securities / ${G}/history`})}catch(re){throw re}}fetch_stock_prices(G,re){return fetch(Pt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:G,symbols:re})}).then(Q=>Q.json()).then(Q=>({...Q,securities:Q.securities.map(y=>({...y,symbol_mrkt:`${y.market}:${y.symbol.split(":")[1]}`}))})).catch(Q=>{throw Q})}async delete_transaction(G){const re={deleted:!0};return await this.addon.api.updateTransaction(G,re)}get_options_query(G){return{from:G.dateRangeFilter&&G.dateRangeFilter[0],to:G.dateRangeFilter&&G.dateRangeFilter[1],groups:G.groupsFilter,institutions:G.institutionsFilter,investments:G.investmentsFilter==="all"?null:G.investmentsFilter}}async update_transaction(G,re){return await this.addon.api.updateTransaction(G,re)}}const rt=Et(),dt=[{name:"INVESTOR - CELI",account_number:"22981483",order:1,type:null,no_holdings:!1,exluded:!1},{name:"INVESTOR - RESP",account_number:"21921430",order:2,type:null,no_holdings:!1,exluded:!1},{name:"NESBITT - NON-ENRG",account_number:"31015145",order:3,type:null,no_holdings:!1,exluded:!0},{name:"NESBITT - BELSKI",account_number:"31107566",order:4,type:null,no_holdings:!1,exluded:rt},{name:"NESBITT - FONDS",account_number:"31107567",order:5,type:null,no_holdings:!1,exluded:rt},{name:"NESBITT - ACTIONS (REER)",account_number:"31107798",order:6,type:null,no_holdings:!1,exluded:rt},{name:"NESBITT - ACTIONS (CELI)",account_number:"78124230",order:7,type:null,no_holdings:!1,exluded:rt},{name:"CGI - ACTIONS (REER)",account_number:"197287703264",order:8,type:null,no_holdings:!0,exluded:rt},{name:"CGI - ACTIONS (NON-ENRG)",account_number:"197287499339",order:8,type:"NRG",no_holdings:!0,exluded:rt},{name:"FTQ - REER",account_number:"107935800-01R",order:9,type:"RRSP",no_holdings:!0,exluded:rt},{name:"BMO - INVEST",account_number:"XXXX6679",order:10,type:"CASH",no_holdings:!0,exluded:rt}];function It(Re,G){const re=dt.find(he=>he.account_number===Re);return re?re.type||G.toUpperCase():""}function At(Re){var G=dt.find(re=>re.account_number===Re);return G?G.exluded:!0}function Rt(Re){var G=dt.find(re=>re.account_number===Re);return G?G.order:999}function Lt(Re){var G=dt.find(re=>re.account_number===Re);return G?G.no_holdings:!1}class zt{constructor(){at(this,"initialized",!1);at(this,"user",null);at(this,"currencies",null);at(this,"accounts",null);at(this,"transactios",null);this.wealthica=new Ct}async initialize(){this.initialized||([this.user,this.currencies]=await Promise.all([this.load_user_data(),this.load_currencies_data()]),[this.accounts,this.transactions]=await Promise.all([this.load_accounts_data(),this.load_transactions_data()]),this.initialized=!0)}load_user_data(){return this.wealthica.fetch_user()}load_currencies_data(){return this.wealthica.fetch_currencies()}async load_accounts_data(){return(await this.wealthica.fetch_institutions()).flatMap(re=>Array.from(re.investments.reduce((he,Q)=>{let y=(Q.account_number?Q.account_number:Q.id).toUpperCase();if(!Q.ignored&&!At(y)){let S=he.get(y)??{institution:{name:re.name,type:re.type},number:y,name:Q.name,type:It(y,Q.type),order:Rt(y),no_holdings:Lt(y),subaccounts:[]};S.subaccounts.push({id:Q._id,name:Q.name,currency:Q.currency,no_holdings:S.no_holdings}),he.set(y,S)}return he},new Map).values())).sort((re,he)=>re.order-he.order)}async load_transactions_data(){const G=await this.wealthica.fetch_transactions(),re={};return G.sort((Q,y)=>Q.settlement_dt-y.settlement_dt).map((Q,y)=>(re[Q.subaccount_id]=(re[Q.subaccount_id]||0)+Q.total,{...Q,balance:re[Q.subaccount_id],index:y})).sort((Q,y)=>y.settlement_dt-Q.settlement_dt||Q.index-y.index)}get_user_data(){return this.user}get_currencies_data(){return this.currencies}get_accounts_data(){return this.accounts}get_transactions_data(){return this.transactions}}const Nt={class:"tab-container"},jt={class:"tab-logo-container"},Wt=["src"],Dt={name:"tab_dashboard"},gt=Object.assign(Dt,{setup(Re){return(G,re)=>(nt(),it("div",Nt,[je("div",jt,[je("img",{src:et("tab_dashboard_icon.png"),alt:"Under Construction",class:"tab-logo-centered"},null,8,Wt)])]))}}),Ht={class:"tab-container"},Bt={class:"tab-logo-container"},qt=["src"],Ut={name:"tab_portfolio"},mt=Object.assign(Ut,{setup(Re){return(G,re)=>(nt(),it("div",Ht,[je("div",Bt,[je("img",{src:et("tab_portfolio_icon.png"),alt:"Under Construction",class:"tab-logo-centered"},null,8,qt)])]))}}),Vt={class:"tab-container"},Jt={class:"tab-logo-container"},Gt=["src"],Yt={name:"tab_performance"},vt=Object.assign(Yt,{setup(Re){return(G,re)=>(nt(),it("div",Vt,[je("div",Jt,[je("img",{src:et("tab_performance_icon.png"),alt:"Under Construction",class:"tab-logo-centered"},null,8,Gt)])]))}}),Kt={class:"tab-container"},Xt={class:"tab-logo-container"},Qt=["src"],Zt={name:"tab_wealth"},pt=Object.assign(Zt,{setup(Re){return(G,re)=>(nt(),it("div",Kt,[je("div",Xt,[je("img",{src:et("tab_wealth_icon.png"),alt:"Under Construction",class:"tab-logo-centered"},null,8,Qt)])]))}}),$t=(Re,G)=>{const re=Re.__vccOpts||Re;for(const[he,Q]of G)re[he]=Q;return re},en={inject:["data","state"],data(){return{user:null,currencies:null,accounts:null,transactions:null}},created(){this.load_data()},methods:{load_data(){this.state.loading=!0,this.data.initialize().then(()=>{this.user=this.data.get_user_data(),console.log("user",this.user),this.currencies=this.data.get_currencies_data(),console.log("currencies",this.currencies),this.accounts=this.data.get_accounts_data(),console.log("accounts",this.accounts),this.transactions=this.data.get_transactions_data(),console.log("transactions",this.transactions),this.state.loading=!1})}}};function tn(Re,G,re,he,Q,y){return nt(),it("div",null," Test ")}const yt=$t(en,[["render",tn]]),nn={class:"tabs-container"},rn={class:"tabs"},on=["src"],an=je("span",null,"Dashboard",-1),sn=["src"],un=je("span",null,"Portfolio",-1),cn=["src"],ln=je("span",null,"Performance",-1),fn=["src"],dn=je("span",null,"Wealth",-1),hn=["src"],gn=je("span",null,"Statements",-1),mn={class:"state"},vn=["src"],pn=je("div",{class:"top-space"},null,-1),yn={name:"App",components:{Dashboard:gt,Portfolio:mt,Performance:vt,Wealth:pt,Statements:yt},data(){return{state:{loading:!0},active_tab:"Statements",tabs:{Dashboard:lt(gt),Portfolio:lt(mt),Performance:lt(vt),Wealth:lt(pt),Statements:lt(yt)}}},provide(){return{data:new zt,state:this.state}},computed:{get_active_tab(){return this.tabs[this.active_tab]}}},_n=Object.assign(yn,{setup(Re){return(G,re)=>(nt(),it("div",null,[je("div",nn,[je("div",rn,[je("div",{onClick:re[0]||(re[0]=he=>G.active_tab="Dashboard"),class:ct(["tab",{"tab-active":G.active_tab==="Dashboard"}])},[je("img",{src:et("tab_dashboard_icon.png"),alt:"",class:"tab-img"},null,8,on),an],2),je("div",{onClick:re[1]||(re[1]=he=>G.active_tab="Portfolio"),class:ct(["tab",{"tab-active":G.active_tab==="Portfolio"}])},[je("img",{src:et("tab_portfolio_icon.png"),alt:"",class:"tab-img"},null,8,sn),un],2),je("div",{onClick:re[2]||(re[2]=he=>G.active_tab="Performance"),class:ct(["tab",{"tab-active":G.active_tab==="Performance"}])},[je("img",{src:et("tab_performance_icon.png"),alt:"",class:"tab-img"},null,8,cn),ln],2),je("div",{onClick:re[3]||(re[3]=he=>G.active_tab="Wealth"),class:ct(["tab",{"tab-active":G.active_tab==="Wealth"}])},[je("img",{src:et("tab_wealth_icon.png"),alt:"",class:"tab-img"},null,8,fn),dn],2),je("div",{onClick:re[4]||(re[4]=he=>G.active_tab="Statements"),class:ct(["tab",{"tab-active":G.active_tab==="Statements"}])},[je("img",{src:et("tab_statements_icon.png"),alt:"",class:"tab-img"},null,8,hn),gn],2)]),je("div",mn,[G.state.loading?(nt(),it("img",{key:0,src:et("system_loading.gif"),alt:"Loading...",class:"loading-gif"},null,8,vn)):Mt("",!0)])]),pn,je("div",null,[(nt(),ht(Ot,null,[(nt(),ht(kt(G.get_active_tab)))],1024))])]))}});export{_n as default};
