var en=Object.defineProperty;var tn=(l,e,u)=>e in l?en(l,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):l[e]=u;var _t=(l,e,u)=>(tn(l,typeof e!="symbol"?e+"":e,u),u);import{d as nn,o as ae,c as he,a as E,t as st,n as Ye,w as Rt,b as $e,e as rn,f as oe,g as ut,m as St,u as at,F as et,r as mt,h as on,i as an,K as sn,j as Et}from"./index-DKT8PQax.js";var Jt={};(function(l){(()=>{var e={541:(n,v,S)=>{var A=S(353),Y=J(A),W=S(37),D=J(W),y=S(630),k=J(y),h=function(){function P(R,f){for(var _=0;_<f.length;_++){var x=f[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(R,x.key,x)}}return function(R,f,_){return f&&P(R.prototype,f),_&&P(R,_),R}}(),M=S(457),O=J(M),H=S(729),F=J(H),t=S(702);S(303);var L=S(248),r=J(L),V=S(249),ne=J(V);function J(P){return P&&P.__esModule?P:{default:P}}function _e(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")}function me(P,R){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:P}function ze(P,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);P.prototype=Object.create(R&&R.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(P,R):P.__proto__=R)}window.iFrameResizer=ne.default;var re=function(P){ze(R,P);function R(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_e(this,R);var _=me(this,(R.__proto__||Object.getPrototypeOf(R)).call(this));return _.options=f,_.api=new r.default(_),_.channel=O.default.build({window:f.window||window.parent,origin:"*",scope:f.id||location.origin,postMessageObserver:function(U,G){_.emit("postMessage",U,G)},gotMessageObserver:function(U,G){_.emit("gotMessage",U,G)}}),["init","update","reload","_event"].forEach(function(x){_.channel.bind(x,function(U,G){var $=x,q=G;return x==="_event"&&($=G.eventName,q=G.eventData),_.emit($,q),"success"})}),_}return h(R,[{key:"request",value:function(_){var x=this;return new t.Promise(function(U,G){if(!(0,k.default)(_))throw new Error("Params must be an object");var $=_.method,q=_.endpoint,ge=_.query,ve=_.body;if(!$||!q||!(0,D.default)($)||!(0,D.default)(q))throw new Error("Invalid method or endpoint");if(!(0,Y.default)(ge)&&!(0,k.default)(ge))throw new Error("Query must be an object");if(!(0,Y.default)(ve)&&!(0,k.default)(ve))throw new Error("Body must be an object");x.effectiveUser&&(_.effectiveUser=x.effectiveUser),x.channel.call({method:"request",params:_,success:function(pe){U(pe)},error:function(pe){G(pe)}})})}},{key:"setEffectiveUser",value:function(_){this.effectiveUser=_}},{key:"saveData",value:function(_){var x=this;return new t.Promise(function(U,G){if(!(0,k.default)(_))throw new Error("Data must be an object");x.channel.call({method:"saveData",params:_,success:function(){U()},error:function(q){G(q)}})})}},{key:"addTransaction",value:function(_){var x=this;return new t.Promise(function(U,G){if(!(0,Y.default)(_)&&!(0,k.default)(_))throw new Error("Attrs must be an object");x.channel.call({method:"addTransaction",params:_,success:function(q){U(q)},error:function(q){G(q)}})})}},{key:"editTransaction",value:function(_){var x=this;return new t.Promise(function(U,G){if(!_||!(0,D.default)(_))throw new Error("Invalid id");x.channel.call({method:"editTransaction",params:_,success:function(q){U(q)},error:function(q){G(q)}})})}},{key:"addInstitution",value:function(_){var x=this;return new t.Promise(function(U,G){if(!(0,Y.default)(_)&&!(0,k.default)(_))throw new Error("Attrs must be an object");x.channel.call({method:"addInstitution",params:_,success:function(q){U(q)},error:function(q){G(q)}})})}},{key:"addInvestment",value:function(){var _=this;return new t.Promise(function(x,U){_.channel.call({method:"addInvestment",success:function($){x($)},error:function($){U($)}})})}},{key:"editInstitution",value:function(_){var x=this;return new t.Promise(function(U,G){if(!_||!(0,D.default)(_))throw new Error("Invalid id");x.channel.call({method:"editInstitution",params:_,success:function(q){U(q)},error:function(q){G(q)}})})}},{key:"editAsset",value:function(_){var x=this;return new t.Promise(function(U,G){if(!_||!(0,D.default)(_))throw new Error("Invalid id");x.channel.call({method:"editAsset",params:_,success:function(q){U(q)},error:function(q){G(q)}})})}},{key:"editLiability",value:function(_){var x=this;return new t.Promise(function(U,G){if(!_||!(0,D.default)(_))throw new Error("Invalid id");x.channel.call({method:"editLiability",params:_,success:function(q){U(q)},error:function(q){G(q)}})})}},{key:"deleteInstitution",value:function(_){var x=this;return new t.Promise(function(U,G){if(!_||!(0,D.default)(_))throw new Error("Invalid id");x.channel.call({method:"deleteInstitution",params:_,success:function(q){U(q)},error:function(q){G(q)}})})}},{key:"deleteAsset",value:function(_){var x=this;return new t.Promise(function(U,G){if(!_||!(0,D.default)(_))throw new Error("Invalid id");x.channel.call({method:"deleteAsset",params:_,success:function(q){U(q)},error:function(q){G(q)}})})}},{key:"deleteLiability",value:function(_){var x=this;return new t.Promise(function(U,G){if(!_||!(0,D.default)(_))throw new Error("Invalid id");x.channel.call({method:"deleteLiability",params:_,success:function(q){U(q)},error:function(q){G(q)}})})}},{key:"downloadDocument",value:function(_){var x=this;return new t.Promise(function(U,G){if(!_||!(0,D.default)(_))throw new Error("Invalid id");x.channel.call({method:"downloadDocument",params:_,success:function(){U()},error:function(q){G(q)}})})}},{key:"upgradePremium",value:function(){var _=this;return new t.Promise(function(x,U){_.channel.call({method:"upgradePremium",success:function(){x()},error:function($){U($)}})})}},{key:"getSharings",value:function(){var _=this;return new t.Promise(function(x,U){_.channel.call({method:"getSharings",success:function($){x($)},error:function($){U($)}})})}},{key:"switchUser",value:function(_){var x=this;return new t.Promise(function(U,G){if(!_||!(0,D.default)(_))throw new Error("Invalid id");x.channel.call({method:"switchUser",params:_,success:function(){U()},error:function(q){G(q)}})})}},{key:"destroy",value:function(){this.channel.destroy()}}]),R}(F.default);n.exports=re},248:n=>{var v=function(){function Y(W,D){for(var y=0;y<D.length;y++){var k=D[y];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(W,k.key,k)}}return function(W,D,y){return D&&Y(W.prototype,D),y&&Y(W,y),W}}();function S(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}var A=function(){function Y(W){S(this,Y),this.addon=W}return v(Y,[{key:"getAssets",value:function(D){return this.addon.request({method:"GET",endpoint:"assets",query:D})}},{key:"getCurrencies",value:function(D){return this.addon.request({method:"GET",endpoint:"currencies",query:D})}},{key:"getInstitutions",value:function(D){return this.addon.request({method:"GET",endpoint:"institutions",query:D})}},{key:"getInstitution",value:function(D){return this.addon.request({method:"GET",endpoint:"institutions/"+D})}},{key:"pollInstitution",value:function(D,y){return this.addon.request({method:"GET",endpoint:"institutions/"+D+"/poll?v="+y})}},{key:"syncInstitution",value:function(D){return this.addon.request({method:"POST",endpoint:"institutions/"+D+"/sync"})}},{key:"addInstitution",value:function(D){return console.warn("DEPRECATED: `addon.api.addInstitution`. Use `addon.addInstitution instead.`"),this.addon.request({method:"POST",endpoint:"institutions",body:D})}},{key:"getLiabilities",value:function(D){return this.addon.request({method:"GET",endpoint:"liabilities",query:D})}},{key:"getPositions",value:function(D){return this.addon.request({method:"GET",endpoint:"positions",query:D})}},{key:"getTransactions",value:function(D){return this.addon.request({method:"GET",endpoint:"transactions",query:D})}},{key:"updateTransaction",value:function(D){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.addon.request({method:"PUT",endpoint:"transactions/"+D,body:y})}},{key:"getUser",value:function(){return this.addon.request({method:"GET",endpoint:"users/me"})}}]),Y}();n.exports=A},249:(n,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.default={heightCalculationMethod:function(){var A=document,Y=A.body,W=A.documentElement;return Math.max.apply(null,[Y.scrollHeight,Y.offsetHeight,W.offsetHeight])}}},702:function(n,v,S){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(A,Y){n.exports=Y()})(this,function(){function A(o){var b=typeof o;return o!==null&&(b==="object"||b==="function")}function Y(o){return typeof o=="function"}var W=void 0;Array.isArray?W=Array.isArray:W=function(o){return Object.prototype.toString.call(o)==="[object Array]"};var D=W,y=0,k=void 0,h=void 0,M=function(b,c){re[y]=b,re[y+1]=c,y+=2,y===2&&(h?h(P):f())};function O(o){h=o}function H(o){M=o}var F=typeof window<"u"?window:void 0,t=F||{},L=t.MutationObserver||t.WebKitMutationObserver,r=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",V=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function ne(){return function(){return process.nextTick(P)}}function J(){return typeof k<"u"?function(){k(P)}:ze()}function _e(){var o=0,b=new L(P),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=o=++o%2}}function me(){var o=new MessageChannel;return o.port1.onmessage=P,function(){return o.port2.postMessage(0)}}function ze(){var o=setTimeout;return function(){return o(P,1)}}var re=new Array(1e3);function P(){for(var o=0;o<y;o+=2){var b=re[o],c=re[o+1];b(c),re[o]=void 0,re[o+1]=void 0}y=0}function R(){try{var o=Function("return this")().require("vertx");return k=o.runOnLoop||o.runOnContext,J()}catch{return ze()}}var f=void 0;r?f=ne():L?f=_e():V?f=me():F===void 0?f=R():f=ze();function _(o,b){var c=this,T=new this.constructor(G);T[U]===void 0&&I(T);var C=c._state;if(C){var N=arguments[C-1];M(function(){return tt(C,T,N,c._result)})}else Qe(c,T,o,b);return T}function x(o){var b=this;if(o&&typeof o=="object"&&o.constructor===b)return o;var c=new b(G);return De(c,o),c}var U=Math.random().toString(36).substring(2);function G(){}var $=void 0,q=1,ge=2;function ve(){return new TypeError("You cannot resolve a promise with itself")}function Be(){return new TypeError("A promises callback cannot return that same promise.")}function pe(o,b,c,T){try{o.call(b,c,T)}catch(C){return C}}function Ee(o,b,c){M(function(T){var C=!1,N=pe(c,b,function(Te){C||(C=!0,b!==Te?De(T,Te):Ue(T,Te))},function(Te){C||(C=!0,Le(T,Te))},"Settle: "+(T._label||" unknown promise"));!C&&N&&(C=!0,Le(T,N))},o)}function Oe(o,b){b._state===q?Ue(o,b._result):b._state===ge?Le(o,b._result):Qe(b,void 0,function(c){return De(o,c)},function(c){return Le(o,c)})}function Me(o,b,c){b.constructor===o.constructor&&c===_&&b.constructor.resolve===x?Oe(o,b):c===void 0?Ue(o,b):Y(c)?Ee(o,b,c):Ue(o,b)}function De(o,b){if(o===b)Le(o,ve());else if(A(b)){var c=void 0;try{c=b.then}catch(T){Le(o,T);return}Me(o,b,c)}else Ue(o,b)}function Re(o){o._onerror&&o._onerror(o._result),Xe(o)}function Ue(o,b){o._state===$&&(o._result=b,o._state=q,o._subscribers.length!==0&&M(Xe,o))}function Le(o,b){o._state===$&&(o._state=ge,o._result=b,M(Re,o))}function Qe(o,b,c,T){var C=o._subscribers,N=C.length;o._onerror=null,C[N]=b,C[N+q]=c,C[N+ge]=T,N===0&&o._state&&M(Xe,o)}function Xe(o){var b=o._subscribers,c=o._state;if(b.length!==0){for(var T=void 0,C=void 0,N=o._result,Te=0;Te<b.length;Te+=3)T=b[Te],C=b[Te+c],T?tt(c,T,C,N):C(N);o._subscribers.length=0}}function tt(o,b,c,T){var C=Y(c),N=void 0,Te=void 0,Ne=!0;if(C){try{N=c(T)}catch(Ze){Ne=!1,Te=Ze}if(b===N){Le(b,Be());return}}else N=T;b._state!==$||(C&&Ne?De(b,N):Ne===!1?Le(b,Te):o===q?Ue(b,N):o===ge&&Le(b,N))}function m(o,b){try{b(function(T){De(o,T)},function(T){Le(o,T)})}catch(c){Le(o,c)}}var Q=0;function s(){return Q++}function I(o){o[U]=Q++,o._state=void 0,o._result=void 0,o._subscribers=[]}function Z(){return new Error("Array Methods must be provided an Array")}var K=function(){function o(b,c){this._instanceConstructor=b,this.promise=new b(G),this.promise[U]||I(this.promise),D(c)?(this.length=c.length,this._remaining=c.length,this._result=new Array(this.length),this.length===0?Ue(this.promise,this._result):(this.length=this.length||0,this._enumerate(c),this._remaining===0&&Ue(this.promise,this._result))):Le(this.promise,Z())}return o.prototype._enumerate=function(c){for(var T=0;this._state===$&&T<c.length;T++)this._eachEntry(c[T],T)},o.prototype._eachEntry=function(c,T){var C=this._instanceConstructor,N=C.resolve;if(N===x){var Te=void 0,Ne=void 0,Ze=!1;try{Te=c.then}catch(Je){Ze=!0,Ne=Je}if(Te===_&&c._state!==$)this._settledAt(c._state,T,c._result);else if(typeof Te!="function")this._remaining--,this._result[T]=c;else if(C===g){var ft=new C(G);Ze?Le(ft,Ne):Me(ft,c,Te),this._willSettleAt(ft,T)}else this._willSettleAt(new C(function(Je){return Je(c)}),T)}else this._willSettleAt(N(c),T)},o.prototype._settledAt=function(c,T,C){var N=this.promise;N._state===$&&(this._remaining--,c===ge?Le(N,C):this._result[T]=C),this._remaining===0&&Ue(N,this._result)},o.prototype._willSettleAt=function(c,T){var C=this;Qe(c,void 0,function(N){return C._settledAt(q,T,N)},function(N){return C._settledAt(ge,T,N)})},o}();function se(o){return new K(this,o).promise}function be(o){var b=this;return D(o)?new b(function(c,T){for(var C=o.length,N=0;N<C;N++)b.resolve(o[N]).then(c,T)}):new b(function(c,T){return T(new TypeError("You must pass an array to race."))})}function je(o){var b=this,c=new b(G);return Le(c,o),c}function ce(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function qe(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var g=function(){function o(b){this[U]=s(),this._result=this._state=void 0,this._subscribers=[],G!==b&&(typeof b!="function"&&ce(),this instanceof o?m(this,b):qe())}return o.prototype.catch=function(c){return this.then(null,c)},o.prototype.finally=function(c){var T=this,C=T.constructor;return Y(c)?T.then(function(N){return C.resolve(c()).then(function(){return N})},function(N){return C.resolve(c()).then(function(){throw N})}):T.then(c,c)},o}();g.prototype.then=_,g.all=se,g.race=be,g.resolve=x,g.reject=je,g._setScheduler=O,g._setAsap=H,g._asap=M;function B(){var o=void 0;if(typeof S.g<"u")o=S.g;else if(typeof self<"u")o=self;else try{o=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var b=o.Promise;if(b){var c=null;try{c=Object.prototype.toString.call(b.resolve())}catch{}if(c==="[object Promise]"&&!b.cast)return}o.Promise=g}return g.polyfill=B,g.Promise=g,g})},729:n=>{var v=Object.prototype.hasOwnProperty,S="~";function A(){}Object.create&&(A.prototype=Object.create(null),new A().__proto__||(S=!1));function Y(k,h,M){this.fn=k,this.context=h,this.once=M||!1}function W(k,h,M,O,H){if(typeof M!="function")throw new TypeError("The listener must be a function");var F=new Y(M,O||k,H),t=S?S+h:h;return k._events[t]?k._events[t].fn?k._events[t]=[k._events[t],F]:k._events[t].push(F):(k._events[t]=F,k._eventsCount++),k}function D(k,h){--k._eventsCount===0?k._events=new A:delete k._events[h]}function y(){this._events=new A,this._eventsCount=0}y.prototype.eventNames=function(){var h=[],M,O;if(this._eventsCount===0)return h;for(O in M=this._events)v.call(M,O)&&h.push(S?O.slice(1):O);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(M)):h},y.prototype.listeners=function(h){var M=S?S+h:h,O=this._events[M];if(!O)return[];if(O.fn)return[O.fn];for(var H=0,F=O.length,t=new Array(F);H<F;H++)t[H]=O[H].fn;return t},y.prototype.listenerCount=function(h){var M=S?S+h:h,O=this._events[M];return O?O.fn?1:O.length:0},y.prototype.emit=function(h,M,O,H,F,t){var L=S?S+h:h;if(!this._events[L])return!1;var r=this._events[L],V=arguments.length,ne,J;if(r.fn){switch(r.once&&this.removeListener(h,r.fn,void 0,!0),V){case 1:return r.fn.call(r.context),!0;case 2:return r.fn.call(r.context,M),!0;case 3:return r.fn.call(r.context,M,O),!0;case 4:return r.fn.call(r.context,M,O,H),!0;case 5:return r.fn.call(r.context,M,O,H,F),!0;case 6:return r.fn.call(r.context,M,O,H,F,t),!0}for(J=1,ne=new Array(V-1);J<V;J++)ne[J-1]=arguments[J];r.fn.apply(r.context,ne)}else{var _e=r.length,me;for(J=0;J<_e;J++)switch(r[J].once&&this.removeListener(h,r[J].fn,void 0,!0),V){case 1:r[J].fn.call(r[J].context);break;case 2:r[J].fn.call(r[J].context,M);break;case 3:r[J].fn.call(r[J].context,M,O);break;case 4:r[J].fn.call(r[J].context,M,O,H);break;default:if(!ne)for(me=1,ne=new Array(V-1);me<V;me++)ne[me-1]=arguments[me];r[J].fn.apply(r[J].context,ne)}}return!0},y.prototype.on=function(h,M,O){return W(this,h,M,O,!1)},y.prototype.once=function(h,M,O){return W(this,h,M,O,!0)},y.prototype.removeListener=function(h,M,O,H){var F=S?S+h:h;if(!this._events[F])return this;if(!M)return D(this,F),this;var t=this._events[F];if(t.fn)t.fn===M&&(!H||t.once)&&(!O||t.context===O)&&D(this,F);else{for(var L=0,r=[],V=t.length;L<V;L++)(t[L].fn!==M||H&&!t[L].once||O&&t[L].context!==O)&&r.push(t[L]);r.length?this._events[F]=r.length===1?r[0]:r:D(this,F)}return this},y.prototype.removeAllListeners=function(h){var M;return h?(M=S?S+h:h,this._events[M]&&D(this,M)):(this._events=new A,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=S,y.EventEmitter=y,n.exports=y},303:(n,v,S)=>{n.exports=S(683)},402:n=>{(function(v){if(typeof window>"u")return;var S=!0,A=10,Y="",W=0,D="",y=null,k="",h=!1,M={resize:1,click:1},O=128,H=!0,F=1,t="bodyOffset",L=t,r=!0,V="",ne={},J=32,_e=null,me=!1,ze="[iFrameSizer]",re=ze.length,P="",R={max:1,min:1,bodyScroll:1,documentElementScroll:1},f="child",_=!0,x=window.parent,U="*",G=0,$=!1,q=null,ge=16,ve=1,Be="scroll",pe=Be,Ee=window,Oe=function(){I("MessageCallback function not defined")},Me=function(){},De=function(){},Re={height:function(){return I("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return I("Custom width calculation function not defined"),document.body.scrollWidth}},Ue={};function Le(i,p,j){"addEventListener"in window?i.addEventListener(p,j,!1):"attachEvent"in window&&i.attachEvent("on"+p,j)}function Qe(i,p,j){"removeEventListener"in window?i.removeEventListener(p,j,!1):"detachEvent"in window&&i.detachEvent("on"+p,j)}function Xe(i){return i.charAt(0).toUpperCase()+i.slice(1)}function tt(i){var p,j,ie,de=null,xe=0,Fe=function(){xe=m(),de=null,ie=i.apply(p,j),de||(p=j=null)};return function(){var Ce=m();xe||(xe=Ce);var ye=ge-(Ce-xe);return p=this,j=arguments,ye<=0||ye>ge?(de&&(clearTimeout(de),de=null),xe=Ce,ie=i.apply(p,j),de||(p=j=null)):de||(de=setTimeout(Fe,ye)),ie}}var m=Date.now||function(){return new Date().getTime()};function Q(i){return ze+"["+P+"] "+i}function s(i){me&&typeof window.console=="object"&&console.log(Q(i))}function I(i){typeof window.console=="object"&&console.warn(Q(i))}function Z(){K(),s("Initialising iFrame ("+location.href+")"),se(),ce(),je("background",Y),je("padding",k),ft(),b(),c(),qe(),We(),T(),ne=Je(),ht("init","Init message from host page"),Me()}function K(){function i(j){return j==="true"}var p=V.substr(re).split(":");P=p[0],W=v!==p[1]?Number(p[1]):W,h=v!==p[2]?i(p[2]):h,me=v!==p[3]?i(p[3]):me,J=v!==p[4]?Number(p[4]):J,S=v!==p[6]?i(p[6]):S,D=p[7],L=v!==p[8]?p[8]:L,Y=p[9],k=p[10],G=v!==p[11]?Number(p[11]):G,ne.enable=v!==p[12]?i(p[12]):!1,f=v!==p[13]?p[13]:f,pe=v!==p[14]?p[14]:pe}function se(){function i(){var j=window.iFrameResizer;s("Reading data from page: "+JSON.stringify(j)),Oe="messageCallback"in j?j.messageCallback:Oe,Me="readyCallback"in j?j.readyCallback:Me,U="targetOrigin"in j?j.targetOrigin:U,L="heightCalculationMethod"in j?j.heightCalculationMethod:L,pe="widthCalculationMethod"in j?j.widthCalculationMethod:pe}function p(j,ie){return typeof j=="function"&&(s("Setup custom "+ie+"CalcMethod"),Re[ie]=j,j="custom"),j}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(i(),L=p(L,"height"),pe=p(pe,"width")),s("TargetOrigin for parent set to: "+U)}function be(i,p){return p.indexOf("-")!==-1&&(I("Negative CSS value ignored for "+i),p=""),p}function je(i,p){v!==p&&p!==""&&p!=="null"&&(document.body.style[i]=p,s("Body "+i+' set to "'+p+'"'))}function ce(){v===D&&(D=W+"px"),je("margin",be("margin",D))}function qe(){document.documentElement.style.height="",document.body.style.height="",s('HTML & body height set to "auto"')}function g(i){var p={add:function(j){function ie(){ht(i.eventName,i.eventType)}Ue[j]=ie,Le(window,j,ie)},remove:function(j){var ie=Ue[j];delete Ue[j],Qe(window,j,ie)}};i.eventNames&&Array.prototype.map?(i.eventName=i.eventNames[0],i.eventNames.map(p[i.method])):p[i.method](i.eventName),s(Xe(i.method)+" event listener: "+i.eventType)}function B(i){g({method:i,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),g({method:i,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),g({method:i,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),g({method:i,eventType:"Input",eventName:"input"}),g({method:i,eventType:"Mouse Up",eventName:"mouseup"}),g({method:i,eventType:"Mouse Down",eventName:"mousedown"}),g({method:i,eventType:"Orientation Change",eventName:"orientationchange"}),g({method:i,eventType:"Print",eventName:["afterprint","beforeprint"]}),g({method:i,eventType:"Ready State Change",eventName:"readystatechange"}),g({method:i,eventType:"Touch Start",eventName:"touchstart"}),g({method:i,eventType:"Touch End",eventName:"touchend"}),g({method:i,eventType:"Touch Cancel",eventName:"touchcancel"}),g({method:i,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),g({method:i,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),g({method:i,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),f==="child"&&g({method:i,eventType:"IFrame Resized",eventName:"resize"})}function o(i,p,j,ie){return p!==i&&(i in j||(I(i+" is not a valid option for "+ie+"CalculationMethod."),i=p),s(ie+' calculation method set to "'+i+'"')),i}function b(){L=o(L,t,Ge,"height")}function c(){pe=o(pe,Be,lt,"width")}function T(){S===!0?(B("add"),X()):s("Auto Resize disabled")}function C(){s("Disable outgoing messages"),_=!1}function N(){s("Remove event listener: Message"),Qe(window,"message",w)}function Te(){y!==null&&y.disconnect()}function Ne(){B("remove"),Te(),clearInterval(_e)}function Ze(){C(),N(),S===!0&&Ne()}function ft(){var i=document.createElement("div");i.style.clear="both",i.style.display="block",document.body.appendChild(i)}function Je(){function i(){return{x:window.pageXOffset!==v?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==v?window.pageYOffset:document.documentElement.scrollTop}}function p(ye){var fe=ye.getBoundingClientRect(),Ie=i();return{x:parseInt(fe.left,10)+parseInt(Ie.x,10),y:parseInt(fe.top,10)+parseInt(Ie.y,10)}}function j(ye){function fe(it){var yt=p(it);s("Moving to in page link (#"+Ie+") at x: "+yt.x+" y: "+yt.y),ct(yt.y,yt.x,"scrollToOffset")}var Ie=ye.split("#")[1]||ye,ke=decodeURIComponent(Ie),Ke=document.getElementById(ke)||document.getElementsByName(ke)[0];v!==Ke?fe(Ke):(s("In page link (#"+Ie+") not found in iFrame, so sending to parent"),ct(0,0,"inPageLink","#"+Ie))}function ie(){location.hash!==""&&location.hash!=="#"&&j(location.href)}function de(){function ye(fe){function Ie(ke){ke.preventDefault(),j(this.getAttribute("href"))}fe.getAttribute("href")!=="#"&&Le(fe,"click",Ie)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),ye)}function xe(){Le(window,"hashchange",ie)}function Fe(){setTimeout(ie,O)}function Ce(){Array.prototype.forEach&&document.querySelectorAll?(s("Setting up location.hash handlers"),de(),xe(),Fe()):I("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return ne.enable?Ce():s("In page linking not enabled"),{findTarget:j}}function We(){s("Enable public methods"),Ee.parentIFrame={autoResize:function(p){return p===!0&&S===!1?(S=!0,T()):p===!1&&S===!0&&(S=!1,Ne()),S},close:function(){ct(0,0,"close"),Ze()},getId:function(){return P},getPageInfo:function(p){typeof p=="function"?(De=p,ct(0,0,"pageInfo")):(De=function(){},ct(0,0,"pageInfoStop"))},moveToAnchor:function(p){ne.findTarget(p)},reset:function(){Tt("parentIFrame.reset")},scrollTo:function(p,j){ct(j,p,"scrollTo")},scrollToOffset:function(p,j){ct(j,p,"scrollToOffset")},sendMessage:function(p,j){ct(0,0,"message",JSON.stringify(p),j)},setHeightCalculationMethod:function(p){L=p,b()},setWidthCalculationMethod:function(p){pe=p,c()},setTargetOrigin:function(p){s("Set targetOrigin: "+p),U=p},size:function(p,j){var ie=""+(p||"")+(j?","+j:"");ht("size","parentIFrame.size("+ie+")",p,j)}}}function ue(){J!==0&&(s("setInterval: "+J+"ms"),_e=setInterval(function(){ht("interval","setInterval: "+J)},Math.abs(J)))}function ee(){function i(ke){function Ke(it){it.complete===!1&&(s("Attach listeners to "+it.src),it.addEventListener("load",de,!1),it.addEventListener("error",xe,!1),ye.push(it))}ke.type==="attributes"&&ke.attributeName==="src"?Ke(ke.target):ke.type==="childList"&&Array.prototype.forEach.call(ke.target.querySelectorAll("img"),Ke)}function p(ke){ye.splice(ye.indexOf(ke),1)}function j(ke){s("Remove listeners from "+ke.src),ke.removeEventListener("load",de,!1),ke.removeEventListener("error",xe,!1),p(ke)}function ie(ke,Ke,it){j(ke.target),ht(Ke,it+": "+ke.target.src,v,v)}function de(ke){ie(ke,"imageLoad","Image loaded")}function xe(ke){ie(ke,"imageLoadFailed","Image load failed")}function Fe(ke){ht("mutationObserver","mutationObserver: "+ke[0].target+" "+ke[0].type),ke.forEach(i)}function Ce(){var ke=document.querySelector("body"),Ke={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return Ie=new fe(Fe),s("Create body MutationObserver"),Ie.observe(ke,Ke),Ie}var ye=[],fe=window.MutationObserver||window.WebKitMutationObserver,Ie=Ce();return{disconnect:function(){"disconnect"in Ie&&(s("Disconnect body MutationObserver"),Ie.disconnect(),ye.forEach(j))}}}function X(){var i=0>J;window.MutationObserver||window.WebKitMutationObserver?i?ue():y=ee():(s("MutationObserver not supported in this browser!"),ue())}function te(i,p){function j(de){var xe=/^\d+(px)?$/i;if(xe.test(de))return parseInt(de,A);var Fe=p.style.left,Ce=p.runtimeStyle.left;return p.runtimeStyle.left=p.currentStyle.left,p.style.left=de||0,de=p.style.pixelLeft,p.style.left=Fe,p.runtimeStyle.left=Ce,de}var ie=0;return p=p||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(ie=document.defaultView.getComputedStyle(p,null),ie=ie!==null?ie[i]:0):ie=j(p.currentStyle[i]),parseInt(ie,A)}function le(i){i>ge/2&&(ge=2*i,s("Event throttle increased to "+ge+"ms"))}function Se(i,p){for(var j=p.length,ie=0,de=0,xe=Xe(i),Fe=m(),Ce=0;Ce<j;Ce++)ie=p[Ce].getBoundingClientRect()[i]+te("margin"+xe,p[Ce]),ie>de&&(de=ie);return Fe=m()-Fe,s("Parsed "+j+" HTML elements"),s("Element position calculated in "+Fe+"ms"),le(Fe),de}function we(i){return[i.bodyOffset(),i.bodyScroll(),i.documentElementOffset(),i.documentElementScroll()]}function Ae(i,p){function j(){return I("No tagged elements ("+p+") found on page"),document.querySelectorAll("body *")}var ie=document.querySelectorAll("["+p+"]");return ie.length===0&&j(),Se(i,ie)}function He(){return document.querySelectorAll("body *")}var Ge={bodyOffset:function(){return document.body.offsetHeight+te("marginTop")+te("marginBottom")},offset:function(){return Ge.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return Re.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,we(Ge))},min:function(){return Math.min.apply(null,we(Ge))},grow:function(){return Ge.max()},lowestElement:function(){return Math.max(Ge.bodyOffset(),Se("bottom",He()))},taggedElement:function(){return Ae("bottom","data-iframe-height")}},lt={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return Re.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(lt.bodyScroll(),lt.documentElementScroll())},max:function(){return Math.max.apply(null,we(lt))},min:function(){return Math.min.apply(null,we(lt))},rightMostElement:function(){return Se("right",He())},taggedElement:function(){return Ae("right","data-iframe-width")}};function gt(i,p,j,ie){function de(){F=Ie,ve=ke,ct(F,ve,i)}function xe(){function Ke(it,yt){var Zt=Math.abs(it-yt)<=G;return!Zt}return Ie=v!==j?j:Ge[L](),ke=v!==ie?ie:lt[pe](),Ke(F,Ie)||h&&Ke(ve,ke)}function Fe(){return!(i in{init:1,interval:1,size:1})}function Ce(){return L in R||h&&pe in R}function ye(){s("No change in size detected")}function fe(){Fe()&&Ce()?Tt(p):i in{interval:1}||ye()}var Ie,ke;xe()||i==="init"?(kt(),de()):fe()}var Mt=tt(gt);function ht(i,p,j,ie){function de(){i in{reset:1,resetPage:1,init:1}||s("Trigger event: "+p)}function xe(){return $&&i in M}xe()?s("Trigger event cancelled: "+i):(de(),Mt(i,p,j,ie))}function kt(){$||($=!0,s("Trigger event lock on")),clearTimeout(q),q=setTimeout(function(){$=!1,s("Trigger event lock off"),s("--")},O)}function rt(i){F=Ge[L](),ve=lt[pe](),ct(F,ve,i)}function Tt(i){var p=L;L=t,s("Reset trigger event: "+i),kt(),rt("reset"),L=p}function ct(i,p,j,ie,de){function xe(){v===de?de=U:s("Message targetOrigin: "+de)}function Fe(){var Ce=i+":"+p,ye=P+":"+Ce+":"+j+(v!==ie?":"+ie:"");s("Sending message to host page ("+ye+")"),x.postMessage(ze+ye,de)}_===!0&&(xe(),Fe())}function w(i){var p={init:function(){function Ie(){V=i.data,x=i.source,Z(),H=!1,setTimeout(function(){r=!1},O)}document.readyState==="interactive"||document.readyState==="complete"?Ie():(s("Waiting for page ready"),Le(window,"readystatechange",p.initFromParent))},reset:function(){r?s("Page reset ignored by init"):(s("Page size reset by host page"),rt("resetPage"))},resize:function(){ht("resizeParent","Parent window requested size check")},moveToAnchor:function(){ne.findTarget(de())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var Ie=de();s("PageInfoFromParent called from parent: "+Ie),De(JSON.parse(Ie)),s(" --")},message:function(){var Ie=de();s("MessageCallback called from parent: "+Ie),Oe(JSON.parse(Ie)),s(" --")}};function j(){return ze===(""+i.data).substr(0,re)}function ie(){return i.data.split("]")[1].split(":")[0]}function de(){return i.data.substr(i.data.indexOf(":")+1)}function xe(){return!n.exports&&"iFrameResize"in window}function Fe(){return i.data.split(":")[2]in{true:1,false:1}}function Ce(){var fe=ie();fe in p?p[fe]():!xe()&&!Fe()&&I("Unexpected message ("+i.data+")")}function ye(){H===!1?Ce():Fe()?p.init():s('Ignored message of type "'+ie()+'". Received before initialization.')}j()&&ye()}function z(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}Le(window,"message",w),z()})()},28:(n,v)=>{var S,A,Y;(function(W){if(typeof window>"u")return;var D=0,y=!1,k=!1,h="message",M=h.length,O="[iFrameSizer]",H=O.length,F=null,t=window.requestAnimationFrame,L={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},r={},V=null,ne={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){_("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};function J(s,I,Z){"addEventListener"in window?s.addEventListener(I,Z,!1):"attachEvent"in window&&s.attachEvent("on"+I,Z)}function _e(s,I,Z){"removeEventListener"in window?s.removeEventListener(I,Z,!1):"detachEvent"in window&&s.detachEvent("on"+I,Z)}function me(){var s=["moz","webkit","o","ms"],I;for(I=0;I<s.length&&!t;I+=1)t=window[s[I]+"RequestAnimationFrame"];t||R("setup","RequestAnimationFrame not supported")}function ze(s){var I="Host page: "+s;return window.top!==window.self&&(window.parentIFrame&&window.parentIFrame.getId?I=window.parentIFrame.getId()+": "+s:I="Nested host page: "+s),I}function re(s){return O+"["+ze(s)+"]"}function P(s){return r[s]?r[s].log:y}function R(s,I){x("log",s,I,P(s))}function f(s,I){x("info",s,I,P(s))}function _(s,I){x("warn",s,I,!0)}function x(s,I,Z,K){K===!0&&typeof window.console=="object"&&console[s](re(I),Z)}function U(s){function I(){function te(){pe(ee),ge(X),Ne("resizedCallback",ee)}K("Height"),K("Width"),Ee(te,ee,"init")}function Z(){var te=ue.substr(H).split(":");return{iframe:r[te[0]]&&r[te[0]].iframe,id:te[0],height:te[1],width:te[2],type:te[3]}}function K(te){var le=Number(r[X]["max"+te]),Se=Number(r[X]["min"+te]),we=te.toLowerCase(),Ae=Number(ee[we]);R(X,"Checking "+we+" is in range "+Se+"-"+le),Ae<Se&&(Ae=Se,R(X,"Set "+we+" to min value")),Ae>le&&(Ae=le,R(X,"Set "+we+" to max value")),ee[we]=""+Ae}function se(){function te(){function we(){var He=0,Ge=!1;for(R(X,"Checking connection is from allowed list of origins: "+Se);He<Se.length;He++)if(Se[He]===le){Ge=!0;break}return Ge}function Ae(){var He=r[X]&&r[X].remoteHost;return R(X,"Checking connection is from: "+He),le===He}return Se.constructor===Array?we():Ae()}var le=s.origin,Se=r[X]&&r[X].checkOrigin;if(Se&&""+le!="null"&&!te())throw new Error("Unexpected message received from: "+le+" for "+ee.iframe.id+". Message was: "+s.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function be(){return O===(""+ue).substr(0,H)&&ue.substr(H).split(":")[0]in r}function je(){var te=ee.type in{true:1,false:1,undefined:1};return te&&R(X,"Ignoring init message from meta parent page"),te}function ce(te){return ue.substr(ue.indexOf(":")+M+te)}function qe(te){R(X,"MessageCallback passed: {iframe: "+ee.iframe.id+", message: "+te+"}"),Ne("messageCallback",{iframe:ee.iframe,message:JSON.parse(te)}),R(X,"--")}function g(){var te=document.body.getBoundingClientRect(),le=ee.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:le.height,iframeWidth:le.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(le.top-te.top,10),offsetLeft:parseInt(le.left-te.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function B(te,le){function Se(){Oe("Send Page Info","pageInfo:"+g(),te,le)}Re(Se,32)}function o(){function te(Ae,He){function Ge(){r[we]?B(r[we].iframe,we):le()}["scroll","resize"].forEach(function(lt){R(we,Ae+lt+" listener for sendPageInfo"),He(window,lt,Ge)})}function le(){te("Remove ",_e)}function Se(){te("Add ",J)}var we=X;Se(),r[we]&&(r[we].stopPageInfo=le)}function b(){r[X]&&r[X].stopPageInfo&&(r[X].stopPageInfo(),delete r[X].stopPageInfo)}function c(){var te=!0;return ee.iframe===null&&(_(X,"IFrame ("+ee.id+") not found"),te=!1),te}function T(te){var le=te.getBoundingClientRect();return q(X),{x:Math.floor(Number(le.left)+Number(F.x)),y:Math.floor(Number(le.top)+Number(F.y))}}function C(te){function le(){F=He,N(),R(X,"--")}function Se(){return{x:Number(ee.width)+Ae.x,y:Number(ee.height)+Ae.y}}function we(){window.parentIFrame?window.parentIFrame["scrollTo"+(te?"Offset":"")](He.x,He.y):_(X,"Unable to scroll to requested position, window.parentIFrame not found")}var Ae=te?T(ee.iframe):{x:0,y:0},He=Se();R(X,"Reposition requested from iFrame (offset x:"+Ae.x+" y:"+Ae.y+")"),window.top!==window.self?we():le()}function N(){Ne("scrollCallback",F)!==!1?ge(X):ve()}function Te(te){function le(){var Ge=T(He);R(X,"Moving to in page link (#"+we+") at x: "+Ge.x+" y: "+Ge.y),F={x:Ge.x,y:Ge.y},N(),R(X,"--")}function Se(){window.parentIFrame?window.parentIFrame.moveToAnchor(we):R(X,"In page link #"+we+" not found and window.parentIFrame not found")}var we=te.split("#")[1]||"",Ae=decodeURIComponent(we),He=document.getElementById(Ae)||document.getElementsByName(Ae)[0];He?le():window.top!==window.self?Se():R(X,"In page link #"+we+" not found")}function Ne(te,le){return G(X,te,le)}function Ze(){switch(r[X]&&r[X].firstRun&&We(),ee.type){case"close":r[X].closeRequestCallback?G(X,"closeRequestCallback",r[X].iframe):$(ee.iframe);break;case"message":qe(ce(6));break;case"scrollTo":C(!1);break;case"scrollToOffset":C(!0);break;case"pageInfo":B(r[X]&&r[X].iframe,X),o();break;case"pageInfoStop":b();break;case"inPageLink":Te(ce(9));break;case"reset":Be(ee);break;case"init":I(),Ne("initCallback",ee.iframe);break;default:I()}}function ft(te){var le=!0;return r[te]||(le=!1,_(ee.type+" No settings for "+te+". Message was: "+ue)),le}function Je(){for(var te in r)Oe("iFrame requested init",Me(te),document.getElementById(te),te)}function We(){r[X]&&(r[X].firstRun=!1)}var ue=s.data,ee={},X=null;ue==="[iFrameResizerChild]Ready"?Je():be()?(ee=Z(),X=ee.id,r[X]&&(r[X].loaded=!0),!je()&&ft(X)&&(R(X,"Received: "+ue),c()&&se()&&Ze())):f(X,"Ignored: "+ue)}function G(s,I,Z){var K=null,se=null;if(r[s])if(K=r[s][I],typeof K=="function")se=K(Z);else throw new TypeError(I+" on iFrame["+s+"] is not a function");return se}function $(s){var I=s.id;R(I,"Removing iFrame: "+I),s.parentNode&&s.parentNode.removeChild(s),G(I,"closedCallback",I),R(I,"--"),delete r[I]}function q(s){F===null&&(F={x:window.pageXOffset!==W?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==W?window.pageYOffset:document.documentElement.scrollTop},R(s,"Get page position: "+F.x+","+F.y))}function ge(s){F!==null&&(window.scrollTo(F.x,F.y),R(s,"Set page position: "+F.x+","+F.y),ve())}function ve(){F=null}function Be(s){function I(){pe(s),Oe("reset","reset",s.iframe,s.id)}R(s.id,"Size reset requested by "+(s.type==="init"?"host page":"iFrame")),q(s.id),Ee(I,s,"reset")}function pe(s){function I(be){s.iframe.style[be]=s[be]+"px",R(s.id,"IFrame ("+se+") "+be+" set to "+s[be]+"px")}function Z(be){!k&&s[be]==="0"&&(k=!0,R(se,"Hidden iFrame detected, creating visibility listener"),Ue())}function K(be){I(be),Z(be)}var se=s.iframe.id;r[se]&&(r[se].sizeHeight&&K("height"),r[se].sizeWidth&&K("width"))}function Ee(s,I,Z){Z!==I.type&&t?(R(I.id,"Requesting animation frame"),t(s)):s()}function Oe(s,I,Z,K,se){function be(){var B=r[K]&&r[K].targetOrigin;R(K,"["+s+"] Sending msg to iframe["+K+"] ("+I+") targetOrigin: "+B),Z.contentWindow.postMessage(O+I,B)}function je(){_(K,"["+s+"] IFrame("+K+") not found")}function ce(){Z&&"contentWindow"in Z&&Z.contentWindow!==null?be():je()}function qe(){function B(){r[K]&&!r[K].loaded&&!g&&(g=!0,_(K,"IFrame has not responded within "+r[K].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}se&&r[K]&&r[K].warningTimeout&&(r[K].msgTimeout=setTimeout(B,r[K].warningTimeout))}var g=!1;K=K||Z.id,r[K]&&(ce(),qe())}function Me(s){return s+":"+r[s].bodyMarginV1+":"+r[s].sizeWidth+":"+r[s].log+":"+r[s].interval+":"+r[s].enablePublicMethods+":"+r[s].autoResize+":"+r[s].bodyMargin+":"+r[s].heightCalculationMethod+":"+r[s].bodyBackground+":"+r[s].bodyPadding+":"+r[s].tolerance+":"+r[s].inPageLinks+":"+r[s].resizeFrom+":"+r[s].widthCalculationMethod}function De(s,I){function Z(){function N(Ne){r[C][Ne]!==1/0&&r[C][Ne]!==0&&(s.style[Ne]=r[C][Ne]+"px",R(C,"Set "+Ne+" = "+r[C][Ne]+"px"))}function Te(Ne){if(r[C]["min"+Ne]>r[C]["max"+Ne])throw new Error("Value for min"+Ne+" can not be greater than max"+Ne)}Te("Height"),Te("Width"),N("maxHeight"),N("minHeight"),N("maxWidth"),N("minWidth")}function K(){var N=I&&I.id||ne.id+D++;return document.getElementById(N)!==null&&(N=N+D++),N}function se(N){return N===""&&(s.id=N=K(),y=(I||{}).log,R(N,"Added missing iframe ID: "+N+" ("+s.src+")")),N}function be(){switch(R(C,"IFrame scrolling "+(r[C]&&r[C].scrolling?"enabled":"disabled")+" for "+C),s.style.overflow=(r[C]&&r[C].scrolling)===!1?"hidden":"auto",r[C]&&r[C].scrolling){case!0:s.scrolling="yes";break;case!1:s.scrolling="no";break;default:s.scrolling=r[C]?r[C].scrolling:"no"}}function je(){(typeof(r[C]&&r[C].bodyMargin)=="number"||(r[C]&&r[C].bodyMargin)==="0")&&(r[C].bodyMarginV1=r[C].bodyMargin,r[C].bodyMargin=""+r[C].bodyMargin+"px")}function ce(){var N=r[C]&&r[C].firstRun,Te=r[C]&&r[C].heightCalculationMethod in L;!N&&Te&&Be({iframe:s,height:0,width:0,type:"init"})}function qe(){Function.prototype.bind&&r[C]&&(r[C].iframe.iFrameResizer={close:$.bind(null,r[C].iframe),resize:Oe.bind(null,"Window resize","resize",r[C].iframe),moveToAnchor:function(N){Oe("Move to anchor","moveToAnchor:"+N,r[C].iframe,C)},sendMessage:function(N){N=JSON.stringify(N),Oe("Send Message","message:"+N,r[C].iframe,C)}})}function g(N){function Te(){Oe("iFrame.onload",N,s,W,!0),ce()}J(s,"load",Te),Oe("init",N,s,W,!0)}function B(N){if(typeof N!="object")throw new TypeError("Options is not an object")}function o(N){for(var Te in ne)ne.hasOwnProperty(Te)&&(r[C][Te]=N.hasOwnProperty(Te)?N[Te]:ne[Te])}function b(N){return N===""||N==="file://"?"*":N}function c(N){N=N||{},r[C]={firstRun:!0,iframe:s,remoteHost:s.src.split("/").slice(0,3).join("/")},B(N),o(N),r[C]&&(r[C].targetOrigin=r[C].checkOrigin===!0?b(r[C].remoteHost):"*")}function T(){return C in r&&"iFrameResizer"in s}var C=se(s.id);T()?_(C,"Ignored iFrame, already setup."):(c(I),be(),Z(),je(),g(Me(C)),qe())}function Re(s,I){V===null&&(V=setTimeout(function(){V=null,s()},I))}function Ue(){function s(){function se(je){function ce(g){return(r[je]&&r[je].iframe.style[g])==="0px"}function qe(g){return g.offsetParent!==null}r[je]&&qe(r[je].iframe)&&(ce("height")||ce("width"))&&Oe("Visibility change","resize",r[je].iframe,je)}for(var be in r)se(be)}function I(se){R("window","Mutation observed: "+se[0].target+" "+se[0].type),Re(s,16)}function Z(){var se=document.querySelector("body"),be={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},je=new K(I);je.observe(se,be)}var K=window.MutationObserver||window.WebKitMutationObserver;K&&Z()}function Le(s){function I(){Xe("Window "+s,"resize")}R("window","Trigger event: "+s),Re(I,16)}function Qe(){function s(){Xe("Tab Visable","resize")}document.visibilityState!=="hidden"&&(R("document","Trigger event: Visiblity change"),Re(s,16))}function Xe(s,I){function Z(se){return r[se]&&r[se].resizeFrom==="parent"&&r[se].autoResize&&!r[se].firstRun}for(var K in r)Z(K)&&Oe(s,I,document.getElementById(K),K)}function tt(){J(window,"message",U),J(window,"resize",function(){Le("resize")}),J(document,"visibilitychange",Qe),J(document,"-webkit-visibilitychange",Qe),J(window,"focusin",function(){Le("focus")}),J(window,"focus",function(){Le("focus")})}function m(){function s(K,se){function be(){if(se.tagName){if(se.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+se.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}se&&(be(),De(se,K),Z.push(se))}function I(K){K&&K.enablePublicMethods&&_("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var Z;return me(),tt(),function(se,be){switch(Z=[],I(se),typeof be){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(be||"iframe"),s.bind(W,se));break;case"object":s(se,be);break;default:throw new TypeError("Unexpected data type ("+typeof be+")")}return Z}}function Q(s){s.fn?s.fn.iFrameResize||(s.fn.iFrameResize=function(Z){function K(se,be){De(be,Z)}return this.filter("iframe").each(K).end()}):f("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&Q(window.jQuery),A=[],S=m,Y=typeof S=="function"?S.apply(v,A):S,Y!==W&&(n.exports=Y)})()},683:(n,v,S)=>{v.iframeResizer=S(28),v.iframeResizerContentWindow=S(402)},457:n=>{var v=function(){var S=Math.floor(Math.random()*1000001),A={};function Y(h,M,O,H){function F(r){for(var V=0;V<r.length;V++)if(r[V].win===h)return!0;return!1}var t=!1;if(M==="*"){for(var L in A)if(A.hasOwnProperty(L)&&L!=="*"&&typeof A[L][O]=="object"&&(t=F(A[L][O]),t))break}else A["*"]&&A["*"][O]&&(t=F(A["*"][O])),!t&&A[M]&&A[M][O]&&(t=F(A[M][O]));if(t)throw"A channel is already bound to the same window which overlaps with origin '"+M+"' and has scope '"+O+"'";typeof A[M]!="object"&&(A[M]={}),typeof A[M][O]!="object"&&(A[M][O]=[]),A[M][O].push({win:h,handler:H})}function W(h,M,O){for(var H=A[M][O],F=0;F<H.length;F++)H[F].win===h&&H.splice(F,1);A[M][O].length===0&&delete A[M][O]}function D(h){return Array.isArray?Array.isArray(h):h.constructor.toString().indexOf("Array")!=-1}var y={},k=function(h){try{var M=JSON.parse(h.data);if(typeof M!="object"||M===null)throw"malformed"}catch{return}var O=h.source,H=h.origin,F,t,L;if(typeof M.method=="string"){var r=M.method.split("::");r.length==2?(F=r[0],L=r[1]):L=M.method}if(typeof M.id<"u"&&(t=M.id),typeof L=="string"){var V=!1;if(A[H]&&A[H][F]){for(var ne=0;ne<A[H][F].length;ne++)if(A[H][F][ne].win===O){A[H][F][ne].handler(H,L,M),V=!0;break}}if(!V&&A["*"]&&A["*"][F]){for(var ne=0;ne<A["*"][F].length;ne++)if(A["*"][F][ne].win===O){A["*"][F][ne].handler(H,L,M);break}}}else typeof t<"u"&&y[t]&&y[t](H,L,M)};return window.addEventListener?window.addEventListener("message",k,!1):window.attachEvent&&window.attachEvent("onmessage",k),{build:function(h){var M=function(f){if(h.debugOutput&&window.console&&window.console.log){try{typeof f!="string"&&(f=JSON.stringify(f))}catch{}console.log("["+F+"] "+f)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof h!="object")throw"Channel build invoked without a proper object argument";if(!h.window||!h.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===h.window)throw"target window is same as present window -- not allowed";var O=!1;if(typeof h.origin=="string"){var H;h.origin==="*"?O=!0:(H=h.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))!==null&&(h.origin=H[0].toLowerCase(),O=!0)}if(!O)throw"Channel.build() called with an invalid origin";if(typeof h.scope<"u"){if(typeof h.scope!="string")throw"scope, when specified, must be a string";if(h.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var F=function(){for(var f="",_="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",x=0;x<5;x++)f+=_.charAt(Math.floor(Math.random()*_.length));return f}(),t={},L={},r={},V=!1,ne=[],J=function(f,_,x){var U=!1,G=!1;return{origin:_,invoke:function($,q){if(!r[f])throw"attempting to invoke a callback of a nonexistent transaction: "+f;for(var ge=!1,ve=0;ve<x.length;ve++)if($===x[ve]){ge=!0;break}if(!ge)throw"request supports no such callback '"+$+"'";re({id:f,callback:$,params:q})},error:function($,q){if(G=!0,!r[f])throw"error called for nonexistent message: "+f;delete r[f],re({id:f,error:$,message:q})},complete:function($){if(G=!0,!r[f])throw"complete called for nonexistent message: "+f;delete r[f],re({id:f,result:$})},delayReturn:function($){return typeof $=="boolean"&&(U=$===!0),U},completed:function(){return G}}},_e=function(f,_,x){return window.setTimeout(function(){if(L[f]){var U="timeout ("+_+"ms) exceeded on method '"+x+"'";(0,L[f].error)("timeout_error",U),delete L[f],delete y[f]}},_)},me=function(f,_,x){if(typeof h.gotMessageObserver=="function")try{h.gotMessageObserver(f,x)}catch(Me){M("gotMessageObserver() raised an exception: "+Me.toString())}if(x.id&&_){if(t[_]){var U=J(x.id,f,x.callbacks?x.callbacks:[]);r[x.id]={};try{if(x.callbacks&&D(x.callbacks)&&x.callbacks.length>0)for(var G=0;G<x.callbacks.length;G++){for(var $=x.callbacks[G],q=x.params,ge=$.split("/"),ve=0;ve<ge.length-1;ve++){var Be=ge[ve];typeof q[Be]!="object"&&(q[Be]={}),q=q[Be]}q[ge[ge.length-1]]=function(){var Me=$;return function(De){return U.invoke(Me,De)}}()}var pe=t[_](U,x.params);!U.delayReturn()&&!U.completed()&&U.complete(pe)}catch(Me){var Ee="runtime_error",Oe=null;if(typeof Me=="string"?Oe=Me:typeof Me=="object"&&(Me&&D(Me)&&Me.length==2?(Ee=Me[0],Oe=Me[1]):typeof Me.error=="string"&&(Ee=Me.error,Me.message?typeof Me.message=="string"?Oe=Me.message:Me=Me.message:Oe="")),Oe===null)try{Oe=JSON.stringify(Me),typeof Oe>"u"&&(Oe=Me.toString())}catch{Oe=Me.toString()}U.error(Ee,Oe)}}}else x.id&&x.callback?!L[x.id]||!L[x.id].callbacks||!L[x.id].callbacks[x.callback]?M("ignoring invalid callback, id:"+x.id+" ("+x.callback+")"):L[x.id].callbacks[x.callback](x.params):x.id?L[x.id]?(x.error?(0,L[x.id].error)(x.error,x.message):x.result!==void 0?(0,L[x.id].success)(x.result):(0,L[x.id].success)(),delete L[x.id],delete y[x.id]):M("ignoring invalid response: "+x.id):_&&t[_]&&t[_]({origin:f},x.params)};Y(h.window,h.origin,typeof h.scope=="string"?h.scope:"",me);var ze=function(f){return typeof h.scope=="string"&&h.scope.length&&(f=[h.scope,f].join("::")),f},re=function(f,_){if(!f)throw"postMessage called with null message";var x=V?"post  ":"queue ";if(M(x+" message: "+JSON.stringify(f)),!_&&!V)ne.push(f);else{if(typeof h.postMessageObserver=="function")try{h.postMessageObserver(h.origin,f)}catch(U){M("postMessageObserver() raised an exception: "+U.toString())}h.window.postMessage(JSON.stringify(f),h.origin)}},P=function(f,_){if(M("ready msg received"),V)throw"received ready message while in ready state.  help!";for(_==="ping"?F+="-R":F+="-L",R.unbind("__ready"),V=!0,M("ready msg accepted."),_==="ping"&&R.notify({method:"__ready",params:"pong"});ne.length;)re(ne.pop());typeof h.onReady=="function"&&h.onReady(R)},R={unbind:function(f){if(t[f]){if(!delete t[f])throw"can't delete method: "+f;return!0}return!1},bind:function(f,_){if(!f||typeof f!="string")throw"'method' argument to bind must be string";if(!_||typeof _!="function")throw"callback missing from bind params";if(t[f])throw"method '"+f+"' is already bound!";return t[f]=_,this},call:function(f){if(!f)throw"missing arguments to call function";if(!f.method||typeof f.method!="string")throw"'method' argument to call must be string";if(!f.success||typeof f.success!="function")throw"'success' callback missing from call";var _={},x=[],U=[],G=function(q,ge){if(U.indexOf(ge)>=0)throw"params cannot be a recursive data structure";if(U.push(ge),typeof ge=="object"){for(var ve in ge)if(ge.hasOwnProperty(ve)){var Be=q+(q.length?"/":"")+ve;typeof ge[ve]=="function"?(_[Be]=ge[ve],x.push(Be),delete ge[ve]):typeof ge[ve]=="object"&&ge[ve]!==null&&G(Be,ge[ve])}}};G("",f.params);var $={id:S,method:ze(f.method),params:f.params};x.length&&($.callbacks=x),f.timeout&&_e(S,f.timeout,ze(f.method)),L[S]={callbacks:_,error:f.error,success:f.success},y[S]=me,S++,re($)},notify:function(f){if(!f)throw"missing arguments to notify function";if(!f.method||typeof f.method!="string")throw"'method' argument to notify must be string";re({method:ze(f.method),params:f.params})},destroy:function(){W(h.window,h.origin,typeof h.scope=="string"?h.scope:""),window.removeEventListener?window.removeEventListener("message",me,!1):window.detachEvent&&window.detachEvent("onmessage",me),V=!1,t={},r={},L={},h.origin=null,ne=[],M("channel destroyed"),F=""}};return R.bind("__ready",P),setTimeout(function(){re({method:ze("__ready"),params:"ping"},!0)},0),R}}}();n.exports=v},705:(n,v,S)=>{var A=S(639),Y=A.Symbol;n.exports=Y},239:(n,v,S)=>{var A=S(705),Y=S(607),W=S(333),D="[object Null]",y="[object Undefined]",k=A?A.toStringTag:void 0;function h(M){return M==null?M===void 0?y:D:k&&k in Object(M)?Y(M):W(M)}n.exports=h},957:(n,v,S)=>{var A=typeof S.g=="object"&&S.g&&S.g.Object===Object&&S.g;n.exports=A},924:(n,v,S)=>{var A=S(569),Y=A(Object.getPrototypeOf,Object);n.exports=Y},607:(n,v,S)=>{var A=S(705),Y=Object.prototype,W=Y.hasOwnProperty,D=Y.toString,y=A?A.toStringTag:void 0;function k(h){var M=W.call(h,y),O=h[y];try{h[y]=void 0;var H=!0}catch{}var F=D.call(h);return H&&(M?h[y]=O:delete h[y]),F}n.exports=k},333:n=>{var v=Object.prototype,S=v.toString;function A(Y){return S.call(Y)}n.exports=A},569:n=>{function v(S,A){return function(Y){return S(A(Y))}}n.exports=v},639:(n,v,S)=>{var A=S(957),Y=typeof self=="object"&&self&&self.Object===Object&&self,W=A||Y||Function("return this")();n.exports=W},469:n=>{var v=Array.isArray;n.exports=v},5:n=>{function v(S){return S!=null&&typeof S=="object"}n.exports=v},630:(n,v,S)=>{var A=S(239),Y=S(924),W=S(5),D="[object Object]",y=Function.prototype,k=Object.prototype,h=y.toString,M=k.hasOwnProperty,O=h.call(Object);function H(F){if(!W(F)||A(F)!=D)return!1;var t=Y(F);if(t===null)return!0;var L=M.call(t,"constructor")&&t.constructor;return typeof L=="function"&&L instanceof L&&h.call(L)==O}n.exports=H},37:(n,v,S)=>{var A=S(239),Y=S(469),W=S(5),D="[object String]";function y(k){return typeof k=="string"||!Y(k)&&W(k)&&A(k)==D}n.exports=y},353:n=>{function v(S){return S===void 0}n.exports=v}},u={};function d(n){var v=u[n];if(v!==void 0)return v.exports;var S=u[n]={exports:{}};return e[n].call(S.exports,S,S.exports,d),S.exports}d.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var a=d(541);l.Addon=a})()})(Jt);(()=>{var l={669:(d,a,n)=>{var v=n(218),S=M(v),A=function(){function L(r,V){for(var ne=0;ne<V.length;ne++){var J=V[ne];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(r,J.key,J)}}return function(r,V,ne){return V&&L(r.prototype,V),ne&&L(r,ne),r}}(),Y=n(457),W=M(Y),D=n(729),y=M(D),k=n(702),h=n(303);function M(L){return L&&L.__esModule?L:{default:L}}function O(L,r){if(!(L instanceof r))throw new TypeError("Cannot call a class as a function")}function H(L,r){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:L}function F(L,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);L.prototype=Object.create(r&&r.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(L,r):L.__proto__=r)}var t=function(L){F(r,L);function r(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};O(this,r);var ne=H(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));if(ne.options=V,!V.iframe)throw new Error("Iframe not defined");return(0,h.iframeResizer)({checkOrigin:!0,heightCalculationMethod:window.ieVersion<=10?"max":"lowestElement",resizeFrom:"child",resizedCallback:function(_e){ne.emit("iframeResized",_e)}},V.iframe),ne.channel=W.default.build({window:V.iframe.contentWindow,origin:V.origin||"*",scope:V.id||V.iframe.contentWindow.location.origin,postMessageObserver:function(_e,me){ne.emit("postMessage",_e,me)},gotMessageObserver:function(_e,me){ne.emit("gotMessage",_e,me)}}),["saveData","request","addTransaction","editTransaction","addInstitution","addInvestment","editInstitution","editAsset","editLiability","deleteInstitution","deleteAsset","deleteLiability","downloadDocument","upgradePremium","getSharings","switchUser"].forEach(function(J){ne.channel.bind(J,function(_e,me){var ze=J,re=me;_e.delayReturn(!0);var P=function(f,_){return f?_e.error(f):_e.complete(_)};ne.emit(ze,re||P,re?P:void 0)})}),ne.channel.call({method:"init",params:V.options,success:function(_e){ne.emit("init",_e)}}),ne}return A(r,[{key:"trigger",value:function(ne,J){var _e=this,me={eventName:ne};return J&&(me.eventData=J),new k.Promise(function(ze,re){_e.channel.call({method:"_event",params:me,success:ze,error:re})})}},{key:"update",value:function(ne){var J=this;return new k.Promise(function(_e,me){if(!(0,S.default)(ne))throw new Error("Data must be an object");J.channel.call({method:"update",params:ne,success:_e,error:me})})}},{key:"reload",value:function(){var ne=this;return new k.Promise(function(J,_e){ne.channel.call({method:"reload",success:J,error:_e})})}},{key:"destroy",value:function(){this.channel.destroy()}}]),r}(y.default);d.exports=t},702:function(d,a,n){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(v,S){d.exports=S()})(this,function(){function v(g){var B=typeof g;return g!==null&&(B==="object"||B==="function")}function S(g){return typeof g=="function"}var A=void 0;Array.isArray?A=Array.isArray:A=function(g){return Object.prototype.toString.call(g)==="[object Array]"};var Y=A,W=0,D=void 0,y=void 0,k=function(B,o){me[W]=B,me[W+1]=o,W+=2,W===2&&(y?y(ze):P())};function h(g){y=g}function M(g){k=g}var O=typeof window<"u"?window:void 0,H=O||{},F=H.MutationObserver||H.WebKitMutationObserver,t=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",L=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function r(){return function(){return process.nextTick(ze)}}function V(){return typeof D<"u"?function(){D(ze)}:_e()}function ne(){var g=0,B=new F(ze),o=document.createTextNode("");return B.observe(o,{characterData:!0}),function(){o.data=g=++g%2}}function J(){var g=new MessageChannel;return g.port1.onmessage=ze,function(){return g.port2.postMessage(0)}}function _e(){var g=setTimeout;return function(){return g(ze,1)}}var me=new Array(1e3);function ze(){for(var g=0;g<W;g+=2){var B=me[g],o=me[g+1];B(o),me[g]=void 0,me[g+1]=void 0}W=0}function re(){try{var g=Function("return this")().require("vertx");return D=g.runOnLoop||g.runOnContext,V()}catch{return _e()}}var P=void 0;t?P=r():F?P=ne():L?P=J():O===void 0?P=re():P=_e();function R(g,B){var o=this,b=new this.constructor(x);b[_]===void 0&&Q(b);var c=o._state;if(c){var T=arguments[c-1];k(function(){return Qe(c,b,T,o._result)})}else Ue(o,b,g,B);return b}function f(g){var B=this;if(g&&typeof g=="object"&&g.constructor===B)return g;var o=new B(x);return Oe(o,g),o}var _=Math.random().toString(36).substring(2);function x(){}var U=void 0,G=1,$=2;function q(){return new TypeError("You cannot resolve a promise with itself")}function ge(){return new TypeError("A promises callback cannot return that same promise.")}function ve(g,B,o,b){try{g.call(B,o,b)}catch(c){return c}}function Be(g,B,o){k(function(b){var c=!1,T=ve(o,B,function(C){c||(c=!0,B!==C?Oe(b,C):De(b,C))},function(C){c||(c=!0,Re(b,C))},"Settle: "+(b._label||" unknown promise"));!c&&T&&(c=!0,Re(b,T))},g)}function pe(g,B){B._state===G?De(g,B._result):B._state===$?Re(g,B._result):Ue(B,void 0,function(o){return Oe(g,o)},function(o){return Re(g,o)})}function Ee(g,B,o){B.constructor===g.constructor&&o===R&&B.constructor.resolve===f?pe(g,B):o===void 0?De(g,B):S(o)?Be(g,B,o):De(g,B)}function Oe(g,B){if(g===B)Re(g,q());else if(v(B)){var o=void 0;try{o=B.then}catch(b){Re(g,b);return}Ee(g,B,o)}else De(g,B)}function Me(g){g._onerror&&g._onerror(g._result),Le(g)}function De(g,B){g._state===U&&(g._result=B,g._state=G,g._subscribers.length!==0&&k(Le,g))}function Re(g,B){g._state===U&&(g._state=$,g._result=B,k(Me,g))}function Ue(g,B,o,b){var c=g._subscribers,T=c.length;g._onerror=null,c[T]=B,c[T+G]=o,c[T+$]=b,T===0&&g._state&&k(Le,g)}function Le(g){var B=g._subscribers,o=g._state;if(B.length!==0){for(var b=void 0,c=void 0,T=g._result,C=0;C<B.length;C+=3)b=B[C],c=B[C+o],b?Qe(o,b,c,T):c(T);g._subscribers.length=0}}function Qe(g,B,o,b){var c=S(o),T=void 0,C=void 0,N=!0;if(c){try{T=o(b)}catch(Te){N=!1,C=Te}if(B===T){Re(B,ge());return}}else T=b;B._state!==U||(c&&N?Oe(B,T):N===!1?Re(B,C):g===G?De(B,T):g===$&&Re(B,T))}function Xe(g,B){try{B(function(b){Oe(g,b)},function(b){Re(g,b)})}catch(o){Re(g,o)}}var tt=0;function m(){return tt++}function Q(g){g[_]=tt++,g._state=void 0,g._result=void 0,g._subscribers=[]}function s(){return new Error("Array Methods must be provided an Array")}var I=function(){function g(B,o){this._instanceConstructor=B,this.promise=new B(x),this.promise[_]||Q(this.promise),Y(o)?(this.length=o.length,this._remaining=o.length,this._result=new Array(this.length),this.length===0?De(this.promise,this._result):(this.length=this.length||0,this._enumerate(o),this._remaining===0&&De(this.promise,this._result))):Re(this.promise,s())}return g.prototype._enumerate=function(o){for(var b=0;this._state===U&&b<o.length;b++)this._eachEntry(o[b],b)},g.prototype._eachEntry=function(o,b){var c=this._instanceConstructor,T=c.resolve;if(T===f){var C=void 0,N=void 0,Te=!1;try{C=o.then}catch(Ze){Te=!0,N=Ze}if(C===R&&o._state!==U)this._settledAt(o._state,b,o._result);else if(typeof C!="function")this._remaining--,this._result[b]=o;else if(c===ce){var Ne=new c(x);Te?Re(Ne,N):Ee(Ne,o,C),this._willSettleAt(Ne,b)}else this._willSettleAt(new c(function(Ze){return Ze(o)}),b)}else this._willSettleAt(T(o),b)},g.prototype._settledAt=function(o,b,c){var T=this.promise;T._state===U&&(this._remaining--,o===$?Re(T,c):this._result[b]=c),this._remaining===0&&De(T,this._result)},g.prototype._willSettleAt=function(o,b){var c=this;Ue(o,void 0,function(T){return c._settledAt(G,b,T)},function(T){return c._settledAt($,b,T)})},g}();function Z(g){return new I(this,g).promise}function K(g){var B=this;return Y(g)?new B(function(o,b){for(var c=g.length,T=0;T<c;T++)B.resolve(g[T]).then(o,b)}):new B(function(o,b){return b(new TypeError("You must pass an array to race."))})}function se(g){var B=this,o=new B(x);return Re(o,g),o}function be(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function je(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ce=function(){function g(B){this[_]=m(),this._result=this._state=void 0,this._subscribers=[],x!==B&&(typeof B!="function"&&be(),this instanceof g?Xe(this,B):je())}return g.prototype.catch=function(o){return this.then(null,o)},g.prototype.finally=function(o){var b=this,c=b.constructor;return S(o)?b.then(function(T){return c.resolve(o()).then(function(){return T})},function(T){return c.resolve(o()).then(function(){throw T})}):b.then(o,o)},g}();ce.prototype.then=R,ce.all=Z,ce.race=K,ce.resolve=f,ce.reject=se,ce._setScheduler=h,ce._setAsap=M,ce._asap=k;function qe(){var g=void 0;if(typeof n.g<"u")g=n.g;else if(typeof self<"u")g=self;else try{g=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var B=g.Promise;if(B){var o=null;try{o=Object.prototype.toString.call(B.resolve())}catch{}if(o==="[object Promise]"&&!B.cast)return}g.Promise=ce}return ce.polyfill=qe,ce.Promise=ce,ce})},729:d=>{var a=Object.prototype.hasOwnProperty,n="~";function v(){}Object.create&&(v.prototype=Object.create(null),new v().__proto__||(n=!1));function S(D,y,k){this.fn=D,this.context=y,this.once=k||!1}function A(D,y,k,h,M){if(typeof k!="function")throw new TypeError("The listener must be a function");var O=new S(k,h||D,M),H=n?n+y:y;return D._events[H]?D._events[H].fn?D._events[H]=[D._events[H],O]:D._events[H].push(O):(D._events[H]=O,D._eventsCount++),D}function Y(D,y){--D._eventsCount===0?D._events=new v:delete D._events[y]}function W(){this._events=new v,this._eventsCount=0}W.prototype.eventNames=function(){var y=[],k,h;if(this._eventsCount===0)return y;for(h in k=this._events)a.call(k,h)&&y.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(k)):y},W.prototype.listeners=function(y){var k=n?n+y:y,h=this._events[k];if(!h)return[];if(h.fn)return[h.fn];for(var M=0,O=h.length,H=new Array(O);M<O;M++)H[M]=h[M].fn;return H},W.prototype.listenerCount=function(y){var k=n?n+y:y,h=this._events[k];return h?h.fn?1:h.length:0},W.prototype.emit=function(y,k,h,M,O,H){var F=n?n+y:y;if(!this._events[F])return!1;var t=this._events[F],L=arguments.length,r,V;if(t.fn){switch(t.once&&this.removeListener(y,t.fn,void 0,!0),L){case 1:return t.fn.call(t.context),!0;case 2:return t.fn.call(t.context,k),!0;case 3:return t.fn.call(t.context,k,h),!0;case 4:return t.fn.call(t.context,k,h,M),!0;case 5:return t.fn.call(t.context,k,h,M,O),!0;case 6:return t.fn.call(t.context,k,h,M,O,H),!0}for(V=1,r=new Array(L-1);V<L;V++)r[V-1]=arguments[V];t.fn.apply(t.context,r)}else{var ne=t.length,J;for(V=0;V<ne;V++)switch(t[V].once&&this.removeListener(y,t[V].fn,void 0,!0),L){case 1:t[V].fn.call(t[V].context);break;case 2:t[V].fn.call(t[V].context,k);break;case 3:t[V].fn.call(t[V].context,k,h);break;case 4:t[V].fn.call(t[V].context,k,h,M);break;default:if(!r)for(J=1,r=new Array(L-1);J<L;J++)r[J-1]=arguments[J];t[V].fn.apply(t[V].context,r)}}return!0},W.prototype.on=function(y,k,h){return A(this,y,k,h,!1)},W.prototype.once=function(y,k,h){return A(this,y,k,h,!0)},W.prototype.removeListener=function(y,k,h,M){var O=n?n+y:y;if(!this._events[O])return this;if(!k)return Y(this,O),this;var H=this._events[O];if(H.fn)H.fn===k&&(!M||H.once)&&(!h||H.context===h)&&Y(this,O);else{for(var F=0,t=[],L=H.length;F<L;F++)(H[F].fn!==k||M&&!H[F].once||h&&H[F].context!==h)&&t.push(H[F]);t.length?this._events[O]=t.length===1?t[0]:t:Y(this,O)}return this},W.prototype.removeAllListeners=function(y){var k;return y?(k=n?n+y:y,this._events[k]&&Y(this,k)):(this._events=new v,this._eventsCount=0),this},W.prototype.off=W.prototype.removeListener,W.prototype.addListener=W.prototype.on,W.prefixed=n,W.EventEmitter=W,d.exports=W},303:(d,a,n)=>{d.exports=n(683)},402:d=>{(function(a){if(typeof window>"u")return;var n=!0,v=10,S="",A=0,Y="",W=null,D="",y=!1,k={resize:1,click:1},h=128,M=!0,O=1,H="bodyOffset",F=H,t=!0,L="",r={},V=32,ne=null,J=!1,_e="[iFrameSizer]",me=_e.length,ze="",re={max:1,min:1,bodyScroll:1,documentElementScroll:1},P="child",R=!0,f=window.parent,_="*",x=0,U=!1,G=null,$=16,q=1,ge="scroll",ve=ge,Be=window,pe=function(){Q("MessageCallback function not defined")},Ee=function(){},Oe=function(){},Me={height:function(){return Q("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return Q("Custom width calculation function not defined"),document.body.scrollWidth}},De={};function Re(w,z,i){"addEventListener"in window?w.addEventListener(z,i,!1):"attachEvent"in window&&w.attachEvent("on"+z,i)}function Ue(w,z,i){"removeEventListener"in window?w.removeEventListener(z,i,!1):"detachEvent"in window&&w.detachEvent("on"+z,i)}function Le(w){return w.charAt(0).toUpperCase()+w.slice(1)}function Qe(w){var z,i,p,j=null,ie=0,de=function(){ie=Xe(),j=null,p=w.apply(z,i),j||(z=i=null)};return function(){var xe=Xe();ie||(ie=xe);var Fe=$-(xe-ie);return z=this,i=arguments,Fe<=0||Fe>$?(j&&(clearTimeout(j),j=null),ie=xe,p=w.apply(z,i),j||(z=i=null)):j||(j=setTimeout(de,Fe)),p}}var Xe=Date.now||function(){return new Date().getTime()};function tt(w){return _e+"["+ze+"] "+w}function m(w){J&&typeof window.console=="object"&&console.log(tt(w))}function Q(w){typeof window.console=="object"&&console.warn(tt(w))}function s(){I(),m("Initialising iFrame ("+location.href+")"),Z(),be(),se("background",S),se("padding",D),Ne(),B(),o(),je(),ft(),b(),r=Ze(),gt("init","Init message from host page"),Ee()}function I(){function w(i){return i==="true"}var z=L.substr(me).split(":");ze=z[0],A=a!==z[1]?Number(z[1]):A,y=a!==z[2]?w(z[2]):y,J=a!==z[3]?w(z[3]):J,V=a!==z[4]?Number(z[4]):V,n=a!==z[6]?w(z[6]):n,Y=z[7],F=a!==z[8]?z[8]:F,S=z[9],D=z[10],x=a!==z[11]?Number(z[11]):x,r.enable=a!==z[12]?w(z[12]):!1,P=a!==z[13]?z[13]:P,ve=a!==z[14]?z[14]:ve}function Z(){function w(){var i=window.iFrameResizer;m("Reading data from page: "+JSON.stringify(i)),pe="messageCallback"in i?i.messageCallback:pe,Ee="readyCallback"in i?i.readyCallback:Ee,_="targetOrigin"in i?i.targetOrigin:_,F="heightCalculationMethod"in i?i.heightCalculationMethod:F,ve="widthCalculationMethod"in i?i.widthCalculationMethod:ve}function z(i,p){return typeof i=="function"&&(m("Setup custom "+p+"CalcMethod"),Me[p]=i,i="custom"),i}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(w(),F=z(F,"height"),ve=z(ve,"width")),m("TargetOrigin for parent set to: "+_)}function K(w,z){return z.indexOf("-")!==-1&&(Q("Negative CSS value ignored for "+w),z=""),z}function se(w,z){a!==z&&z!==""&&z!=="null"&&(document.body.style[w]=z,m("Body "+w+' set to "'+z+'"'))}function be(){a===Y&&(Y=A+"px"),se("margin",K("margin",Y))}function je(){document.documentElement.style.height="",document.body.style.height="",m('HTML & body height set to "auto"')}function ce(w){var z={add:function(i){function p(){gt(w.eventName,w.eventType)}De[i]=p,Re(window,i,p)},remove:function(i){var p=De[i];delete De[i],Ue(window,i,p)}};w.eventNames&&Array.prototype.map?(w.eventName=w.eventNames[0],w.eventNames.map(z[w.method])):z[w.method](w.eventName),m(Le(w.method)+" event listener: "+w.eventType)}function qe(w){ce({method:w,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),ce({method:w,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),ce({method:w,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),ce({method:w,eventType:"Input",eventName:"input"}),ce({method:w,eventType:"Mouse Up",eventName:"mouseup"}),ce({method:w,eventType:"Mouse Down",eventName:"mousedown"}),ce({method:w,eventType:"Orientation Change",eventName:"orientationchange"}),ce({method:w,eventType:"Print",eventName:["afterprint","beforeprint"]}),ce({method:w,eventType:"Ready State Change",eventName:"readystatechange"}),ce({method:w,eventType:"Touch Start",eventName:"touchstart"}),ce({method:w,eventType:"Touch End",eventName:"touchend"}),ce({method:w,eventType:"Touch Cancel",eventName:"touchcancel"}),ce({method:w,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),ce({method:w,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),ce({method:w,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),P==="child"&&ce({method:w,eventType:"IFrame Resized",eventName:"resize"})}function g(w,z,i,p){return z!==w&&(w in i||(Q(w+" is not a valid option for "+p+"CalculationMethod."),w=z),m(p+' calculation method set to "'+w+'"')),w}function B(){F=g(F,H,Ae,"height")}function o(){ve=g(ve,ge,He,"width")}function b(){n===!0?(qe("add"),ue()):m("Auto Resize disabled")}function c(){m("Disable outgoing messages"),R=!1}function T(){m("Remove event listener: Message"),Ue(window,"message",Tt)}function C(){W!==null&&W.disconnect()}function N(){qe("remove"),C(),clearInterval(ne)}function Te(){c(),T(),n===!0&&N()}function Ne(){var w=document.createElement("div");w.style.clear="both",w.style.display="block",document.body.appendChild(w)}function Ze(){function w(){return{x:window.pageXOffset!==a?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==a?window.pageYOffset:document.documentElement.scrollTop}}function z(Fe){var Ce=Fe.getBoundingClientRect(),ye=w();return{x:parseInt(Ce.left,10)+parseInt(ye.x,10),y:parseInt(Ce.top,10)+parseInt(ye.y,10)}}function i(Fe){function Ce(ke){var Ke=z(ke);m("Moving to in page link (#"+ye+") at x: "+Ke.x+" y: "+Ke.y),rt(Ke.y,Ke.x,"scrollToOffset")}var ye=Fe.split("#")[1]||Fe,fe=decodeURIComponent(ye),Ie=document.getElementById(fe)||document.getElementsByName(fe)[0];a!==Ie?Ce(Ie):(m("In page link (#"+ye+") not found in iFrame, so sending to parent"),rt(0,0,"inPageLink","#"+ye))}function p(){location.hash!==""&&location.hash!=="#"&&i(location.href)}function j(){function Fe(Ce){function ye(fe){fe.preventDefault(),i(this.getAttribute("href"))}Ce.getAttribute("href")!=="#"&&Re(Ce,"click",ye)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),Fe)}function ie(){Re(window,"hashchange",p)}function de(){setTimeout(p,h)}function xe(){Array.prototype.forEach&&document.querySelectorAll?(m("Setting up location.hash handlers"),j(),ie(),de()):Q("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return r.enable?xe():m("In page linking not enabled"),{findTarget:i}}function ft(){m("Enable public methods"),Be.parentIFrame={autoResize:function(z){return z===!0&&n===!1?(n=!0,b()):z===!1&&n===!0&&(n=!1,N()),n},close:function(){rt(0,0,"close"),Te()},getId:function(){return ze},getPageInfo:function(z){typeof z=="function"?(Oe=z,rt(0,0,"pageInfo")):(Oe=function(){},rt(0,0,"pageInfoStop"))},moveToAnchor:function(z){r.findTarget(z)},reset:function(){kt("parentIFrame.reset")},scrollTo:function(z,i){rt(i,z,"scrollTo")},scrollToOffset:function(z,i){rt(i,z,"scrollToOffset")},sendMessage:function(z,i){rt(0,0,"message",JSON.stringify(z),i)},setHeightCalculationMethod:function(z){F=z,B()},setWidthCalculationMethod:function(z){ve=z,o()},setTargetOrigin:function(z){m("Set targetOrigin: "+z),_=z},size:function(z,i){var p=""+(z||"")+(i?","+i:"");gt("size","parentIFrame.size("+p+")",z,i)}}}function Je(){V!==0&&(m("setInterval: "+V+"ms"),ne=setInterval(function(){gt("interval","setInterval: "+V)},Math.abs(V)))}function We(){function w(fe){function Ie(ke){ke.complete===!1&&(m("Attach listeners to "+ke.src),ke.addEventListener("load",j,!1),ke.addEventListener("error",ie,!1),Fe.push(ke))}fe.type==="attributes"&&fe.attributeName==="src"?Ie(fe.target):fe.type==="childList"&&Array.prototype.forEach.call(fe.target.querySelectorAll("img"),Ie)}function z(fe){Fe.splice(Fe.indexOf(fe),1)}function i(fe){m("Remove listeners from "+fe.src),fe.removeEventListener("load",j,!1),fe.removeEventListener("error",ie,!1),z(fe)}function p(fe,Ie,ke){i(fe.target),gt(Ie,ke+": "+fe.target.src,a,a)}function j(fe){p(fe,"imageLoad","Image loaded")}function ie(fe){p(fe,"imageLoadFailed","Image load failed")}function de(fe){gt("mutationObserver","mutationObserver: "+fe[0].target+" "+fe[0].type),fe.forEach(w)}function xe(){var fe=document.querySelector("body"),Ie={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return ye=new Ce(de),m("Create body MutationObserver"),ye.observe(fe,Ie),ye}var Fe=[],Ce=window.MutationObserver||window.WebKitMutationObserver,ye=xe();return{disconnect:function(){"disconnect"in ye&&(m("Disconnect body MutationObserver"),ye.disconnect(),Fe.forEach(i))}}}function ue(){var w=0>V;window.MutationObserver||window.WebKitMutationObserver?w?Je():W=We():(m("MutationObserver not supported in this browser!"),Je())}function ee(w,z){function i(j){var ie=/^\d+(px)?$/i;if(ie.test(j))return parseInt(j,v);var de=z.style.left,xe=z.runtimeStyle.left;return z.runtimeStyle.left=z.currentStyle.left,z.style.left=j||0,j=z.style.pixelLeft,z.style.left=de,z.runtimeStyle.left=xe,j}var p=0;return z=z||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(p=document.defaultView.getComputedStyle(z,null),p=p!==null?p[w]:0):p=i(z.currentStyle[w]),parseInt(p,v)}function X(w){w>$/2&&($=2*w,m("Event throttle increased to "+$+"ms"))}function te(w,z){for(var i=z.length,p=0,j=0,ie=Le(w),de=Xe(),xe=0;xe<i;xe++)p=z[xe].getBoundingClientRect()[w]+ee("margin"+ie,z[xe]),p>j&&(j=p);return de=Xe()-de,m("Parsed "+i+" HTML elements"),m("Element position calculated in "+de+"ms"),X(de),j}function le(w){return[w.bodyOffset(),w.bodyScroll(),w.documentElementOffset(),w.documentElementScroll()]}function Se(w,z){function i(){return Q("No tagged elements ("+z+") found on page"),document.querySelectorAll("body *")}var p=document.querySelectorAll("["+z+"]");return p.length===0&&i(),te(w,p)}function we(){return document.querySelectorAll("body *")}var Ae={bodyOffset:function(){return document.body.offsetHeight+ee("marginTop")+ee("marginBottom")},offset:function(){return Ae.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return Me.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,le(Ae))},min:function(){return Math.min.apply(null,le(Ae))},grow:function(){return Ae.max()},lowestElement:function(){return Math.max(Ae.bodyOffset(),te("bottom",we()))},taggedElement:function(){return Se("bottom","data-iframe-height")}},He={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return Me.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(He.bodyScroll(),He.documentElementScroll())},max:function(){return Math.max.apply(null,le(He))},min:function(){return Math.min.apply(null,le(He))},rightMostElement:function(){return te("right",we())},taggedElement:function(){return Se("right","data-iframe-width")}};function Ge(w,z,i,p){function j(){O=ye,q=fe,rt(O,q,w)}function ie(){function Ie(ke,Ke){var it=Math.abs(ke-Ke)<=x;return!it}return ye=a!==i?i:Ae[F](),fe=a!==p?p:He[ve](),Ie(O,ye)||y&&Ie(q,fe)}function de(){return!(w in{init:1,interval:1,size:1})}function xe(){return F in re||y&&ve in re}function Fe(){m("No change in size detected")}function Ce(){de()&&xe()?kt(z):w in{interval:1}||Fe()}var ye,fe;ie()||w==="init"?(Mt(),j()):Ce()}var lt=Qe(Ge);function gt(w,z,i,p){function j(){w in{reset:1,resetPage:1,init:1}||m("Trigger event: "+z)}function ie(){return U&&w in k}ie()?m("Trigger event cancelled: "+w):(j(),lt(w,z,i,p))}function Mt(){U||(U=!0,m("Trigger event lock on")),clearTimeout(G),G=setTimeout(function(){U=!1,m("Trigger event lock off"),m("--")},h)}function ht(w){O=Ae[F](),q=He[ve](),rt(O,q,w)}function kt(w){var z=F;F=H,m("Reset trigger event: "+w),Mt(),ht("reset"),F=z}function rt(w,z,i,p,j){function ie(){a===j?j=_:m("Message targetOrigin: "+j)}function de(){var xe=w+":"+z,Fe=ze+":"+xe+":"+i+(a!==p?":"+p:"");m("Sending message to host page ("+Fe+")"),f.postMessage(_e+Fe,j)}R===!0&&(ie(),de())}function Tt(w){var z={init:function(){function ye(){L=w.data,f=w.source,s(),M=!1,setTimeout(function(){t=!1},h)}document.readyState==="interactive"||document.readyState==="complete"?ye():(m("Waiting for page ready"),Re(window,"readystatechange",z.initFromParent))},reset:function(){t?m("Page reset ignored by init"):(m("Page size reset by host page"),ht("resetPage"))},resize:function(){gt("resizeParent","Parent window requested size check")},moveToAnchor:function(){r.findTarget(j())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var ye=j();m("PageInfoFromParent called from parent: "+ye),Oe(JSON.parse(ye)),m(" --")},message:function(){var ye=j();m("MessageCallback called from parent: "+ye),pe(JSON.parse(ye)),m(" --")}};function i(){return _e===(""+w.data).substr(0,me)}function p(){return w.data.split("]")[1].split(":")[0]}function j(){return w.data.substr(w.data.indexOf(":")+1)}function ie(){return!d.exports&&"iFrameResize"in window}function de(){return w.data.split(":")[2]in{true:1,false:1}}function xe(){var Ce=p();Ce in z?z[Ce]():!ie()&&!de()&&Q("Unexpected message ("+w.data+")")}function Fe(){M===!1?xe():de()?z.init():m('Ignored message of type "'+p()+'". Received before initialization.')}i()&&Fe()}function ct(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}Re(window,"message",Tt),ct()})()},28:(d,a)=>{var n,v,S;(function(A){if(typeof window>"u")return;var Y=0,W=!1,D=!1,y="message",k=y.length,h="[iFrameSizer]",M=h.length,O=null,H=window.requestAnimationFrame,F={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},t={},L=null,r={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){R("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};function V(m,Q,s){"addEventListener"in window?m.addEventListener(Q,s,!1):"attachEvent"in window&&m.attachEvent("on"+Q,s)}function ne(m,Q,s){"removeEventListener"in window?m.removeEventListener(Q,s,!1):"detachEvent"in window&&m.detachEvent("on"+Q,s)}function J(){var m=["moz","webkit","o","ms"],Q;for(Q=0;Q<m.length&&!H;Q+=1)H=window[m[Q]+"RequestAnimationFrame"];H||re("setup","RequestAnimationFrame not supported")}function _e(m){var Q="Host page: "+m;return window.top!==window.self&&(window.parentIFrame&&window.parentIFrame.getId?Q=window.parentIFrame.getId()+": "+m:Q="Nested host page: "+m),Q}function me(m){return h+"["+_e(m)+"]"}function ze(m){return t[m]?t[m].log:W}function re(m,Q){f("log",m,Q,ze(m))}function P(m,Q){f("info",m,Q,ze(m))}function R(m,Q){f("warn",m,Q,!0)}function f(m,Q,s,I){I===!0&&typeof window.console=="object"&&console[m](me(Q),s)}function _(m){function Q(){function ee(){ve(We),$(ue),N("resizedCallback",We)}I("Height"),I("Width"),Be(ee,We,"init")}function s(){var ee=Je.substr(M).split(":");return{iframe:t[ee[0]]&&t[ee[0]].iframe,id:ee[0],height:ee[1],width:ee[2],type:ee[3]}}function I(ee){var X=Number(t[ue]["max"+ee]),te=Number(t[ue]["min"+ee]),le=ee.toLowerCase(),Se=Number(We[le]);re(ue,"Checking "+le+" is in range "+te+"-"+X),Se<te&&(Se=te,re(ue,"Set "+le+" to min value")),Se>X&&(Se=X,re(ue,"Set "+le+" to max value")),We[le]=""+Se}function Z(){function ee(){function le(){var we=0,Ae=!1;for(re(ue,"Checking connection is from allowed list of origins: "+te);we<te.length;we++)if(te[we]===X){Ae=!0;break}return Ae}function Se(){var we=t[ue]&&t[ue].remoteHost;return re(ue,"Checking connection is from: "+we),X===we}return te.constructor===Array?le():Se()}var X=m.origin,te=t[ue]&&t[ue].checkOrigin;if(te&&""+X!="null"&&!ee())throw new Error("Unexpected message received from: "+X+" for "+We.iframe.id+". Message was: "+m.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function K(){return h===(""+Je).substr(0,M)&&Je.substr(M).split(":")[0]in t}function se(){var ee=We.type in{true:1,false:1,undefined:1};return ee&&re(ue,"Ignoring init message from meta parent page"),ee}function be(ee){return Je.substr(Je.indexOf(":")+k+ee)}function je(ee){re(ue,"MessageCallback passed: {iframe: "+We.iframe.id+", message: "+ee+"}"),N("messageCallback",{iframe:We.iframe,message:JSON.parse(ee)}),re(ue,"--")}function ce(){var ee=document.body.getBoundingClientRect(),X=We.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:X.height,iframeWidth:X.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(X.top-ee.top,10),offsetLeft:parseInt(X.left-ee.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function qe(ee,X){function te(){pe("Send Page Info","pageInfo:"+ce(),ee,X)}Me(te,32)}function g(){function ee(Se,we){function Ae(){t[le]?qe(t[le].iframe,le):X()}["scroll","resize"].forEach(function(He){re(le,Se+He+" listener for sendPageInfo"),we(window,He,Ae)})}function X(){ee("Remove ",ne)}function te(){ee("Add ",V)}var le=ue;te(),t[le]&&(t[le].stopPageInfo=X)}function B(){t[ue]&&t[ue].stopPageInfo&&(t[ue].stopPageInfo(),delete t[ue].stopPageInfo)}function o(){var ee=!0;return We.iframe===null&&(R(ue,"IFrame ("+We.id+") not found"),ee=!1),ee}function b(ee){var X=ee.getBoundingClientRect();return G(ue),{x:Math.floor(Number(X.left)+Number(O.x)),y:Math.floor(Number(X.top)+Number(O.y))}}function c(ee){function X(){O=we,T(),re(ue,"--")}function te(){return{x:Number(We.width)+Se.x,y:Number(We.height)+Se.y}}function le(){window.parentIFrame?window.parentIFrame["scrollTo"+(ee?"Offset":"")](we.x,we.y):R(ue,"Unable to scroll to requested position, window.parentIFrame not found")}var Se=ee?b(We.iframe):{x:0,y:0},we=te();re(ue,"Reposition requested from iFrame (offset x:"+Se.x+" y:"+Se.y+")"),window.top!==window.self?le():X()}function T(){N("scrollCallback",O)!==!1?$(ue):q()}function C(ee){function X(){var Ae=b(we);re(ue,"Moving to in page link (#"+le+") at x: "+Ae.x+" y: "+Ae.y),O={x:Ae.x,y:Ae.y},T(),re(ue,"--")}function te(){window.parentIFrame?window.parentIFrame.moveToAnchor(le):re(ue,"In page link #"+le+" not found and window.parentIFrame not found")}var le=ee.split("#")[1]||"",Se=decodeURIComponent(le),we=document.getElementById(Se)||document.getElementsByName(Se)[0];we?X():window.top!==window.self?te():re(ue,"In page link #"+le+" not found")}function N(ee,X){return x(ue,ee,X)}function Te(){switch(t[ue]&&t[ue].firstRun&&ft(),We.type){case"close":t[ue].closeRequestCallback?x(ue,"closeRequestCallback",t[ue].iframe):U(We.iframe);break;case"message":je(be(6));break;case"scrollTo":c(!1);break;case"scrollToOffset":c(!0);break;case"pageInfo":qe(t[ue]&&t[ue].iframe,ue),g();break;case"pageInfoStop":B();break;case"inPageLink":C(be(9));break;case"reset":ge(We);break;case"init":Q(),N("initCallback",We.iframe);break;default:Q()}}function Ne(ee){var X=!0;return t[ee]||(X=!1,R(We.type+" No settings for "+ee+". Message was: "+Je)),X}function Ze(){for(var ee in t)pe("iFrame requested init",Ee(ee),document.getElementById(ee),ee)}function ft(){t[ue]&&(t[ue].firstRun=!1)}var Je=m.data,We={},ue=null;Je==="[iFrameResizerChild]Ready"?Ze():K()?(We=s(),ue=We.id,t[ue]&&(t[ue].loaded=!0),!se()&&Ne(ue)&&(re(ue,"Received: "+Je),o()&&Z()&&Te())):P(ue,"Ignored: "+Je)}function x(m,Q,s){var I=null,Z=null;if(t[m])if(I=t[m][Q],typeof I=="function")Z=I(s);else throw new TypeError(Q+" on iFrame["+m+"] is not a function");return Z}function U(m){var Q=m.id;re(Q,"Removing iFrame: "+Q),m.parentNode&&m.parentNode.removeChild(m),x(Q,"closedCallback",Q),re(Q,"--"),delete t[Q]}function G(m){O===null&&(O={x:window.pageXOffset!==A?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==A?window.pageYOffset:document.documentElement.scrollTop},re(m,"Get page position: "+O.x+","+O.y))}function $(m){O!==null&&(window.scrollTo(O.x,O.y),re(m,"Set page position: "+O.x+","+O.y),q())}function q(){O=null}function ge(m){function Q(){ve(m),pe("reset","reset",m.iframe,m.id)}re(m.id,"Size reset requested by "+(m.type==="init"?"host page":"iFrame")),G(m.id),Be(Q,m,"reset")}function ve(m){function Q(K){m.iframe.style[K]=m[K]+"px",re(m.id,"IFrame ("+Z+") "+K+" set to "+m[K]+"px")}function s(K){!D&&m[K]==="0"&&(D=!0,re(Z,"Hidden iFrame detected, creating visibility listener"),De())}function I(K){Q(K),s(K)}var Z=m.iframe.id;t[Z]&&(t[Z].sizeHeight&&I("height"),t[Z].sizeWidth&&I("width"))}function Be(m,Q,s){s!==Q.type&&H?(re(Q.id,"Requesting animation frame"),H(m)):m()}function pe(m,Q,s,I,Z){function K(){var qe=t[I]&&t[I].targetOrigin;re(I,"["+m+"] Sending msg to iframe["+I+"] ("+Q+") targetOrigin: "+qe),s.contentWindow.postMessage(h+Q,qe)}function se(){R(I,"["+m+"] IFrame("+I+") not found")}function be(){s&&"contentWindow"in s&&s.contentWindow!==null?K():se()}function je(){function qe(){t[I]&&!t[I].loaded&&!ce&&(ce=!0,R(I,"IFrame has not responded within "+t[I].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}Z&&t[I]&&t[I].warningTimeout&&(t[I].msgTimeout=setTimeout(qe,t[I].warningTimeout))}var ce=!1;I=I||s.id,t[I]&&(be(),je())}function Ee(m){return m+":"+t[m].bodyMarginV1+":"+t[m].sizeWidth+":"+t[m].log+":"+t[m].interval+":"+t[m].enablePublicMethods+":"+t[m].autoResize+":"+t[m].bodyMargin+":"+t[m].heightCalculationMethod+":"+t[m].bodyBackground+":"+t[m].bodyPadding+":"+t[m].tolerance+":"+t[m].inPageLinks+":"+t[m].resizeFrom+":"+t[m].widthCalculationMethod}function Oe(m,Q){function s(){function T(N){t[c][N]!==1/0&&t[c][N]!==0&&(m.style[N]=t[c][N]+"px",re(c,"Set "+N+" = "+t[c][N]+"px"))}function C(N){if(t[c]["min"+N]>t[c]["max"+N])throw new Error("Value for min"+N+" can not be greater than max"+N)}C("Height"),C("Width"),T("maxHeight"),T("minHeight"),T("maxWidth"),T("minWidth")}function I(){var T=Q&&Q.id||r.id+Y++;return document.getElementById(T)!==null&&(T=T+Y++),T}function Z(T){return T===""&&(m.id=T=I(),W=(Q||{}).log,re(T,"Added missing iframe ID: "+T+" ("+m.src+")")),T}function K(){switch(re(c,"IFrame scrolling "+(t[c]&&t[c].scrolling?"enabled":"disabled")+" for "+c),m.style.overflow=(t[c]&&t[c].scrolling)===!1?"hidden":"auto",t[c]&&t[c].scrolling){case!0:m.scrolling="yes";break;case!1:m.scrolling="no";break;default:m.scrolling=t[c]?t[c].scrolling:"no"}}function se(){(typeof(t[c]&&t[c].bodyMargin)=="number"||(t[c]&&t[c].bodyMargin)==="0")&&(t[c].bodyMarginV1=t[c].bodyMargin,t[c].bodyMargin=""+t[c].bodyMargin+"px")}function be(){var T=t[c]&&t[c].firstRun,C=t[c]&&t[c].heightCalculationMethod in F;!T&&C&&ge({iframe:m,height:0,width:0,type:"init"})}function je(){Function.prototype.bind&&t[c]&&(t[c].iframe.iFrameResizer={close:U.bind(null,t[c].iframe),resize:pe.bind(null,"Window resize","resize",t[c].iframe),moveToAnchor:function(T){pe("Move to anchor","moveToAnchor:"+T,t[c].iframe,c)},sendMessage:function(T){T=JSON.stringify(T),pe("Send Message","message:"+T,t[c].iframe,c)}})}function ce(T){function C(){pe("iFrame.onload",T,m,A,!0),be()}V(m,"load",C),pe("init",T,m,A,!0)}function qe(T){if(typeof T!="object")throw new TypeError("Options is not an object")}function g(T){for(var C in r)r.hasOwnProperty(C)&&(t[c][C]=T.hasOwnProperty(C)?T[C]:r[C])}function B(T){return T===""||T==="file://"?"*":T}function o(T){T=T||{},t[c]={firstRun:!0,iframe:m,remoteHost:m.src.split("/").slice(0,3).join("/")},qe(T),g(T),t[c]&&(t[c].targetOrigin=t[c].checkOrigin===!0?B(t[c].remoteHost):"*")}function b(){return c in t&&"iFrameResizer"in m}var c=Z(m.id);b()?R(c,"Ignored iFrame, already setup."):(o(Q),K(),s(),se(),ce(Ee(c)),je())}function Me(m,Q){L===null&&(L=setTimeout(function(){L=null,m()},Q))}function De(){function m(){function Z(se){function be(ce){return(t[se]&&t[se].iframe.style[ce])==="0px"}function je(ce){return ce.offsetParent!==null}t[se]&&je(t[se].iframe)&&(be("height")||be("width"))&&pe("Visibility change","resize",t[se].iframe,se)}for(var K in t)Z(K)}function Q(Z){re("window","Mutation observed: "+Z[0].target+" "+Z[0].type),Me(m,16)}function s(){var Z=document.querySelector("body"),K={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},se=new I(Q);se.observe(Z,K)}var I=window.MutationObserver||window.WebKitMutationObserver;I&&s()}function Re(m){function Q(){Le("Window "+m,"resize")}re("window","Trigger event: "+m),Me(Q,16)}function Ue(){function m(){Le("Tab Visable","resize")}document.visibilityState!=="hidden"&&(re("document","Trigger event: Visiblity change"),Me(m,16))}function Le(m,Q){function s(Z){return t[Z]&&t[Z].resizeFrom==="parent"&&t[Z].autoResize&&!t[Z].firstRun}for(var I in t)s(I)&&pe(m,Q,document.getElementById(I),I)}function Qe(){V(window,"message",_),V(window,"resize",function(){Re("resize")}),V(document,"visibilitychange",Ue),V(document,"-webkit-visibilitychange",Ue),V(window,"focusin",function(){Re("focus")}),V(window,"focus",function(){Re("focus")})}function Xe(){function m(I,Z){function K(){if(Z.tagName){if(Z.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+Z.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}Z&&(K(),Oe(Z,I),s.push(Z))}function Q(I){I&&I.enablePublicMethods&&R("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var s;return J(),Qe(),function(Z,K){switch(s=[],Q(Z),typeof K){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(K||"iframe"),m.bind(A,Z));break;case"object":m(Z,K);break;default:throw new TypeError("Unexpected data type ("+typeof K+")")}return s}}function tt(m){m.fn?m.fn.iFrameResize||(m.fn.iFrameResize=function(s){function I(Z,K){Oe(K,s)}return this.filter("iframe").each(I).end()}):P("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&tt(window.jQuery),v=[],n=Xe,S=typeof n=="function"?n.apply(a,v):n,S!==A&&(d.exports=S)})()},683:(d,a,n)=>{a.iframeResizer=n(28),a.iframeResizerContentWindow=n(402)},457:d=>{var a=function(){var n=Math.floor(Math.random()*1000001),v={};function S(y,k,h,M){function O(t){for(var L=0;L<t.length;L++)if(t[L].win===y)return!0;return!1}var H=!1;if(k==="*"){for(var F in v)if(v.hasOwnProperty(F)&&F!=="*"&&typeof v[F][h]=="object"&&(H=O(v[F][h]),H))break}else v["*"]&&v["*"][h]&&(H=O(v["*"][h])),!H&&v[k]&&v[k][h]&&(H=O(v[k][h]));if(H)throw"A channel is already bound to the same window which overlaps with origin '"+k+"' and has scope '"+h+"'";typeof v[k]!="object"&&(v[k]={}),typeof v[k][h]!="object"&&(v[k][h]=[]),v[k][h].push({win:y,handler:M})}function A(y,k,h){for(var M=v[k][h],O=0;O<M.length;O++)M[O].win===y&&M.splice(O,1);v[k][h].length===0&&delete v[k][h]}function Y(y){return Array.isArray?Array.isArray(y):y.constructor.toString().indexOf("Array")!=-1}var W={},D=function(y){try{var k=JSON.parse(y.data);if(typeof k!="object"||k===null)throw"malformed"}catch{return}var h=y.source,M=y.origin,O,H,F;if(typeof k.method=="string"){var t=k.method.split("::");t.length==2?(O=t[0],F=t[1]):F=k.method}if(typeof k.id<"u"&&(H=k.id),typeof F=="string"){var L=!1;if(v[M]&&v[M][O]){for(var r=0;r<v[M][O].length;r++)if(v[M][O][r].win===h){v[M][O][r].handler(M,F,k),L=!0;break}}if(!L&&v["*"]&&v["*"][O]){for(var r=0;r<v["*"][O].length;r++)if(v["*"][O][r].win===h){v["*"][O][r].handler(M,F,k);break}}}else typeof H<"u"&&W[H]&&W[H](M,F,k)};return window.addEventListener?window.addEventListener("message",D,!1):window.attachEvent&&window.attachEvent("onmessage",D),{build:function(y){var k=function(P){if(y.debugOutput&&window.console&&window.console.log){try{typeof P!="string"&&(P=JSON.stringify(P))}catch{}console.log("["+O+"] "+P)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof y!="object")throw"Channel build invoked without a proper object argument";if(!y.window||!y.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===y.window)throw"target window is same as present window -- not allowed";var h=!1;if(typeof y.origin=="string"){var M;y.origin==="*"?h=!0:(M=y.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))!==null&&(y.origin=M[0].toLowerCase(),h=!0)}if(!h)throw"Channel.build() called with an invalid origin";if(typeof y.scope<"u"){if(typeof y.scope!="string")throw"scope, when specified, must be a string";if(y.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var O=function(){for(var P="",R="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",f=0;f<5;f++)P+=R.charAt(Math.floor(Math.random()*R.length));return P}(),H={},F={},t={},L=!1,r=[],V=function(P,R,f){var _=!1,x=!1;return{origin:R,invoke:function(U,G){if(!t[P])throw"attempting to invoke a callback of a nonexistent transaction: "+P;for(var $=!1,q=0;q<f.length;q++)if(U===f[q]){$=!0;break}if(!$)throw"request supports no such callback '"+U+"'";me({id:P,callback:U,params:G})},error:function(U,G){if(x=!0,!t[P])throw"error called for nonexistent message: "+P;delete t[P],me({id:P,error:U,message:G})},complete:function(U){if(x=!0,!t[P])throw"complete called for nonexistent message: "+P;delete t[P],me({id:P,result:U})},delayReturn:function(U){return typeof U=="boolean"&&(_=U===!0),_},completed:function(){return x}}},ne=function(P,R,f){return window.setTimeout(function(){if(F[P]){var _="timeout ("+R+"ms) exceeded on method '"+f+"'";(0,F[P].error)("timeout_error",_),delete F[P],delete W[P]}},R)},J=function(P,R,f){if(typeof y.gotMessageObserver=="function")try{y.gotMessageObserver(P,f)}catch(Ee){k("gotMessageObserver() raised an exception: "+Ee.toString())}if(f.id&&R){if(H[R]){var _=V(f.id,P,f.callbacks?f.callbacks:[]);t[f.id]={};try{if(f.callbacks&&Y(f.callbacks)&&f.callbacks.length>0)for(var x=0;x<f.callbacks.length;x++){for(var U=f.callbacks[x],G=f.params,$=U.split("/"),q=0;q<$.length-1;q++){var ge=$[q];typeof G[ge]!="object"&&(G[ge]={}),G=G[ge]}G[$[$.length-1]]=function(){var Ee=U;return function(Oe){return _.invoke(Ee,Oe)}}()}var ve=H[R](_,f.params);!_.delayReturn()&&!_.completed()&&_.complete(ve)}catch(Ee){var Be="runtime_error",pe=null;if(typeof Ee=="string"?pe=Ee:typeof Ee=="object"&&(Ee&&Y(Ee)&&Ee.length==2?(Be=Ee[0],pe=Ee[1]):typeof Ee.error=="string"&&(Be=Ee.error,Ee.message?typeof Ee.message=="string"?pe=Ee.message:Ee=Ee.message:pe="")),pe===null)try{pe=JSON.stringify(Ee),typeof pe>"u"&&(pe=Ee.toString())}catch{pe=Ee.toString()}_.error(Be,pe)}}}else f.id&&f.callback?!F[f.id]||!F[f.id].callbacks||!F[f.id].callbacks[f.callback]?k("ignoring invalid callback, id:"+f.id+" ("+f.callback+")"):F[f.id].callbacks[f.callback](f.params):f.id?F[f.id]?(f.error?(0,F[f.id].error)(f.error,f.message):f.result!==void 0?(0,F[f.id].success)(f.result):(0,F[f.id].success)(),delete F[f.id],delete W[f.id]):k("ignoring invalid response: "+f.id):R&&H[R]&&H[R]({origin:P},f.params)};S(y.window,y.origin,typeof y.scope=="string"?y.scope:"",J);var _e=function(P){return typeof y.scope=="string"&&y.scope.length&&(P=[y.scope,P].join("::")),P},me=function(P,R){if(!P)throw"postMessage called with null message";var f=L?"post  ":"queue ";if(k(f+" message: "+JSON.stringify(P)),!R&&!L)r.push(P);else{if(typeof y.postMessageObserver=="function")try{y.postMessageObserver(y.origin,P)}catch(_){k("postMessageObserver() raised an exception: "+_.toString())}y.window.postMessage(JSON.stringify(P),y.origin)}},ze=function(P,R){if(k("ready msg received"),L)throw"received ready message while in ready state.  help!";for(R==="ping"?O+="-R":O+="-L",re.unbind("__ready"),L=!0,k("ready msg accepted."),R==="ping"&&re.notify({method:"__ready",params:"pong"});r.length;)me(r.pop());typeof y.onReady=="function"&&y.onReady(re)},re={unbind:function(P){if(H[P]){if(!delete H[P])throw"can't delete method: "+P;return!0}return!1},bind:function(P,R){if(!P||typeof P!="string")throw"'method' argument to bind must be string";if(!R||typeof R!="function")throw"callback missing from bind params";if(H[P])throw"method '"+P+"' is already bound!";return H[P]=R,this},call:function(P){if(!P)throw"missing arguments to call function";if(!P.method||typeof P.method!="string")throw"'method' argument to call must be string";if(!P.success||typeof P.success!="function")throw"'success' callback missing from call";var R={},f=[],_=[],x=function(G,$){if(_.indexOf($)>=0)throw"params cannot be a recursive data structure";if(_.push($),typeof $=="object"){for(var q in $)if($.hasOwnProperty(q)){var ge=G+(G.length?"/":"")+q;typeof $[q]=="function"?(R[ge]=$[q],f.push(ge),delete $[q]):typeof $[q]=="object"&&$[q]!==null&&x(ge,$[q])}}};x("",P.params);var U={id:n,method:_e(P.method),params:P.params};f.length&&(U.callbacks=f),P.timeout&&ne(n,P.timeout,_e(P.method)),F[n]={callbacks:R,error:P.error,success:P.success},W[n]=J,n++,me(U)},notify:function(P){if(!P)throw"missing arguments to notify function";if(!P.method||typeof P.method!="string")throw"'method' argument to notify must be string";me({method:_e(P.method),params:P.params})},destroy:function(){A(y.window,y.origin,typeof y.scope=="string"?y.scope:""),window.removeEventListener?window.removeEventListener("message",J,!1):window.detachEvent&&window.detachEvent("onmessage",J),L=!1,H={},t={},F={},y.origin=null,r=[],k("channel destroyed"),O=""}};return re.bind("__ready",ze),setTimeout(function(){me({method:_e("__ready"),params:"ping"},!0)},0),re}}}();d.exports=a},218:d=>{function a(n){var v=typeof n;return n!=null&&(v=="object"||v=="function")}d.exports=a}},e={};function u(d){var a=e[d];if(a!==void 0)return a.exports;var n=e[d]={exports:{}};return l[d].call(n.exports,n,n.exports,u),n.exports}u.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),u(669)})();var un=Jt.Addon;const Gt="https://app.wealthica.com",ln=Gt+"/img",Lt=ln+"/arrow_down.f6ca09b2.svg",cn=Gt+"/images/institutions",dn="https://data.wealthica.com/api",fn=dn+"/streams",hn="https://data.wealthica.com/api/securities",Nt="https://portfoliotech.github.io/investify/static/img",jt=Nt+"/default_company_logo.png",gn=Nt+"/cash.png";function nt(l){return`${Nt}/${l}`}class mn{constructor(){this.addon=new un,this.addon.on("init",e=>{this.addon.options=e})}fetch_user(){try{return this.addon.api.getUser()}catch(e){throw e}}fetch_currencies(){try{return this.addon.request({method:"GET",endpoint:"currencies"})}catch(e){throw e}}fetch_institutions(){try{return this.addon.api.getInstitutions(this.get_options_query(this.addon.options))}catch(e){throw e}}fetch_positions(){try{return this.addon.api.getPositions(this.get_options_query(this.addon.options))}catch(e){throw e}}fetch_transactions(){try{const e=new Date("2000-01-01").toISOString().split("T")[0],u=new Date().toISOString().split("T")[0],d={from:e,to:u,deleted:!1};return this.addon.api.getTransactions(d).then(a=>a.map(n=>{var y,k,h;const v={symbol:(y=n.security)==null?void 0:y.symbol,market:(k=n.security)==null?void 0:k.currency.substring(0,2).toUpperCase()},S=((h=n.investment)==null?void 0:h.split(":")[2])||"",A=new Date(n.settlement_date),Y=A.getUTCFullYear(),W=A.getUTCMonth()+1,D=`${Y}-${("0"+W).slice(-2)}`;return{...n,subaccount_id:n.investment,symbol_mrkt:`${v.market}:${v.symbol}`,symbol:v.symbol,market:v.market,currency:S,settlement_dt:A,year:Y,month:W,year_month:D,amount:n.currency_amount,price:Math.abs(n.currency_amount/n.quantity),total:n.currency_amount-(n.fee||0)}}))}catch(e){throw e}}fetch_historical_data(e){try{return this.addon.request({method:"GET",endpoint:`securities / ${e}/history`})}catch(u){throw u}}fetch_stock_prices(e,u){return fetch(fn,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e,symbols:u})}).then(a=>a.json()).then(a=>({...a,securities:a.securities.map(n=>({...n,symbol_mrkt:`${n.market}:${n.symbol.split(":")[1]}`}))})).catch(a=>{throw a})}async delete_transaction(e){const u={deleted:!0};return await this.addon.api.updateTransaction(e,u)}get_options_query(e){return{from:e.dateRangeFilter&&e.dateRangeFilter[0],to:e.dateRangeFilter&&e.dateRangeFilter[1],groups:e.groupsFilter,institutions:e.institutionsFilter,investments:e.investmentsFilter==="all"?null:e.investmentsFilter}}async update_transaction(e,u){return await this.addon.api.updateTransaction(e,u)}}const pt=nn(),Ft=[{name:"INVESTOR - CELI",account_number:"22981483",order:1,type:null,no_holdings:!1,exluded:!1},{name:"INVESTOR - RESP",account_number:"21921430",order:2,type:null,no_holdings:!1,exluded:!1},{name:"NESBITT - NON-ENRG",account_number:"31015145",order:3,type:null,no_holdings:!1,exluded:!0},{name:"NESBITT - BELSKI",account_number:"31107566",order:4,type:null,no_holdings:!1,exluded:pt},{name:"NESBITT - FONDS",account_number:"31107567",order:5,type:null,no_holdings:!1,exluded:pt},{name:"NESBITT - ACTIONS (REER)",account_number:"31107798",order:6,type:null,no_holdings:!1,exluded:pt},{name:"NESBITT - ACTIONS (CELI)",account_number:"78124230",order:7,type:null,no_holdings:!1,exluded:pt},{name:"CGI - ACTIONS (REER)",account_number:"197287703264",order:8,type:null,no_holdings:!0,exluded:pt},{name:"CGI - ACTIONS (NON-ENRG)",account_number:"197287499339",order:8,type:"NRG",no_holdings:!0,exluded:pt},{name:"FTQ - REER",account_number:"107935800-01R",order:9,type:"RRSP",no_holdings:!0,exluded:pt},{name:"BMO - INVEST",account_number:"XXXX6679",order:10,type:"CASH",no_holdings:!0,exluded:pt}];function pn(l,e){const u=Ft.find(d=>d.account_number===l);return u?u.type||e.toUpperCase():""}function vn(l){var e=Ft.find(u=>u.account_number===l);return e?e.exluded:!0}function yn(l){var e=Ft.find(u=>u.account_number===l);return e?e.order:999}function _n(l){var e=Ft.find(u=>u.account_number===l);return e?e.no_holdings:!1}function bn(l={}){var e;return{id:{subaccount_id:l.investment,symbol_mrkt:l.symbol_mrkt,symbol:l.symbol,market:l.market,name:(e=l.security)==null?void 0:e.name,currency:l.currency,date:l.settlement_dt,quantity:l.quantity,active:!1},history:{date:void 0,close:{date:void 0,price:0},market:{date:void 0,price:0,price_CAD:0}},values:{date:void 0,quantity:l.quantity,cost:{price:0,value:0},close:{value:0},market:{value:0,value_CAD:0}},return:{dividend:0,interest:0,fees:0,taxes:0,total:0,gain:{realized:0,unrealized:{daily:{change:0,percent:0,amount:0},period:{change:0,percent:0,amount:0},overall:{change:0,percent:0,amount:0}}}},transactions:[],security:void 0}}function wn(){return{total:Yt(),summary:{all:bt(),year:bt(),month:bt()},subaccounts:{}}}function kn(l){return{currency:l,total:Yt(),summary:{all:bt(),year:bt(),month:bt()},transactions:[],holdings:[]}}function Yt(){return{balance:0,cash:0,holdings:0,cost:0,cost_active:0,unrealized_gain_value:0,unrealized_gain_percent:0}}function bt(){return{deposit:0,withdrawal:0,transfer:0,buy:0,sell:0,dividend:0,interest:0,income:0,fees:0,taxes:0,cash:0,total:0}}function At(l){return{year:l.getUTCFullYear(),month:l.getUTCMonth()+1}}function Ot(l,e){Object.assign(l,e)}function Tn(l,e){return l.reduce((u,d)=>u+En(d,e),0)}function En(l,e){return e.split(".").reduce((u,d)=>u[d],l)}function Dt(...l){return l.reduce((e,u)=>e+u,0)}function zt(l,e,u){const d=a=>a&&typeof a=="object";return Object.keys(l).forEach(a=>{l[a]=d(l[a])&&d(e[a])?zt(l[a],e[a],u):l[a]+=e[a]*u}),l}function On(l,e){return Math.abs(l)>e}function Mn(l,e){return Math.abs(l)<e}class xn{constructor(){_t(this,"initialized",!1);_t(this,"user",null);_t(this,"currencies",null);_t(this,"accounts",null);_t(this,"transactions",null);this.wealthica=new mn}async initialize(){this.initialized||([this.user,this.currencies]=await Promise.all([this.load_user(),this.load_currencies()]),[this.accounts,this.transactions]=await Promise.all([this.load_accounts(),this.load_transactions()]),this.initialized=!0)}load_user(){return this.wealthica.fetch_user()}load_currencies(){return this.wealthica.fetch_currencies()}load_accounts(){return this.wealthica.fetch_institutions().then(e=>e.flatMap(u=>Array.from(u.investments.reduce((d,a)=>{let n=(a.account_number??a.id).toUpperCase();if(!a.ignored&&!vn(n)){let v=d.get(n)??{institution:{name:u.name,type:u.type},number:n,name:a.name,type:pn(n,a.type),order:yn(n),no_holdings:_n(n),subaccounts:[]};v.subaccounts.push({id:a._id,name:a.name,currency:a.currency,no_holdings:v.no_holdings}),d.set(n,v)}return d},new Map).values())).sort((u,d)=>u.order-d.order))}load_transactions(){return this.wealthica.fetch_transactions().then(e=>{const u={};return e.sort((d,a)=>d.settlement_dt-a.settlement_dt).map((d,a)=>(u[d.subaccount_id]=(u[d.subaccount_id]||0)+d.total,{...d,balance:u[d.subaccount_id],index:a})).sort((d,a)=>a.settlement_dt-d.settlement_dt||a.index-d.index)})}get_currency(e){const{_id:u,exchange_rate:d,update_date:a}=this.currencies.find(({_id:n})=>n===e)??{};return u?{id:u,rate:d,date:a}:null}get_xrate(e,u){var d,a;return(((d=this.get_currency(u))==null?void 0:d.rate)??1)/(((a=this.get_currency(e))==null?void 0:a.rate)??1)}get_accounts(){return this.accounts}get_transactions(e=null){return this.transactions.filter(u=>!e||u.subaccount_id==e)}get_holdings(e=null){let u=this.get_transactions(e).filter(d=>{var a;return(a=d.security)==null?void 0:a.symbol}).sort((d,a)=>d.settlement_dt-a.settlement_dt||d.index-a.index).reduce((d,a)=>(this.find_or_initialize_holdings(d,a).forEach(n=>{if(d.includes(n)||d.push(n),a){let v=null;if(a.type=="sell"&&Mn(a.quantity,n.values.quantity)){let S=d.findIndex(Y=>Y===n),A=this.split_holding(n,a.quantity);n=A.holding_1,d[S]=A.holding_1,d.push(A.holding_2)}else if(a.type!="split"&&On(a.quantity,n.values.quantity)){let S=this.split_transaction(a,n.values.quantity);a=S.transaction_1,v=S.transaction_2}this.update_holding_with_transaction_data(n,a),n.transactions.push(a),a=v}}),d),[]);return u.sort((d,a)=>d.id.subaccount_id.localeCompare(a.id.subaccount_id)||d.id.symbol.localeCompare(a.id.symbol)),u.forEach(d=>d.transactions.sort((a,n)=>new Date(n.settlement_date)-new Date(a.settlement_date))),this.update_holdings_with_history_data(u).then(()=>u)}find_or_initialize_holdings(e,u){let d=[];return u.type!=="buy"&&(d=e.filter(a=>a.id.subaccount_id===u.subaccount_id&&a.id.symbol_mrkt===u.symbol_mrkt&&a.id.active===!0),d.length===0&&(d=e.filter(a=>a.id.subaccount_id===u.subaccount_id&&a.id.symbol_mrkt===u.symbol_mrkt&&a.id.quantity===u.quantity&&a.id.active===!1))),d.length!==0?d:[bn(u)]}split_holding(e,u){const d=Math.abs(u)/e.values.quantity,a=n=>{const v=structuredClone(e);return v.id.quantity=e.id.quantity*n,v.values.quantity=e.values.quantity*n,v.values.cost.value=e.values.cost.value*n,v.values.market.value=e.values.market.value*n,v.values.market.value_CAD=e.values.market.value_CAD*n,v.return.dividend=e.return.dividend*n,v.return.interest=e.return.interest*n,v.return.fees=e.return.fees*n,v.return.taxes=e.return.taxes*n,v.return.total=e.return.total*n,v.return.gain.realized=e.return.gain.realized*n,v};return{holding_1:a(d),holding_2:a(1-d)}}split_transaction(e,u){const d=u/Math.abs(e.quantity),a=n=>Object.assign({},e,{quantity:e.quantity*n,fee:e.fee*n,amount:e.amount*n,total:e.total*n,balance:e.balance-e.amount+e.amount*n});return{transaction_1:a(d),transaction_2:a(1-d)}}update_holding_with_transaction_data(e,u){var S;const d=e.history,a=e.values,n=e.return,v={buy:()=>{a.quantity=u.quantity,a.cost.value=-u.amount,a.cost.price=a.cost.value/a.quantity,e.id.active=!0},sell:()=>{a.quantity+=u.quantity,n.gain.realized+=(u.price-a.cost.price)*Math.abs(u.quantity),d.market.price=u.price,d.market.price_CAD=u.price,a.market.value=u.amount,a.market.value_CAD=u.amount,e.id.active=a.quantity>0},split:()=>{e.id.quantity+=u.quantity,a.quantity+=u.quantity,a.cost.price=a.cost.value/a.quantity},dividend:()=>{n.dividend+=u.amount},interest:()=>{n.interest+=u.amount},tax:()=>{n.taxes-=u.amount}};(S=v[u.type])==null||S.call(v),n.fees+=u.fee||0,n.total=Dt(n.dividend,n.interest,-n.taxes,-n.fees,n.gain.realized,n.gain.unrealized.overall.amount)}update_holdings_with_history_data(e){const u=e.map(d=>d.id.symbol_mrkt);return this.wealthica.fetch_stock_prices(this.user.email,u).then(d=>{d.securities.forEach(a=>{e.filter(n=>n.id.symbol_mrkt===a.symbol_mrkt&&n.id.active).forEach(n=>this.update_holding_history(n,a))})})}update_holding_history(e,u){const{history:d,values:a,return:n}=e,v=this.get_xrate(e.id.currency,"cad"),S=this.get_xrate(u.currency,e.id.currency),A=u.price*S,Y=A*a.quantity,W=A-a.cost.price;Ot(d.close,{date:void 0,price:A-u.change}),Ot(d.market,{date:u.update_date,price:A,price_CAD:A*v}),Ot(a.market,{value:Y,value_CAD:Y*v}),Ot(n.gain.unrealized.daily,{change:u.change,percent:u.change/(A-u.change),amount:u.change*a.quantity}),Ot(n.gain.unrealized.overall,{change:W,percent:W/a.cost.price,amount:W*a.quantity}),e.security=u,d.date=u.quote_date,n.total=Dt(n.dividend,n.interest,-n.taxes,-n.fees,n.gain.realized,n.gain.unrealized.overall.amount)}get_account_data(e,u){var a;let d=wn();return Promise.all((a=this.accounts.find(n=>n.number===e))==null?void 0:a.subaccounts.map(({id:n,currency:v})=>this.get_subaccount_data(n,v,u).then(S=>{d.subaccounts[n]=S}))).then(()=>(Object.values(d.subaccounts).forEach(n=>{const v=this.get_xrate(n.currency,"cad");d.summary=zt(d.summary,n.summary,v),d.total=zt(d.total,n.total,v)}),d.total.unrealized_gain_percent=(d.total.holdings-d.total.cost)/d.total.cost,d))}get_subaccount_data(e,u,d){const{year:a,month:n}=At(d),v=kn(u),{summary:S}=v;return this.transactions.filter(A=>A.subaccount_id===e).forEach(A=>{this.update_subaccount_summary(S.all,A)&&A.year==a&&this.update_subaccount_summary(S.year,A)&&A.month==n&&this.update_subaccount_summary(S.month,A),v.transactions.push(A)}),this.get_holdings(e).then(A=>(v.holdings=A,v.holdings.forEach(Y=>{v.total.holdings+=Y.id.active?Y.values.market.value:0,v.total.cost+=Y.id.active?Y.values.cost.value:0,v.total.unrealized_gain_value+=Y.return.gain.unrealized.overall.amount}),v.total.cash=v.summary.all.cash,v.total.unrealized_gain_percent=v.total.unrealized_gain_value/v.total.cost,v.total.balance=v.total.cash+v.total.holdings,v))}update_subaccount_summary(e,u){var a;const d={deposit:()=>e.deposit+=u.amount,withdrawal:()=>e.withdrawal+=u.amount,transfer:()=>e.transfer+=u.amount,transfer_in:()=>e.transfer+=u.amount,transfer_out:()=>e.transfer+=u.amount,buy:()=>e.buy+=u.amount,sell:()=>e.sell+=u.amount,dividend:()=>e.dividend+=u.amount,interest:()=>e.interest+=u.amount,income:()=>e.income+=u.amount,fee:()=>e.fees+=u.amount,tax:()=>e.taxes+=u.amount};return(a=d[u.type])==null||a.call(d),e.fees-=u.fee||0,e.cash+=u.total,e.total=e.deposit+e.withdrawal+e.transfer+e.buy+e.sell+e.dividend+e.interest+e.income+e.fees+e.taxes,!0}}const Sn={class:"tab-container"},Fn={class:"tab-logo-container"},Cn=["src"],In={name:"tab_dashboard"},$t=Object.assign(In,{setup(l){return(e,u)=>(ae(),he("div",Sn,[E("div",Fn,[E("img",{src:nt("tab_dashboard_icon.png"),alt:"Under Construction",class:"tab-logo-centered"},null,8,Cn)])]))}}),Pn={class:"tab-container"},An={class:"tab-logo-container"},zn=["src"],Rn={name:"tab_portfolio"},Ht=Object.assign(Rn,{setup(l){return(e,u)=>(ae(),he("div",Pn,[E("div",An,[E("img",{src:nt("tab_portfolio_icon.png"),alt:"Under Construction",class:"tab-logo-centered"},null,8,zn)])]))}}),Ln={class:"tab-container"},Nn={class:"tab-logo-container"},jn=["src"],Dn={name:"tab_performance"},Bt=Object.assign(Dn,{setup(l){return(e,u)=>(ae(),he("div",Ln,[E("div",Nn,[E("img",{src:nt("tab_performance_icon.png"),alt:"Under Construction",class:"tab-logo-centered"},null,8,jn)])]))}}),$n={class:"tab-container"},Hn={class:"tab-logo-container"},Bn=["src"],Wn={name:"tab_wealth"},Wt=Object.assign(Wn,{setup(l){return(e,u)=>(ae(),he("div",$n,[E("div",Hn,[E("img",{src:nt("tab_wealth_icon.png"),alt:"Under Construction",class:"tab-logo-centered"},null,8,Bn)])]))}}),qn=["colspan"],Un={class:"account-data-wraper"},Vn={class:"account-identifier"},Jn=["src"],Gn={class:"account-name"},Yn={key:0,class:"toggle-arrow"},Kn=["src"],Xn={class:"account-details"},Qn={class:"account-number"},Zn={class:"account-type"},er={props:{span:{type:Number,default:1},institution:{type:String,default:""},name:{type:String,default:""},number:{type:String,default:""},type:{type:String,default:""},currency:{type:String,default:""},show_expand:{type:Boolean,default:!0},expanded:{type:Boolean,default:!1}},emits:["update:expanded"],methods:{toggle(l){this.$emit("update:expanded",l)}},computed:{institution_icon(){if(this.institution=="--")switch(this.currency){case"cad":return nt("currency_cad.png");case"usd":return nt("currency_usd.png");default:return nt("section_expanded.png")}else return`${cn}/${this.institution}.png`}}},qt=Object.assign(er,{__name:"td_account",setup(l){return(e,u)=>(ae(),he("td",{class:"account-cell",colspan:l.span},[E("div",Un,[E("div",Vn,[E("div",null,[E("img",{src:e.institution_icon,class:"institution-icon"},null,8,Jn)]),E("div",Gn,st(l.name),1),l.show_expand?(ae(),he("div",Yn,[E("img",{src:Lt,width:"13",height:"8",class:Ye({expanded:l.expanded}),onClick:u[0]||(u[0]=Rt(d=>e.toggle(!l.expanded),["stop"]))},null,10,Kn)])):$e("",!0)]),E("div",Xn,[E("div",Qn,st(l.number),1),E("div",Zn,st(l.type),1)])])],8,qn))}}),tr=["colspan"],nr={class:"section-identifier"},rr=["src"],ir={class:"section-name"},or={key:0,class:"toggle-arrow"},ar=["src"],sr={props:{span:{type:Number,default:1},icon:{type:String,default:""},name:{type:String,default:""},show_expand:{type:Boolean,default:!0},expanded:{type:Boolean,default:!1},fix_width:{type:String,default:""}},emits:["update:expanded"],methods:{toggle(l){this.$emit("update:expanded",l)}},computed:{section_icon(){return nt(`section_${this.icon||"default"}.png`)},get_width(){return!this.fix_width==""?this.fix_width:"auto"}}},Kt=Object.assign(sr,{__name:"td_section",setup(l){return(e,u)=>(ae(),he("td",{class:"section-cell",colspan:l.span},[E("div",{class:"section-data-wraper",style:rn({width:e.get_width})},[E("div",nr,[E("div",null,[E("img",{src:e.section_icon,class:"section-icon"},null,8,rr)]),E("div",ir,st(l.name),1)]),E("div",null,[l.show_expand?(ae(),he("div",or,[E("img",{src:Lt,width:"13",height:"8",class:Ye({expanded:l.expanded}),onClick:u[0]||(u[0]=Rt(d=>e.toggle(!l.expanded),["stop"]))},null,10,ar)])):$e("",!0)])],4)],8,tr))}}),ur={class:"template-section"},lr={props:["name","icon","expanded","span"],emits:["update:expanded"],methods:{toggle(l){this.$emit("update:expanded",l)}}},It=Object.assign(lr,{__name:"tr_section",setup(l){return(e,u)=>(ae(),he("tr",ur,[oe(Kt,{span:l.span,name:l.name,icon:l.icon,expanded:l.expanded,"onUpdate:expanded":u[0]||(u[0]=d=>e.toggle(d))},null,8,["span","name","icon","expanded"])]))}}),Ct=(l,e)=>{const u=l.__vccOpts||l;for(const[d,a]of e)u[d]=a;return u},cr={},dr={class:"spacer"},fr=E("td",null,null,-1),hr=[fr];function gr(l,e){return ae(),he("tr",dr,hr)}const wt=Ct(cr,[["render",gr]]),mr={props:{value:{default:null},formatter:{type:Function,default:null},align:{type:String,validator:function(l){return["left","center","right"].includes(l)},default:"left"},bold:{type:Boolean,default:!1},colored:{type:Boolean,default:!1},highlighted:{type:Boolean,default:!1},arrow:{type:Boolean,default:!1},span:{type:Number,default:1},tooltip:{default:null},visible:{type:Boolean,default:!0},show_zero:{type:Boolean,default:!0},show_null:{type:Boolean,default:!0}},computed:{formatted_value(){return!this.show_null&&!this.value||typeof this.value=="number"&&!this.show_zero&&this.value==0?"":this.formatter?this.formatter(this.value):this.value},font_color(){return this.colored&&typeof this.value=="number"?this.value>0?"green":this.value<0?"red":"black":"black"},show_arrow(){return this.arrow&&typeof this.value=="number"&&this.value!=0}}},pr=["colspan","title"],vr=E("path",{"data-v-ae951afa":"",d:"M5.79 15.013H3.778V7.806H.813L4.808.398l4.004 7.408H5.791v7.207z",fill:"currentColor"},null,-1),yr=[vr];function _r(l,e,u,d,a,n){return ae(),he("td",{class:Ye(["cell-custom",[u.align]]),colspan:u.span,title:u.tooltip},[u.visible?(ae(),he("div",{key:0,class:Ye(["cell-content",[u.align]])},[E("span",{class:Ye(["cell-value text-color",[n.font_color,{highlighted:u.highlighted,bold:u.bold}]])},st(n.formatted_value),3),n.show_arrow?(ae(),he("svg",{key:0,viewBox:"0 0 9 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:Ye(["arrow-icon",[n.font_color]])},yr,2)):$e("",!0)],2)):$e("",!0)],10,pr)}const dt=Ct(mr,[["render",_r]]),ot={number:new Intl.NumberFormat("en-US"),money:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),price:new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2}),xrate:new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}),date:new Intl.DateTimeFormat("en-CA",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"UTC"}),long_date:new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}),long_datetime:new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"}),month_year:new Intl.DateTimeFormat("default",{month:"long",year:"numeric"})},Ve={number(l){return ot.number.format(l)},money(l){return ot.money.format(l)},money_plus(l){return(l>0?"+":"")+ot.money.format(l)},money_currency(l,e){return`${ot.money.format(l)} ${e.toUpperCase()}`},price(l){return ot.price.format(l)},percent(l){return ot.percent.format(l)},percent_plus(l){return(l>0?"+":"")+ot.percent.format(l)},date(l){let e=new Date(l);return isNaN(e.getTime())?"Invalid":ot.date.format(e)},long_date(l){let e=new Date(l);return isNaN(e.getTime())?"Invalid":ot.long_date.format(e)},long_datetime(l){let e=new Date(l);return isNaN(e.getTime())?"Invalid":ot.long_datetime.format(e)},month_year(l){let e=new Date(`${l}-01T12:00`);return isNaN(e.getTime())?"Invalid":ot.month_year.format(e)},month_year_ym(l,e){let u=new Date(l,e-1,1);return isNaN(u.getTime())?"Invalid":ot.month_year.format(u)},xrate_cad(l){return`1 USD = ${ot.xrate.format(l)} CAD`},currency_info(l,e){return l===""?"":`1 ${l.toUpperCase()} = ${(1/e).toFixed(4)} CAD, 1 CAD = ${e.toFixed(4)} ${l.toUpperCase()}`},tip_daily_change(l,e){return Ve.money_plus(l)+" on "+Ve.long_datetime(e)},tip_xrate(l,e){return l==="usd"?`1 USD = ${Ve.xrate_cad(e)} CAD`:null}},br={components:{td_base:dt},props:{...dt.props,formatter:{type:Function,default:Ve.money},align:{default:"right"}}},Pe=Object.assign(br,{__name:"td_money",setup(l){return(e,u)=>(ae(),ut(dt,St(e.$props,{formatter:l.formatter,align:l.align}),null,16,["formatter","align"]))}}),wr={props:{value:{default:null},value_display:{default:null},formatter:{type:Function,default:null},align:{type:String,validator:function(l){return["left","center","right"].includes(l)},default:"left"},bold:{type:Boolean,default:!1},colored:{type:Boolean,default:!1},highlighted:{type:Boolean,default:!1},arrow:{type:Boolean,default:!1},tooltip:{default:null},visible:{type:Boolean,default:!0},show_zero:{type:Boolean,default:!0},show_null:{type:Boolean,default:!0}},computed:{formatted_value(){return this.value_display?this.value_display:!this.show_null&&!this.value||typeof this.value=="number"&&!this.show_zero&&this.value==0?"":this.formatter?this.formatter(this.value):this.value},font_color(){return this.colored&&typeof this.value=="number"?this.value>0?"green":this.value<0?"red":"black":"black"},show_arrow(){return this.arrow&&typeof this.value=="number"&&this.value!=0}}},kr=["title"],Tr=E("path",{"data-v-ae951afa":"",d:"M5.79 15.013H3.778V7.806H.813L4.808.398l4.004 7.408H5.791v7.207z",fill:"currentColor"},null,-1),Er=[Tr];function Or(l,e,u,d,a,n){return ae(),he("div",{class:Ye(["div-custom",[u.align]]),title:u.tooltip},[u.visible?(ae(),he("div",{key:0,class:Ye(["div-custom-content",[u.align]])},[E("span",{class:Ye(["div-custom-value text-color",[n.font_color,{highlighted:u.highlighted,bold:u.bold}]])},st(n.formatted_value),3),n.show_arrow?(ae(),he("svg",{key:0,viewBox:"0 0 9 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:Ye(["div-custom-arrow-icon",[n.font_color]])},Er,2)):$e("",!0)],2)):$e("",!0)],10,kr)}const vt=Ct(wr,[["render",Or]]),Mr={key:0,class:"account-summary"},xr={id:"details-section",class:"section left details-section"},Sr=on('<div class="details-column left bold"><div></div><div>Deposit</div><div>Withdrawal</div><div>Transfer</div><div>Buy</div><div>Sell</div><div>Dividend</div><div>Interest</div><div>Income</div><div>Taxes</div><div>Fees</div><div>Total</div></div>',1),Fr={class:"details-column right"},Cr={class:"details-column right"},Ir={class:"details-column right"},Pr=E("div",{class:"end"},"All Time",-1),Ar={id:"summary-section",class:"section right center"},zr={class:"summary-section"},Rr=E("div",{class:"balance-label"},"Account Balance",-1),Lr={class:"value-container"},Nr=E("div",{class:"summary-label"},"Cash",-1),jr={class:"value-container"},Dr=E("div",{class:"summary-label"},"Holdings",-1),$r={class:"value-container"},Hr=E("div",{class:"unrealized-label"},"Unrealized gain",-1),Br={props:["account_data","period","currency"],computed:{keys(){return["deposit","withdrawal","transfer","buy","sell","dividend","interest","income","taxes","fees","total"]},total(){return this.account_data.total},unrealized_gain(){return`(${Ve.percent_plus(this.account_data.total.unrealized_gain_percent)}) ${Ve.money(this.account_data.total.unrealized_gain_value)}`}}},Ut=Object.assign(Br,{__name:"ls_summary",setup(l){return(e,u)=>l.account_data?(ae(),he("div",Mr,[E("div",xr,[Sr,E("div",Fr,[E("div",null,st(at(Ve).month_year_ym(l.period.year,l.period.month)),1),(ae(!0),he(et,null,mt(e.keys,d=>(ae(),ut(vt,{value:l.account_data.summary.month[d],formatter:at(Ve).money,align:"right",colored:!0},null,8,["value","formatter"]))),256))]),E("div",Cr,[E("div",null,st(l.period.year),1),(ae(!0),he(et,null,mt(e.keys,d=>(ae(),ut(vt,{value:l.account_data.summary.year[d],formatter:at(Ve).money,align:"right",colored:!0},null,8,["value","formatter"]))),256))]),E("div",Ir,[Pr,(ae(!0),he(et,null,mt(e.keys,d=>(ae(),ut(vt,{value:l.account_data.summary.all[d],formatter:at(Ve).money,align:"right",colored:!0},null,8,["value","formatter"]))),256))])]),E("div",Ar,[E("div",zr,[E("div",null,[oe(vt,{value:e.total.balance,value_display:at(Ve).money_currency(e.total.balance,l.currency),align:"left",colored:!0,class:"balance-value"},null,8,["value","value_display"]),Rr]),E("div",Lr,[Nr,oe(vt,{value:e.total.cash,formatter:at(Ve).money,align:"right",class:"summary-value"},null,8,["value","formatter"])]),E("div",jr,[Dr,oe(vt,{value:e.total.holdings,formatter:at(Ve).money,align:"right",class:"summary-value"},null,8,["value","formatter"])]),E("div",$r,[Hr,oe(vt,{value:e.total.unrealized_gain_value,value_display:e.unrealized_gain,tooltip:`Cost: ${at(Ve).money(e.total.cost)}`,align:"right",colored:!0,class:"unrealized-value"},null,8,["value","value_display","tooltip"])])])])])):$e("",!0)}}),Wr={props:{span:{type:Number,default:1},value:{type:String,default:""},background:{type:Boolean,default:!1}}},qr=["colspan"],Ur={class:"header-centered"};function Vr(l,e,u,d,a,n){return ae(),he("th",{colspan:u.span},[E("div",Ur,[E("div",{class:Ye(["header-value",[{background:u.background}]])},st(u.value),3)])],8,qr)}const xt=Ct(Wr,[["render",Vr]]),Jr=["title"],Gr={class:"company-data-wraper"},Yr={class:""},Kr=["src"],Xr={class:"company-data"},Qr={class:"company-symbol"},Zr={class:"company-name"},ei={key:0,class:"toggle-arrow"},ti=["src"],ni={props:{holding:{default:null},show_expand:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["update:expanded"],data(){return{logo:jt,error:!1}},methods:{toggle(l){this.$emit("update:expanded",l)},load_logo(){this.logo=this.error?this.logo:this.logo_path()},logo_path(){return this.cash?gn:`${hn}/${this.holding.symbol_mrkt}/logo`},reset_logo(){this.error=!0,this.logo=jt}},computed:{cash(){return this.holding.symbol=="REALCASH"},company_symbol(){return this.cash?"CASH":this.holding.symbol},company_name(){return this.cash?"CASH BALANCE":this.holding.name},tooltip(){return this.cash?"CASH BALANCE":this.holding.symbol_mrkt}}},ri=Object.assign(ni,{__name:"td_company",setup(l){return(e,u)=>(ae(),he("td",{class:"company-cell",title:e.tooltip},[E("div",Gr,[E("div",Yr,[E("img",{src:e.logo,onLoad:u[0]||(u[0]=(...d)=>e.load_logo&&e.load_logo(...d)),onError:u[1]||(u[1]=(...d)=>e.reset_logo&&e.reset_logo(...d)),alt:"company_symbol",class:"company-logo"},null,40,Kr)]),E("div",Xr,[E("div",Qr,st(e.company_symbol),1),E("div",Zr,st(e.company_name),1)]),l.show_expand?(ae(),he("div",ei,[E("img",{src:Lt,width:"13",height:"8",class:Ye({expanded:l.expanded}),onClick:u[2]||(u[2]=Rt(d=>e.toggle(!l.expanded),["stop"]))},null,10,ti)])):$e("",!0)])],8,Jr))}}),ii={components:{td_base:dt},props:{...dt.props,formatter:{type:Function,default:Ve.number},align:{default:"right"}}},Xt=Object.assign(ii,{__name:"td_number",setup(l){return(e,u)=>(ae(),ut(dt,St(e.$props,{formatter:l.formatter,align:l.align}),null,16,["formatter","align"]))}}),oi={components:{td_base:dt},props:{...dt.props,align:{default:"left"}}},ai=Object.assign(oi,{__name:"td_date",setup(l){return(e,u)=>(ae(),ut(dt,St(e.$props,{formatter:at(Ve).date,align:l.align}),null,16,["formatter","align"]))}}),si={components:{td_base:dt},props:{...dt.props,align:{default:"left"}}},Pt=Object.assign(si,{__name:"td_text",setup(l){return(e,u)=>(ae(),ut(dt,St(e.$props,{formatter:null,align:l.align}),null,16,["align"]))}}),ui={class:"transactions-table"},li={class:"transactions-header bottom-line"},ci=E("th",{class:"justify-left"},"Date",-1),di=E("th",{class:"justify-left"},"Description",-1),fi={key:0,class:"justify-left"},hi=E("th",{class:"justify-left"},"Type",-1),gi=E("th",{class:"justify-center"},"Qte",-1),mi=E("th",null,"Price",-1),pi=E("th",null,"Amount",-1),vi=E("th",null,"Fee",-1),yi=E("th",null,"Total",-1),_i={key:1},bi={class:"transactions-month"},wi={colspan:"8",class:"justify-left"},ki={key:0},Ti={key:1},Ei={class:"spacer top-line"},Oi=E("td",{colspan:"8"},null,-1),Mi={key:0},xi={key:1},Si={props:{transactions:{type:Array},show_symbol:{type:Boolean,default:!0},show_balance:{type:Boolean,default:!0}},methods:{tooltip_transaction_date(l){return`trade: ${Ve.date(l.date)}
settlement: ${Ve.date(l.settlement_date)}`}},computed:{transactions_by_month(){return this.transactions.sort((l,e)=>e.settlement_dt-l.settlement_dt||e.index-l.index).reduce((l,e)=>{var u;return(l[u=e.year_month]??(l[u]=[])).push(e),l},{})}}},Qt=Object.assign(Si,{__name:"ls_transactions",setup(l){return(e,u)=>(ae(),he("table",ui,[E("thead",null,[E("tr",li,[ci,di,l.show_symbol?(ae(),he("th",fi,"Company")):$e("",!0),hi,gi,mi,pi,vi,yi,l.show_balance?(ae(),he("th",_i,"Balance")):$e("",!0)])]),E("tbody",null,[(ae(!0),he(et,null,mt(e.transactions_by_month,(d,a)=>(ae(),he(et,{key:a},[E("tr",bi,[E("td",wi,st(at(Ve).month_year(a)),1),l.show_symbol?(ae(),he("td",ki)):$e("",!0),l.show_balance?(ae(),he("td",Ti)):$e("",!0)]),(ae(!0),he(et,null,mt(d,n=>(ae(),he("tr",null,[oe(ai,{value:n.settlement_date,tooltip:e.tooltip_transaction_date(n)},null,8,["value","tooltip"]),oe(Pt,{value:n.description,class:"transaction-description",tooltip:n.description},null,8,["value","tooltip"]),l.show_symbol?(ae(),ut(Pt,{key:0,value:n.symbol},null,8,["value"])):$e("",!0),oe(Pt,{value:n.type.toUpperCase()},null,8,["value"]),oe(Xt,{value:n.quantity,align:"center",show_zero:!1,show_null:!1},null,8,["value"]),oe(Pe,{value:n.price,formatter:at(Ve).price,show_zero:!1,show_null:!1},null,8,["value","formatter"]),oe(Pe,{value:n.amount},null,8,["value"]),oe(Pe,{value:-n.fee,show_zero:!1,show_null:!1},null,8,["value"]),oe(Pe,{value:n.total,colored:!0},null,8,["value"]),l.show_balance?(ae(),ut(Pe,{key:1,value:n.balance,bold:!0},null,8,["value"])):$e("",!0)]))),256))],64))),128))]),E("tfoot",null,[E("tr",Ei,[Oi,l.show_symbol?(ae(),he("td",Mi)):$e("",!0),l.show_balance?(ae(),he("td",xi)):$e("",!0)])])]))}}),Fi={class:"holdings_table"},Ci=E("th",{colspan:"2"},null,-1),Ii=E("th",null,null,-1),Pi=E("tr",{class:"justify-right bottom-line"},[E("th",{class:"justify-left"},"Company"),E("th",{class:"justify-center"},"Qty"),E("th",null,"Price"),E("th",null,"Value"),E("th",null,"Realized"),E("th",null,"Unrealized"),E("th",null,"Dividend"),E("th",null,"Interest"),E("th",null,"Fees"),E("th",null,"Taxes"),E("th",null,"Price"),E("th",null,"Value"),E("th",null,"Return")],-1),Ai={key:0,class:"state"},zi={key:0},Ri={colspan:" 13"},Li={class:"total-line"},Ni=E("td",{colspan:"3",class:"justify-left"},"Total",-1),ji=E("td",null,null,-1),Di={key:0,class:"total-line"},$i=E("td",{colspan:"3",class:"justify-left"},"Total",-1),Hi=E("td",null,null,-1),Bi={props:["holdings"],data(){return{expanded:{states:{},holdings:{}},grouped_holdings:{}}},methods:{get_grouped_holdings(l){return this.grouped_holdings[l]=this.grouped_holdings[l]||this.holdings.filter(e=>l==="active"?e.id.active:!e.id.active)},show_footer_total(){return this.get_grouped_holdings("active").length&&this.get_grouped_holdings("inactive").lenght},total(l,e){return Tn(e?this.get_grouped_holdings(e):this.holdings,l)}}},Wi=Object.assign(Bi,{__name:"ls_holdings",setup(l){return(e,u)=>(ae(),he("table",Fi,[E("thead",null,[oe(wt),E("tr",null,[Ci,oe(xt,{span:2,value:"Cost",background:!0}),oe(xt,{span:4,value:"Gain",background:!0}),oe(xt,{span:2,value:"Charges",background:!0}),oe(xt,{span:2,value:"Market",background:!0}),Ii]),Pi]),(ae(),he(et,null,mt(["active","inactive"],d=>E("tbody",null,[d!="active"&&e.get_grouped_holdings(d).length?(ae(),he("tr",Ai,[oe(Kt,{span:13,name:d.charAt(0).toUpperCase()+d.slice(1)+" Holdings",icon:"inactive",expanded:e.expanded.states[d],"onUpdate:expanded":a=>e.expanded.states[d]=a},null,8,["name","expanded","onUpdate:expanded"])])):$e("",!0),e.expanded.states[d]||d=="active"?(ae(),he(et,{key:1},[oe(wt),(ae(!0),he(et,null,mt(e.get_grouped_holdings(d),a=>{var n,v;return ae(),he(et,null,[E("tr",{class:Ye(["holding",[{expanded:e.expanded.holdings[a.id.symbol_mrkt]}]])},[oe(ri,{holding:a.id,show_expand:!0,expanded:e.expanded.holdings[a.id.symbol_mrkt],"onUpdate:expanded":S=>e.expanded.holdings[a.id.symbol_mrkt]=S},null,8,["holding","expanded","onUpdate:expanded"]),oe(Xt,{value:a.id.quantity,align:"center"},null,8,["value"]),oe(Pe,{value:a.values.cost.price},null,8,["value"]),oe(Pe,{value:a.values.cost.value},null,8,["value"]),oe(Pe,{value:a.return.gain.realized,colored:!0,arrow:"true"},null,8,["value"]),oe(Pe,{value:a.return.gain.unrealized.overall.amount},null,8,["value"]),oe(Pe,{value:a.return.dividend},null,8,["value"]),oe(Pe,{value:a.return.interest},null,8,["value"]),oe(Pe,{value:a.return.fees},null,8,["value"]),oe(Pe,{value:a.return.taxes},null,8,["value"]),oe(Pe,{value:a.history.market.price,tooltip:`${(n=a.security)==null?void 0:n.price} ${(v=a.security)==null?void 0:v.currency}`},null,8,["value","tooltip"]),oe(Pe,{value:a.values.market.value},null,8,["value"]),oe(Pe,{value:a.return.total,colored:!0},null,8,["value"])],2),e.expanded.holdings[a.id.symbol_mrkt]?(ae(),he("tr",zi,[E("td",Ri,[oe(Qt,{transactions:a.transactions,show_symbol:!1,show_balance:!1},null,8,["transactions"])])])):$e("",!0)],64)}),256)),E("tr",Li,[Ni,oe(Pe,{value:e.total("values.cost.value",d)},null,8,["value"]),oe(Pe,{value:e.total("return.gain.realized",d)},null,8,["value"]),oe(Pe,{value:e.total("return.gain.unrealized.overall.amount",d)},null,8,["value"]),oe(Pe,{value:e.total("return.dividend",d)},null,8,["value"]),oe(Pe,{value:e.total("return.interest",d)},null,8,["value"]),oe(Pe,{value:e.total("return.fees",d)},null,8,["value"]),oe(Pe,{value:e.total("return.taxes",d)},null,8,["value"]),ji,oe(Pe,{value:e.total("values.market.value",d)},null,8,["value"]),oe(Pe,{value:e.total("return.total",d)},null,8,["value"])])],64)):$e("",!0),oe(wt)])),64)),E("tfoot",null,[e.show_footer_total()?(ae(),he("tr",Di,[$i,oe(Pe,{value:e.total("values.cost.value")},null,8,["value"]),oe(Pe,{value:e.total("return.gain.realized")},null,8,["value"]),oe(Pe,{value:e.total("return.gain.unrealized.overall.amount")},null,8,["value"]),oe(Pe,{value:e.total("return.dividend")},null,8,["value"]),oe(Pe,{value:e.total("return.interest")},null,8,["value"]),oe(Pe,{value:e.total("return.fees")},null,8,["value"]),oe(Pe,{value:e.total("return.taxes")},null,8,["value"]),Hi,oe(Pe,{value:e.total("values.market.value")},null,8,["value"]),oe(Pe,{value:e.total("return.total")},null,8,["value"])])):$e("",!0)])]))}}),qi={key:0,id:"listing"},Ui={class:"listing history"},Vi=E("thead",null,[E("tr",{class:"bottom-line"},[E("th",{class:"justify-left"},"Accounts"),E("th",{colspan:"1",class:"justify-right"},"CAD"),E("th",{colspan:"1",class:"justify-right"},"USD"),E("th",{colspan:"1",class:"justify-right"},"Total CAD")])],-1),Ji={colspan:"4"},Gi={key:0},Yi={colspan:"4"},Ki={key:2},Xi={colspan:"4"},Qi={key:4},Zi={colspan:"4"},eo=E("tr",{class:"account-footer"},[E("td",{colspan:"4"})],-1),to={class:"total-line"},no=E("td",{class:"justify-left"},"Total",-1),ro={id:"footer"},io=E("div",{style:{height:"20px"}},null,-1),oo={style:{display:"flex","justify-content":"space-between"}},ao=["title"],so={inject:["data","state"],data(){return{x_usd:null,accounts:null,accounts_data:{},expanded:{accounts:{},subaccounts:{},summaries:{},holdings:{},transactions:{}}}},created(){this.load_data()},methods:{load_data(){this.state.loading=!0,this.data.initialize().then(()=>{this.x_usd=this.data.get_currency("usd"),this.accounts=this.data.get_accounts()}),this.state.loading=!1},account_data(l,e){return this.accounts_data[l]||this.data.get_account_data(l,e).then(u=>{this.accounts_data[l]=u,console.log("account_data",u)}),this.accounts_data[l]},subaccount_data(l){var e;return(e=Object.values(this.accounts_data).flatMap(u=>Object.entries(u.subaccounts)).find(([u])=>u===l))==null?void 0:e[1]}},computed:{selected_date(){return new Date},currency_info(){return this.x_usd?Ve.currency_info(this.x_usd.id,this.x_usd.rate):"undefined"},currency_date(){return this.x_usd?Ve.long_datetime(this.x_usd.date):"undefined"}}},Vt=Object.assign(so,{__name:"history",setup(l){return(e,u)=>(ae(),he(et,null,[e.accounts&&e.accounts.length?(ae(),he("div",qi,[E("table",Ui,[Vi,e.accounts?(ae(!0),he(et,{key:0},mt(e.accounts,d=>(ae(),he("tbody",{key:d.number},[E("tr",{class:Ye(["account toggle-row",[{expanded:e.expanded.accounts[d.number]}]])},[oe(qt,{institution:d.institution.type,name:d.name,number:d.number,type:d.type,expanded:e.expanded.accounts[d.number],"onUpdate:expanded":a=>e.expanded.accounts[d.number]=a},null,8,["institution","name","number","type","expanded","onUpdate:expanded"]),oe(Pe,{value:0,show_zero:!0}),oe(Pe,{value:0,show_zero:!0}),oe(Pe,{value:0,show_zero:!0})],2),e.expanded.accounts[d.number]?(ae(),he(et,{key:0},[E("tr",null,[E("td",Ji,[oe(Ut,{account_data:e.account_data(d.number,e.selected_date),period:at(At)(e.selected_date),currency:"cad"},null,8,["account_data","period"])])]),(ae(!0),he(et,null,mt(d.subaccounts,a=>(ae(),he(et,{key:a.id},[E("tr",{class:Ye(["subaccount toggle-row",[{expanded:!0}]])},[oe(qt,{span:4,institution:"--",name:a.name,currency:a.currency,expanded:e.expanded.subaccounts[a.id],"onUpdate:expanded":n=>e.expanded.subaccounts[a.id]=n},null,8,["name","currency","expanded","onUpdate:expanded"])]),(ae(),he(et,{key:0},[oe(It,{span:4,name:"Summary",icon:"summary",expanded:e.expanded.summaries[a.id],"onUpdate:expanded":n=>e.expanded.summaries[a.id]=n},null,8,["expanded","onUpdate:expanded"]),e.expanded.summaries[a.id]?(ae(),he("tr",Gi,[E("td",Yi,[oe(Ut,{account_data:e.subaccount_data(a.id),period:at(At)(e.selected_date),currency:a.currency},null,8,["account_data","period","currency"])])])):$e("",!0),e.expanded.summaries[a.id]?(ae(),ut(wt,{key:1})):$e("",!0),oe(It,{span:4,name:"Holdings",icon:"holdings",expanded:e.expanded.holdings[a.id],"onUpdate:expanded":n=>e.expanded.holdings[a.id]=n},null,8,["expanded","onUpdate:expanded"]),e.expanded.holdings[a.id]?(ae(),he("tr",Ki,[E("td",Xi,[oe(Wi,{holdings:e.subaccount_data(a.id).holdings},null,8,["holdings"])])])):$e("",!0),e.expanded.holdings[a.id]?(ae(),ut(wt,{key:3})):$e("",!0),oe(It,{span:4,name:"Transactions",icon:"transactions",expanded:e.expanded.transactions[a.id],"onUpdate:expanded":n=>e.expanded.transactions[a.id]=n},null,8,["expanded","onUpdate:expanded"]),e.expanded.transactions[a.id]?(ae(),he("tr",Qi,[E("td",Zi,[oe(Qt,{transactions:e.subaccount_data(a.id).transactions},null,8,["transactions"])])])):$e("",!0),oe(wt)],64))],64))),128)),eo],64)):$e("",!0)]))),128)):$e("",!0),E("tfoot",null,[E("tr",to,[no,oe(Pe,{value:0,show_zero:!0}),oe(Pe,{value:0,show_zero:!0}),oe(Pe,{value:0,show_zero:!0})])])])])):$e("",!0),E("div",ro,[io,E("div",oo,[E("div",null,[e.x_usd?(ae(),he("div",{key:0,class:"x-rate-info",title:e.currency_date},st(e.currency_info),9,ao)):$e("",!0)])])])],64))}}),uo={class:"tabs-container"},lo={class:"tabs"},co=["src"],fo=E("span",null,"Dashboard",-1),ho=["src"],go=E("span",null,"Portfolio",-1),mo=["src"],po=E("span",null,"Performance",-1),vo=["src"],yo=E("span",null,"Wealth",-1),_o=["src"],bo=E("span",null,"History",-1),wo={class:"state"},ko=["src"],To=E("div",{class:"top-space"},null,-1),Eo={name:"App",components:{Dashboard:$t,Portfolio:Ht,Performance:Bt,Wealth:Wt,History:Vt},data(){return{state:{loading:!0},active_tab:"History",tabs:{Dashboard:Et($t),Portfolio:Et(Ht),Performance:Et(Bt),Wealth:Et(Wt),History:Et(Vt)}}},provide(){return{data:new xn,state:this.state}},computed:{get_active_tab(){return this.tabs[this.active_tab]}}},xo=Object.assign(Eo,{setup(l){return(e,u)=>(ae(),he("div",null,[E("div",uo,[E("div",lo,[E("div",{onClick:u[0]||(u[0]=d=>e.active_tab="Dashboard"),class:Ye(["tab",{"tab-active":e.active_tab==="Dashboard"}])},[E("img",{src:nt("tab_dashboard_icon.png"),alt:"",class:"tab-img"},null,8,co),fo],2),E("div",{onClick:u[1]||(u[1]=d=>e.active_tab="Portfolio"),class:Ye(["tab",{"tab-active":e.active_tab==="Portfolio"}])},[E("img",{src:nt("tab_portfolio_icon.png"),alt:"",class:"tab-img"},null,8,ho),go],2),E("div",{onClick:u[2]||(u[2]=d=>e.active_tab="Performance"),class:Ye(["tab",{"tab-active":e.active_tab==="Performance"}])},[E("img",{src:nt("tab_performance_icon.png"),alt:"",class:"tab-img"},null,8,mo),po],2),E("div",{onClick:u[3]||(u[3]=d=>e.active_tab="Wealth"),class:Ye(["tab",{"tab-active":e.active_tab==="Wealth"}])},[E("img",{src:nt("tab_wealth_icon.png"),alt:"",class:"tab-img"},null,8,vo),yo],2),E("div",{onClick:u[4]||(u[4]=d=>e.active_tab="History"),class:Ye(["tab",{"tab-active":e.active_tab==="History"}])},[E("img",{src:nt("tab_history_icon.png"),alt:"",class:"tab-img"},null,8,_o),bo],2)]),E("div",wo,[e.state.loading?(ae(),he("img",{key:0,src:nt("system_loading.gif"),alt:"Loading...",class:"loading-gif"},null,8,ko)):$e("",!0)])]),To,E("div",null,[(ae(),ut(sn,null,[(ae(),ut(an(e.get_active_tab)))],1024))])]))}});export{xo as default};
