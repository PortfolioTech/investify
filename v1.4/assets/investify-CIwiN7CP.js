var Jt=Object.defineProperty;var Gt=(v,e,t)=>e in v?Jt(v,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):v[e]=t;var dt=(v,e,t)=>(Gt(v,typeof e!="symbol"?e+"":e,t),t);import{p as Yt,o as ne,c as se,a as c,n as Ye,t as ht,w as Dt,b as De,d as wt,m as Mt,u as st,e as L,F as Ge,r as lt,f as Rt,g as Kt,h as Qt,K as Xt,i as Tt}from"./index-BmoEhmn6.js";var qt={};(function(v){(()=>{var e={541:(n,u,E)=>{var U=E(353),ie=G(U),V=E(37),W=G(V),b=E(630),T=G(b),g=function(){function P(D,h){for(var y=0;y<h.length;y++){var M=h[y];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(D,M.key,M)}}return function(D,h,y){return h&&P(D.prototype,h),y&&P(D,y),D}}(),O=E(457),A=G(O),$=E(729),S=G($),o=E(702);E(303);var R=E(248),a=G(R),J=E(249),re=G(J);function G(P){return P&&P.__esModule?P:{default:P}}function be(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}function _e(P,D){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:P}function Re(P,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(P,D):P.__proto__=D)}window.iFrameResizer=re.default;var oe=function(P){Re(D,P);function D(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};be(this,D);var y=_e(this,(D.__proto__||Object.getPrototypeOf(D)).call(this));return y.options=h,y.api=new a.default(y),y.channel=A.default.build({window:h.window||window.parent,origin:"*",scope:h.id||location.origin,postMessageObserver:function(H,Y){y.emit("postMessage",H,Y)},gotMessageObserver:function(H,Y){y.emit("gotMessage",H,Y)}}),["init","update","reload","_event"].forEach(function(M){y.channel.bind(M,function(H,Y){var j=M,q=Y;return M==="_event"&&(j=Y.eventName,q=Y.eventData),y.emit(j,q),"success"})}),y}return g(D,[{key:"request",value:function(y){var M=this;return new o.Promise(function(H,Y){if(!(0,T.default)(y))throw new Error("Params must be an object");var j=y.method,q=y.endpoint,me=y.query,ve=y.body;if(!j||!q||!(0,W.default)(j)||!(0,W.default)(q))throw new Error("Invalid method or endpoint");if(!(0,ie.default)(me)&&!(0,T.default)(me))throw new Error("Query must be an object");if(!(0,ie.default)(ve)&&!(0,T.default)(ve))throw new Error("Body must be an object");M.effectiveUser&&(y.effectiveUser=M.effectiveUser),M.channel.call({method:"request",params:y,success:function(pe){H(pe)},error:function(pe){Y(pe)}})})}},{key:"setEffectiveUser",value:function(y){this.effectiveUser=y}},{key:"saveData",value:function(y){var M=this;return new o.Promise(function(H,Y){if(!(0,T.default)(y))throw new Error("Data must be an object");M.channel.call({method:"saveData",params:y,success:function(){H()},error:function(q){Y(q)}})})}},{key:"addTransaction",value:function(y){var M=this;return new o.Promise(function(H,Y){if(!(0,ie.default)(y)&&!(0,T.default)(y))throw new Error("Attrs must be an object");M.channel.call({method:"addTransaction",params:y,success:function(q){H(q)},error:function(q){Y(q)}})})}},{key:"editTransaction",value:function(y){var M=this;return new o.Promise(function(H,Y){if(!y||!(0,W.default)(y))throw new Error("Invalid id");M.channel.call({method:"editTransaction",params:y,success:function(q){H(q)},error:function(q){Y(q)}})})}},{key:"addInstitution",value:function(y){var M=this;return new o.Promise(function(H,Y){if(!(0,ie.default)(y)&&!(0,T.default)(y))throw new Error("Attrs must be an object");M.channel.call({method:"addInstitution",params:y,success:function(q){H(q)},error:function(q){Y(q)}})})}},{key:"addInvestment",value:function(){var y=this;return new o.Promise(function(M,H){y.channel.call({method:"addInvestment",success:function(j){M(j)},error:function(j){H(j)}})})}},{key:"editInstitution",value:function(y){var M=this;return new o.Promise(function(H,Y){if(!y||!(0,W.default)(y))throw new Error("Invalid id");M.channel.call({method:"editInstitution",params:y,success:function(q){H(q)},error:function(q){Y(q)}})})}},{key:"editAsset",value:function(y){var M=this;return new o.Promise(function(H,Y){if(!y||!(0,W.default)(y))throw new Error("Invalid id");M.channel.call({method:"editAsset",params:y,success:function(q){H(q)},error:function(q){Y(q)}})})}},{key:"editLiability",value:function(y){var M=this;return new o.Promise(function(H,Y){if(!y||!(0,W.default)(y))throw new Error("Invalid id");M.channel.call({method:"editLiability",params:y,success:function(q){H(q)},error:function(q){Y(q)}})})}},{key:"deleteInstitution",value:function(y){var M=this;return new o.Promise(function(H,Y){if(!y||!(0,W.default)(y))throw new Error("Invalid id");M.channel.call({method:"deleteInstitution",params:y,success:function(q){H(q)},error:function(q){Y(q)}})})}},{key:"deleteAsset",value:function(y){var M=this;return new o.Promise(function(H,Y){if(!y||!(0,W.default)(y))throw new Error("Invalid id");M.channel.call({method:"deleteAsset",params:y,success:function(q){H(q)},error:function(q){Y(q)}})})}},{key:"deleteLiability",value:function(y){var M=this;return new o.Promise(function(H,Y){if(!y||!(0,W.default)(y))throw new Error("Invalid id");M.channel.call({method:"deleteLiability",params:y,success:function(q){H(q)},error:function(q){Y(q)}})})}},{key:"downloadDocument",value:function(y){var M=this;return new o.Promise(function(H,Y){if(!y||!(0,W.default)(y))throw new Error("Invalid id");M.channel.call({method:"downloadDocument",params:y,success:function(){H()},error:function(q){Y(q)}})})}},{key:"upgradePremium",value:function(){var y=this;return new o.Promise(function(M,H){y.channel.call({method:"upgradePremium",success:function(){M()},error:function(j){H(j)}})})}},{key:"getSharings",value:function(){var y=this;return new o.Promise(function(M,H){y.channel.call({method:"getSharings",success:function(j){M(j)},error:function(j){H(j)}})})}},{key:"switchUser",value:function(y){var M=this;return new o.Promise(function(H,Y){if(!y||!(0,W.default)(y))throw new Error("Invalid id");M.channel.call({method:"switchUser",params:y,success:function(){H()},error:function(q){Y(q)}})})}},{key:"destroy",value:function(){this.channel.destroy()}}]),D}(S.default);n.exports=oe},248:n=>{var u=function(){function ie(V,W){for(var b=0;b<W.length;b++){var T=W[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(V,T.key,T)}}return function(V,W,b){return W&&ie(V.prototype,W),b&&ie(V,b),V}}();function E(ie,V){if(!(ie instanceof V))throw new TypeError("Cannot call a class as a function")}var U=function(){function ie(V){E(this,ie),this.addon=V}return u(ie,[{key:"getAssets",value:function(W){return this.addon.request({method:"GET",endpoint:"assets",query:W})}},{key:"getCurrencies",value:function(W){return this.addon.request({method:"GET",endpoint:"currencies",query:W})}},{key:"getInstitutions",value:function(W){return this.addon.request({method:"GET",endpoint:"institutions",query:W})}},{key:"getInstitution",value:function(W){return this.addon.request({method:"GET",endpoint:"institutions/"+W})}},{key:"pollInstitution",value:function(W,b){return this.addon.request({method:"GET",endpoint:"institutions/"+W+"/poll?v="+b})}},{key:"syncInstitution",value:function(W){return this.addon.request({method:"POST",endpoint:"institutions/"+W+"/sync"})}},{key:"addInstitution",value:function(W){return console.warn("DEPRECATED: `addon.api.addInstitution`. Use `addon.addInstitution instead.`"),this.addon.request({method:"POST",endpoint:"institutions",body:W})}},{key:"getLiabilities",value:function(W){return this.addon.request({method:"GET",endpoint:"liabilities",query:W})}},{key:"getPositions",value:function(W){return this.addon.request({method:"GET",endpoint:"positions",query:W})}},{key:"getTransactions",value:function(W){return this.addon.request({method:"GET",endpoint:"transactions",query:W})}},{key:"updateTransaction",value:function(W){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.addon.request({method:"PUT",endpoint:"transactions/"+W,body:b})}},{key:"getUser",value:function(){return this.addon.request({method:"GET",endpoint:"users/me"})}}]),ie}();n.exports=U},249:(n,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.default={heightCalculationMethod:function(){var U=document,ie=U.body,V=U.documentElement;return Math.max.apply(null,[ie.scrollHeight,ie.offsetHeight,V.offsetHeight])}}},702:function(n,u,E){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(U,ie){n.exports=ie()})(this,function(){function U(l){var w=typeof l;return l!==null&&(w==="object"||w==="function")}function ie(l){return typeof l=="function"}var V=void 0;Array.isArray?V=Array.isArray:V=function(l){return Object.prototype.toString.call(l)==="[object Array]"};var W=V,b=0,T=void 0,g=void 0,O=function(w,f){oe[b]=w,oe[b+1]=f,b+=2,b===2&&(g?g(P):h())};function A(l){g=l}function $(l){O=l}var S=typeof window<"u"?window:void 0,o=S||{},R=o.MutationObserver||o.WebKitMutationObserver,a=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",J=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function re(){return function(){return process.nextTick(P)}}function G(){return typeof T<"u"?function(){T(P)}:Re()}function be(){var l=0,w=new R(P),f=document.createTextNode("");return w.observe(f,{characterData:!0}),function(){f.data=l=++l%2}}function _e(){var l=new MessageChannel;return l.port1.onmessage=P,function(){return l.port2.postMessage(0)}}function Re(){var l=setTimeout;return function(){return l(P,1)}}var oe=new Array(1e3);function P(){for(var l=0;l<b;l+=2){var w=oe[l],f=oe[l+1];w(f),oe[l]=void 0,oe[l+1]=void 0}b=0}function D(){try{var l=Function("return this")().require("vertx");return T=l.runOnLoop||l.runOnContext,G()}catch{return Re()}}var h=void 0;a?h=re():R?h=be():J?h=_e():S===void 0?h=D():h=Re();function y(l,w){var f=this,C=new this.constructor(Y);C[H]===void 0&&F(C);var x=f._state;if(x){var z=arguments[x-1];O(function(){return rt(x,C,z,f._result)})}else et(f,C,l,w);return C}function M(l){var w=this;if(l&&typeof l=="object"&&l.constructor===w)return l;var f=new w(Y);return We(f,l),f}var H=Math.random().toString(36).substring(2);function Y(){}var j=void 0,q=1,me=2;function ve(){return new TypeError("You cannot resolve a promise with itself")}function qe(){return new TypeError("A promises callback cannot return that same promise.")}function pe(l,w,f,C){try{l.call(w,f,C)}catch(x){return x}}function Ee(l,w,f){O(function(C){var x=!1,z=pe(f,w,function(Ce){x||(x=!0,w!==Ce?We(C,Ce):Ve(C,Ce))},function(Ce){x||(x=!0,ze(C,Ce))},"Settle: "+(C._label||" unknown promise"));!x&&z&&(x=!0,ze(C,z))},l)}function Ae(l,w){w._state===q?Ve(l,w._result):w._state===me?ze(l,w._result):et(w,void 0,function(f){return We(l,f)},function(f){return ze(l,f)})}function Oe(l,w,f){w.constructor===l.constructor&&f===y&&w.constructor.resolve===M?Ae(l,w):f===void 0?Ve(l,w):ie(f)?Ee(l,w,f):Ve(l,w)}function We(l,w){if(l===w)ze(l,ve());else if(U(w)){var f=void 0;try{f=w.then}catch(C){ze(l,C);return}Oe(l,w,f)}else Ve(l,w)}function Le(l){l._onerror&&l._onerror(l._result),Ze(l)}function Ve(l,w){l._state===j&&(l._result=w,l._state=q,l._subscribers.length!==0&&O(Ze,l))}function ze(l,w){l._state===j&&(l._state=me,l._result=w,O(Le,l))}function et(l,w,f,C){var x=l._subscribers,z=x.length;l._onerror=null,x[z]=w,x[z+q]=f,x[z+me]=C,z===0&&l._state&&O(Ze,l)}function Ze(l){var w=l._subscribers,f=l._state;if(w.length!==0){for(var C=void 0,x=void 0,z=l._result,Ce=0;Ce<w.length;Ce+=3)C=w[Ce],x=w[Ce+f],C?rt(f,C,x,z):x(z);l._subscribers.length=0}}function rt(l,w,f,C){var x=ie(f),z=void 0,Ce=void 0,je=!0;if(x){try{z=f(C)}catch(tt){je=!1,Ce=tt}if(w===z){ze(w,qe());return}}else z=C;w._state!==j||(x&&je?We(w,z):je===!1?ze(w,Ce):l===q?Ve(w,z):l===me&&ze(w,z))}function _(l,w){try{w(function(C){We(l,C)},function(C){ze(l,C)})}catch(f){ze(l,f)}}var X=0;function d(){return X++}function F(l){l[H]=X++,l._state=void 0,l._result=void 0,l._subscribers=[]}function Z(){return new Error("Array Methods must be provided an Array")}var K=function(){function l(w,f){this._instanceConstructor=w,this.promise=new w(Y),this.promise[H]||F(this.promise),W(f)?(this.length=f.length,this._remaining=f.length,this._result=new Array(this.length),this.length===0?Ve(this.promise,this._result):(this.length=this.length||0,this._enumerate(f),this._remaining===0&&Ve(this.promise,this._result))):ze(this.promise,Z())}return l.prototype._enumerate=function(f){for(var C=0;this._state===j&&C<f.length;C++)this._eachEntry(f[C],C)},l.prototype._eachEntry=function(f,C){var x=this._instanceConstructor,z=x.resolve;if(z===M){var Ce=void 0,je=void 0,tt=!1;try{Ce=f.then}catch(Ke){tt=!0,je=Ke}if(Ce===y&&f._state!==j)this._settledAt(f._state,C,f._result);else if(typeof Ce!="function")this._remaining--,this._result[C]=f;else if(x===m){var gt=new x(Y);tt?ze(gt,je):Oe(gt,f,Ce),this._willSettleAt(gt,C)}else this._willSettleAt(new x(function(Ke){return Ke(f)}),C)}else this._willSettleAt(z(f),C)},l.prototype._settledAt=function(f,C,x){var z=this.promise;z._state===j&&(this._remaining--,f===me?ze(z,x):this._result[C]=x),this._remaining===0&&Ve(z,this._result)},l.prototype._willSettleAt=function(f,C){var x=this;et(f,void 0,function(z){return x._settledAt(q,C,z)},function(z){return x._settledAt(me,C,z)})},l}();function le(l){return new K(this,l).promise}function we(l){var w=this;return W(l)?new w(function(f,C){for(var x=l.length,z=0;z<x;z++)w.resolve(l[z]).then(f,C)}):new w(function(f,C){return C(new TypeError("You must pass an array to race."))})}function $e(l){var w=this,f=new w(Y);return ze(f,l),f}function fe(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ue(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var m=function(){function l(w){this[H]=d(),this._result=this._state=void 0,this._subscribers=[],Y!==w&&(typeof w!="function"&&fe(),this instanceof l?_(this,w):Ue())}return l.prototype.catch=function(f){return this.then(null,f)},l.prototype.finally=function(f){var C=this,x=C.constructor;return ie(f)?C.then(function(z){return x.resolve(f()).then(function(){return z})},function(z){return x.resolve(f()).then(function(){throw z})}):C.then(f,f)},l}();m.prototype.then=y,m.all=le,m.race=we,m.resolve=M,m.reject=$e,m._setScheduler=A,m._setAsap=$,m._asap=O;function B(){var l=void 0;if(typeof E.g<"u")l=E.g;else if(typeof self<"u")l=self;else try{l=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var w=l.Promise;if(w){var f=null;try{f=Object.prototype.toString.call(w.resolve())}catch{}if(f==="[object Promise]"&&!w.cast)return}l.Promise=m}return m.polyfill=B,m.Promise=m,m})},729:n=>{var u=Object.prototype.hasOwnProperty,E="~";function U(){}Object.create&&(U.prototype=Object.create(null),new U().__proto__||(E=!1));function ie(T,g,O){this.fn=T,this.context=g,this.once=O||!1}function V(T,g,O,A,$){if(typeof O!="function")throw new TypeError("The listener must be a function");var S=new ie(O,A||T,$),o=E?E+g:g;return T._events[o]?T._events[o].fn?T._events[o]=[T._events[o],S]:T._events[o].push(S):(T._events[o]=S,T._eventsCount++),T}function W(T,g){--T._eventsCount===0?T._events=new U:delete T._events[g]}function b(){this._events=new U,this._eventsCount=0}b.prototype.eventNames=function(){var g=[],O,A;if(this._eventsCount===0)return g;for(A in O=this._events)u.call(O,A)&&g.push(E?A.slice(1):A);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(O)):g},b.prototype.listeners=function(g){var O=E?E+g:g,A=this._events[O];if(!A)return[];if(A.fn)return[A.fn];for(var $=0,S=A.length,o=new Array(S);$<S;$++)o[$]=A[$].fn;return o},b.prototype.listenerCount=function(g){var O=E?E+g:g,A=this._events[O];return A?A.fn?1:A.length:0},b.prototype.emit=function(g,O,A,$,S,o){var R=E?E+g:g;if(!this._events[R])return!1;var a=this._events[R],J=arguments.length,re,G;if(a.fn){switch(a.once&&this.removeListener(g,a.fn,void 0,!0),J){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,O),!0;case 3:return a.fn.call(a.context,O,A),!0;case 4:return a.fn.call(a.context,O,A,$),!0;case 5:return a.fn.call(a.context,O,A,$,S),!0;case 6:return a.fn.call(a.context,O,A,$,S,o),!0}for(G=1,re=new Array(J-1);G<J;G++)re[G-1]=arguments[G];a.fn.apply(a.context,re)}else{var be=a.length,_e;for(G=0;G<be;G++)switch(a[G].once&&this.removeListener(g,a[G].fn,void 0,!0),J){case 1:a[G].fn.call(a[G].context);break;case 2:a[G].fn.call(a[G].context,O);break;case 3:a[G].fn.call(a[G].context,O,A);break;case 4:a[G].fn.call(a[G].context,O,A,$);break;default:if(!re)for(_e=1,re=new Array(J-1);_e<J;_e++)re[_e-1]=arguments[_e];a[G].fn.apply(a[G].context,re)}}return!0},b.prototype.on=function(g,O,A){return V(this,g,O,A,!1)},b.prototype.once=function(g,O,A){return V(this,g,O,A,!0)},b.prototype.removeListener=function(g,O,A,$){var S=E?E+g:g;if(!this._events[S])return this;if(!O)return W(this,S),this;var o=this._events[S];if(o.fn)o.fn===O&&(!$||o.once)&&(!A||o.context===A)&&W(this,S);else{for(var R=0,a=[],J=o.length;R<J;R++)(o[R].fn!==O||$&&!o[R].once||A&&o[R].context!==A)&&a.push(o[R]);a.length?this._events[S]=a.length===1?a[0]:a:W(this,S)}return this},b.prototype.removeAllListeners=function(g){var O;return g?(O=E?E+g:g,this._events[O]&&W(this,O)):(this._events=new U,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=E,b.EventEmitter=b,n.exports=b},303:(n,u,E)=>{n.exports=E(683)},402:n=>{(function(u){if(typeof window>"u")return;var E=!0,U=10,ie="",V=0,W="",b=null,T="",g=!1,O={resize:1,click:1},A=128,$=!0,S=1,o="bodyOffset",R=o,a=!0,J="",re={},G=32,be=null,_e=!1,Re="[iFrameSizer]",oe=Re.length,P="",D={max:1,min:1,bodyScroll:1,documentElementScroll:1},h="child",y=!0,M=window.parent,H="*",Y=0,j=!1,q=null,me=16,ve=1,qe="scroll",pe=qe,Ee=window,Ae=function(){F("MessageCallback function not defined")},Oe=function(){},We=function(){},Le={height:function(){return F("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return F("Custom width calculation function not defined"),document.body.scrollWidth}},Ve={};function ze(s,p,N){"addEventListener"in window?s.addEventListener(p,N,!1):"attachEvent"in window&&s.attachEvent("on"+p,N)}function et(s,p,N){"removeEventListener"in window?s.removeEventListener(p,N,!1):"detachEvent"in window&&s.detachEvent("on"+p,N)}function Ze(s){return s.charAt(0).toUpperCase()+s.slice(1)}function rt(s){var p,N,ae,he=null,Me=0,xe=function(){Me=_(),he=null,ae=s.apply(p,N),he||(p=N=null)};return function(){var Fe=_();Me||(Me=Fe);var ye=me-(Fe-Me);return p=this,N=arguments,ye<=0||ye>me?(he&&(clearTimeout(he),he=null),Me=Fe,ae=s.apply(p,N),he||(p=N=null)):he||(he=setTimeout(xe,ye)),ae}}var _=Date.now||function(){return new Date().getTime()};function X(s){return Re+"["+P+"] "+s}function d(s){_e&&typeof window.console=="object"&&console.log(X(s))}function F(s){typeof window.console=="object"&&console.warn(X(s))}function Z(){K(),d("Initialising iFrame ("+location.href+")"),le(),fe(),$e("background",ie),$e("padding",T),gt(),w(),f(),Ue(),He(),C(),re=Ke(),mt("init","Init message from host page"),Oe()}function K(){function s(N){return N==="true"}var p=J.substr(oe).split(":");P=p[0],V=u!==p[1]?Number(p[1]):V,g=u!==p[2]?s(p[2]):g,_e=u!==p[3]?s(p[3]):_e,G=u!==p[4]?Number(p[4]):G,E=u!==p[6]?s(p[6]):E,W=p[7],R=u!==p[8]?p[8]:R,ie=p[9],T=p[10],Y=u!==p[11]?Number(p[11]):Y,re.enable=u!==p[12]?s(p[12]):!1,h=u!==p[13]?p[13]:h,pe=u!==p[14]?p[14]:pe}function le(){function s(){var N=window.iFrameResizer;d("Reading data from page: "+JSON.stringify(N)),Ae="messageCallback"in N?N.messageCallback:Ae,Oe="readyCallback"in N?N.readyCallback:Oe,H="targetOrigin"in N?N.targetOrigin:H,R="heightCalculationMethod"in N?N.heightCalculationMethod:R,pe="widthCalculationMethod"in N?N.widthCalculationMethod:pe}function p(N,ae){return typeof N=="function"&&(d("Setup custom "+ae+"CalcMethod"),Le[ae]=N,N="custom"),N}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(s(),R=p(R,"height"),pe=p(pe,"width")),d("TargetOrigin for parent set to: "+H)}function we(s,p){return p.indexOf("-")!==-1&&(F("Negative CSS value ignored for "+s),p=""),p}function $e(s,p){u!==p&&p!==""&&p!=="null"&&(document.body.style[s]=p,d("Body "+s+' set to "'+p+'"'))}function fe(){u===W&&(W=V+"px"),$e("margin",we("margin",W))}function Ue(){document.documentElement.style.height="",document.body.style.height="",d('HTML & body height set to "auto"')}function m(s){var p={add:function(N){function ae(){mt(s.eventName,s.eventType)}Ve[N]=ae,ze(window,N,ae)},remove:function(N){var ae=Ve[N];delete Ve[N],et(window,N,ae)}};s.eventNames&&Array.prototype.map?(s.eventName=s.eventNames[0],s.eventNames.map(p[s.method])):p[s.method](s.eventName),d(Ze(s.method)+" event listener: "+s.eventType)}function B(s){m({method:s,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),m({method:s,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),m({method:s,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),m({method:s,eventType:"Input",eventName:"input"}),m({method:s,eventType:"Mouse Up",eventName:"mouseup"}),m({method:s,eventType:"Mouse Down",eventName:"mousedown"}),m({method:s,eventType:"Orientation Change",eventName:"orientationchange"}),m({method:s,eventType:"Print",eventName:["afterprint","beforeprint"]}),m({method:s,eventType:"Ready State Change",eventName:"readystatechange"}),m({method:s,eventType:"Touch Start",eventName:"touchstart"}),m({method:s,eventType:"Touch End",eventName:"touchend"}),m({method:s,eventType:"Touch Cancel",eventName:"touchcancel"}),m({method:s,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),m({method:s,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),m({method:s,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),h==="child"&&m({method:s,eventType:"IFrame Resized",eventName:"resize"})}function l(s,p,N,ae){return p!==s&&(s in N||(F(s+" is not a valid option for "+ae+"CalculationMethod."),s=p),d(ae+' calculation method set to "'+s+'"')),s}function w(){R=l(R,o,Qe,"height")}function f(){pe=l(pe,qe,ut,"width")}function C(){E===!0?(B("add"),Q()):d("Auto Resize disabled")}function x(){d("Disable outgoing messages"),y=!1}function z(){d("Remove event listener: Message"),et(window,"message",k)}function Ce(){b!==null&&b.disconnect()}function je(){B("remove"),Ce(),clearInterval(be)}function tt(){x(),z(),E===!0&&je()}function gt(){var s=document.createElement("div");s.style.clear="both",s.style.display="block",document.body.appendChild(s)}function Ke(){function s(){return{x:window.pageXOffset!==u?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==u?window.pageYOffset:document.documentElement.scrollTop}}function p(ye){var ge=ye.getBoundingClientRect(),Pe=s();return{x:parseInt(ge.left,10)+parseInt(Pe.x,10),y:parseInt(ge.top,10)+parseInt(Pe.y,10)}}function N(ye){function ge(at){var kt=p(at);d("Moving to in page link (#"+Pe+") at x: "+kt.x+" y: "+kt.y),ct(kt.y,kt.x,"scrollToOffset")}var Pe=ye.split("#")[1]||ye,Te=decodeURIComponent(Pe),Xe=document.getElementById(Te)||document.getElementsByName(Te)[0];u!==Xe?ge(Xe):(d("In page link (#"+Pe+") not found in iFrame, so sending to parent"),ct(0,0,"inPageLink","#"+Pe))}function ae(){location.hash!==""&&location.hash!=="#"&&N(location.href)}function he(){function ye(ge){function Pe(Te){Te.preventDefault(),N(this.getAttribute("href"))}ge.getAttribute("href")!=="#"&&ze(ge,"click",Pe)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),ye)}function Me(){ze(window,"hashchange",ae)}function xe(){setTimeout(ae,A)}function Fe(){Array.prototype.forEach&&document.querySelectorAll?(d("Setting up location.hash handlers"),he(),Me(),xe()):F("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return re.enable?Fe():d("In page linking not enabled"),{findTarget:N}}function He(){d("Enable public methods"),Ee.parentIFrame={autoResize:function(p){return p===!0&&E===!1?(E=!0,C()):p===!1&&E===!0&&(E=!1,je()),E},close:function(){ct(0,0,"close"),tt()},getId:function(){return P},getPageInfo:function(p){typeof p=="function"?(We=p,ct(0,0,"pageInfo")):(We=function(){},ct(0,0,"pageInfoStop"))},moveToAnchor:function(p){re.findTarget(p)},reset:function(){At("parentIFrame.reset")},scrollTo:function(p,N){ct(N,p,"scrollTo")},scrollToOffset:function(p,N){ct(N,p,"scrollToOffset")},sendMessage:function(p,N){ct(0,0,"message",JSON.stringify(p),N)},setHeightCalculationMethod:function(p){R=p,w()},setWidthCalculationMethod:function(p){pe=p,f()},setTargetOrigin:function(p){d("Set targetOrigin: "+p),H=p},size:function(p,N){var ae=""+(p||"")+(N?","+N:"");mt("size","parentIFrame.size("+ae+")",p,N)}}}function ue(){G!==0&&(d("setInterval: "+G+"ms"),be=setInterval(function(){mt("interval","setInterval: "+G)},Math.abs(G)))}function ee(){function s(Te){function Xe(at){at.complete===!1&&(d("Attach listeners to "+at.src),at.addEventListener("load",he,!1),at.addEventListener("error",Me,!1),ye.push(at))}Te.type==="attributes"&&Te.attributeName==="src"?Xe(Te.target):Te.type==="childList"&&Array.prototype.forEach.call(Te.target.querySelectorAll("img"),Xe)}function p(Te){ye.splice(ye.indexOf(Te),1)}function N(Te){d("Remove listeners from "+Te.src),Te.removeEventListener("load",he,!1),Te.removeEventListener("error",Me,!1),p(Te)}function ae(Te,Xe,at){N(Te.target),mt(Xe,at+": "+Te.target.src,u,u)}function he(Te){ae(Te,"imageLoad","Image loaded")}function Me(Te){ae(Te,"imageLoadFailed","Image load failed")}function xe(Te){mt("mutationObserver","mutationObserver: "+Te[0].target+" "+Te[0].type),Te.forEach(s)}function Fe(){var Te=document.querySelector("body"),Xe={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return Pe=new ge(xe),d("Create body MutationObserver"),Pe.observe(Te,Xe),Pe}var ye=[],ge=window.MutationObserver||window.WebKitMutationObserver,Pe=Fe();return{disconnect:function(){"disconnect"in Pe&&(d("Disconnect body MutationObserver"),Pe.disconnect(),ye.forEach(N))}}}function Q(){var s=0>G;window.MutationObserver||window.WebKitMutationObserver?s?ue():b=ee():(d("MutationObserver not supported in this browser!"),ue())}function te(s,p){function N(he){var Me=/^\d+(px)?$/i;if(Me.test(he))return parseInt(he,U);var xe=p.style.left,Fe=p.runtimeStyle.left;return p.runtimeStyle.left=p.currentStyle.left,p.style.left=he||0,he=p.style.pixelLeft,p.style.left=xe,p.runtimeStyle.left=Fe,he}var ae=0;return p=p||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(ae=document.defaultView.getComputedStyle(p,null),ae=ae!==null?ae[s]:0):ae=N(p.currentStyle[s]),parseInt(ae,U)}function ce(s){s>me/2&&(me=2*s,d("Event throttle increased to "+me+"ms"))}function Se(s,p){for(var N=p.length,ae=0,he=0,Me=Ze(s),xe=_(),Fe=0;Fe<N;Fe++)ae=p[Fe].getBoundingClientRect()[s]+te("margin"+Me,p[Fe]),ae>he&&(he=ae);return xe=_()-xe,d("Parsed "+N+" HTML elements"),d("Element position calculated in "+xe+"ms"),ce(xe),he}function ke(s){return[s.bodyOffset(),s.bodyScroll(),s.documentElementOffset(),s.documentElementScroll()]}function Ie(s,p){function N(){return F("No tagged elements ("+p+") found on page"),document.querySelectorAll("body *")}var ae=document.querySelectorAll("["+p+"]");return ae.length===0&&N(),Se(s,ae)}function Be(){return document.querySelectorAll("body *")}var Qe={bodyOffset:function(){return document.body.offsetHeight+te("marginTop")+te("marginBottom")},offset:function(){return Qe.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return Le.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,ke(Qe))},min:function(){return Math.min.apply(null,ke(Qe))},grow:function(){return Qe.max()},lowestElement:function(){return Math.max(Qe.bodyOffset(),Se("bottom",Be()))},taggedElement:function(){return Ie("bottom","data-iframe-height")}},ut={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return Le.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(ut.bodyScroll(),ut.documentElementScroll())},max:function(){return Math.max.apply(null,ke(ut))},min:function(){return Math.min.apply(null,ke(ut))},rightMostElement:function(){return Se("right",Be())},taggedElement:function(){return Ie("right","data-iframe-width")}};function pt(s,p,N,ae){function he(){S=Pe,ve=Te,ct(S,ve,s)}function Me(){function Xe(at,kt){var Vt=Math.abs(at-kt)<=Y;return!Vt}return Pe=u!==N?N:Qe[R](),Te=u!==ae?ae:ut[pe](),Xe(S,Pe)||g&&Xe(ve,Te)}function xe(){return!(s in{init:1,interval:1,size:1})}function Fe(){return R in D||g&&pe in D}function ye(){d("No change in size detected")}function ge(){xe()&&Fe()?At(p):s in{interval:1}||ye()}var Pe,Te;Me()||s==="init"?(Et(),he()):ge()}var St=rt(pt);function mt(s,p,N,ae){function he(){s in{reset:1,resetPage:1,init:1}||d("Trigger event: "+p)}function Me(){return j&&s in O}Me()?d("Trigger event cancelled: "+s):(he(),St(s,p,N,ae))}function Et(){j||(j=!0,d("Trigger event lock on")),clearTimeout(q),q=setTimeout(function(){j=!1,d("Trigger event lock off"),d("--")},A)}function ot(s){S=Qe[R](),ve=ut[pe](),ct(S,ve,s)}function At(s){var p=R;R=o,d("Reset trigger event: "+s),Et(),ot("reset"),R=p}function ct(s,p,N,ae,he){function Me(){u===he?he=H:d("Message targetOrigin: "+he)}function xe(){var Fe=s+":"+p,ye=P+":"+Fe+":"+N+(u!==ae?":"+ae:"");d("Sending message to host page ("+ye+")"),M.postMessage(Re+ye,he)}y===!0&&(Me(),xe())}function k(s){var p={init:function(){function Pe(){J=s.data,M=s.source,Z(),$=!1,setTimeout(function(){a=!1},A)}document.readyState==="interactive"||document.readyState==="complete"?Pe():(d("Waiting for page ready"),ze(window,"readystatechange",p.initFromParent))},reset:function(){a?d("Page reset ignored by init"):(d("Page size reset by host page"),ot("resetPage"))},resize:function(){mt("resizeParent","Parent window requested size check")},moveToAnchor:function(){re.findTarget(he())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var Pe=he();d("PageInfoFromParent called from parent: "+Pe),We(JSON.parse(Pe)),d(" --")},message:function(){var Pe=he();d("MessageCallback called from parent: "+Pe),Ae(JSON.parse(Pe)),d(" --")}};function N(){return Re===(""+s.data).substr(0,oe)}function ae(){return s.data.split("]")[1].split(":")[0]}function he(){return s.data.substr(s.data.indexOf(":")+1)}function Me(){return!n.exports&&"iFrameResize"in window}function xe(){return s.data.split(":")[2]in{true:1,false:1}}function Fe(){var ge=ae();ge in p?p[ge]():!Me()&&!xe()&&F("Unexpected message ("+s.data+")")}function ye(){$===!1?Fe():xe()?p.init():d('Ignored message of type "'+ae()+'". Received before initialization.')}N()&&ye()}function I(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}ze(window,"message",k),I()})()},28:(n,u)=>{var E,U,ie;(function(V){if(typeof window>"u")return;var W=0,b=!1,T=!1,g="message",O=g.length,A="[iFrameSizer]",$=A.length,S=null,o=window.requestAnimationFrame,R={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},a={},J=null,re={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){y("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};function G(d,F,Z){"addEventListener"in window?d.addEventListener(F,Z,!1):"attachEvent"in window&&d.attachEvent("on"+F,Z)}function be(d,F,Z){"removeEventListener"in window?d.removeEventListener(F,Z,!1):"detachEvent"in window&&d.detachEvent("on"+F,Z)}function _e(){var d=["moz","webkit","o","ms"],F;for(F=0;F<d.length&&!o;F+=1)o=window[d[F]+"RequestAnimationFrame"];o||D("setup","RequestAnimationFrame not supported")}function Re(d){var F="Host page: "+d;return window.top!==window.self&&(window.parentIFrame&&window.parentIFrame.getId?F=window.parentIFrame.getId()+": "+d:F="Nested host page: "+d),F}function oe(d){return A+"["+Re(d)+"]"}function P(d){return a[d]?a[d].log:b}function D(d,F){M("log",d,F,P(d))}function h(d,F){M("info",d,F,P(d))}function y(d,F){M("warn",d,F,!0)}function M(d,F,Z,K){K===!0&&typeof window.console=="object"&&console[d](oe(F),Z)}function H(d){function F(){function te(){pe(ee),me(Q),je("resizedCallback",ee)}K("Height"),K("Width"),Ee(te,ee,"init")}function Z(){var te=ue.substr($).split(":");return{iframe:a[te[0]]&&a[te[0]].iframe,id:te[0],height:te[1],width:te[2],type:te[3]}}function K(te){var ce=Number(a[Q]["max"+te]),Se=Number(a[Q]["min"+te]),ke=te.toLowerCase(),Ie=Number(ee[ke]);D(Q,"Checking "+ke+" is in range "+Se+"-"+ce),Ie<Se&&(Ie=Se,D(Q,"Set "+ke+" to min value")),Ie>ce&&(Ie=ce,D(Q,"Set "+ke+" to max value")),ee[ke]=""+Ie}function le(){function te(){function ke(){var Be=0,Qe=!1;for(D(Q,"Checking connection is from allowed list of origins: "+Se);Be<Se.length;Be++)if(Se[Be]===ce){Qe=!0;break}return Qe}function Ie(){var Be=a[Q]&&a[Q].remoteHost;return D(Q,"Checking connection is from: "+Be),ce===Be}return Se.constructor===Array?ke():Ie()}var ce=d.origin,Se=a[Q]&&a[Q].checkOrigin;if(Se&&""+ce!="null"&&!te())throw new Error("Unexpected message received from: "+ce+" for "+ee.iframe.id+". Message was: "+d.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function we(){return A===(""+ue).substr(0,$)&&ue.substr($).split(":")[0]in a}function $e(){var te=ee.type in{true:1,false:1,undefined:1};return te&&D(Q,"Ignoring init message from meta parent page"),te}function fe(te){return ue.substr(ue.indexOf(":")+O+te)}function Ue(te){D(Q,"MessageCallback passed: {iframe: "+ee.iframe.id+", message: "+te+"}"),je("messageCallback",{iframe:ee.iframe,message:JSON.parse(te)}),D(Q,"--")}function m(){var te=document.body.getBoundingClientRect(),ce=ee.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:ce.height,iframeWidth:ce.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(ce.top-te.top,10),offsetLeft:parseInt(ce.left-te.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function B(te,ce){function Se(){Ae("Send Page Info","pageInfo:"+m(),te,ce)}Le(Se,32)}function l(){function te(Ie,Be){function Qe(){a[ke]?B(a[ke].iframe,ke):ce()}["scroll","resize"].forEach(function(ut){D(ke,Ie+ut+" listener for sendPageInfo"),Be(window,ut,Qe)})}function ce(){te("Remove ",be)}function Se(){te("Add ",G)}var ke=Q;Se(),a[ke]&&(a[ke].stopPageInfo=ce)}function w(){a[Q]&&a[Q].stopPageInfo&&(a[Q].stopPageInfo(),delete a[Q].stopPageInfo)}function f(){var te=!0;return ee.iframe===null&&(y(Q,"IFrame ("+ee.id+") not found"),te=!1),te}function C(te){var ce=te.getBoundingClientRect();return q(Q),{x:Math.floor(Number(ce.left)+Number(S.x)),y:Math.floor(Number(ce.top)+Number(S.y))}}function x(te){function ce(){S=Be,z(),D(Q,"--")}function Se(){return{x:Number(ee.width)+Ie.x,y:Number(ee.height)+Ie.y}}function ke(){window.parentIFrame?window.parentIFrame["scrollTo"+(te?"Offset":"")](Be.x,Be.y):y(Q,"Unable to scroll to requested position, window.parentIFrame not found")}var Ie=te?C(ee.iframe):{x:0,y:0},Be=Se();D(Q,"Reposition requested from iFrame (offset x:"+Ie.x+" y:"+Ie.y+")"),window.top!==window.self?ke():ce()}function z(){je("scrollCallback",S)!==!1?me(Q):ve()}function Ce(te){function ce(){var Qe=C(Be);D(Q,"Moving to in page link (#"+ke+") at x: "+Qe.x+" y: "+Qe.y),S={x:Qe.x,y:Qe.y},z(),D(Q,"--")}function Se(){window.parentIFrame?window.parentIFrame.moveToAnchor(ke):D(Q,"In page link #"+ke+" not found and window.parentIFrame not found")}var ke=te.split("#")[1]||"",Ie=decodeURIComponent(ke),Be=document.getElementById(Ie)||document.getElementsByName(Ie)[0];Be?ce():window.top!==window.self?Se():D(Q,"In page link #"+ke+" not found")}function je(te,ce){return Y(Q,te,ce)}function tt(){switch(a[Q]&&a[Q].firstRun&&He(),ee.type){case"close":a[Q].closeRequestCallback?Y(Q,"closeRequestCallback",a[Q].iframe):j(ee.iframe);break;case"message":Ue(fe(6));break;case"scrollTo":x(!1);break;case"scrollToOffset":x(!0);break;case"pageInfo":B(a[Q]&&a[Q].iframe,Q),l();break;case"pageInfoStop":w();break;case"inPageLink":Ce(fe(9));break;case"reset":qe(ee);break;case"init":F(),je("initCallback",ee.iframe);break;default:F()}}function gt(te){var ce=!0;return a[te]||(ce=!1,y(ee.type+" No settings for "+te+". Message was: "+ue)),ce}function Ke(){for(var te in a)Ae("iFrame requested init",Oe(te),document.getElementById(te),te)}function He(){a[Q]&&(a[Q].firstRun=!1)}var ue=d.data,ee={},Q=null;ue==="[iFrameResizerChild]Ready"?Ke():we()?(ee=Z(),Q=ee.id,a[Q]&&(a[Q].loaded=!0),!$e()&&gt(Q)&&(D(Q,"Received: "+ue),f()&&le()&&tt())):h(Q,"Ignored: "+ue)}function Y(d,F,Z){var K=null,le=null;if(a[d])if(K=a[d][F],typeof K=="function")le=K(Z);else throw new TypeError(F+" on iFrame["+d+"] is not a function");return le}function j(d){var F=d.id;D(F,"Removing iFrame: "+F),d.parentNode&&d.parentNode.removeChild(d),Y(F,"closedCallback",F),D(F,"--"),delete a[F]}function q(d){S===null&&(S={x:window.pageXOffset!==V?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==V?window.pageYOffset:document.documentElement.scrollTop},D(d,"Get page position: "+S.x+","+S.y))}function me(d){S!==null&&(window.scrollTo(S.x,S.y),D(d,"Set page position: "+S.x+","+S.y),ve())}function ve(){S=null}function qe(d){function F(){pe(d),Ae("reset","reset",d.iframe,d.id)}D(d.id,"Size reset requested by "+(d.type==="init"?"host page":"iFrame")),q(d.id),Ee(F,d,"reset")}function pe(d){function F(we){d.iframe.style[we]=d[we]+"px",D(d.id,"IFrame ("+le+") "+we+" set to "+d[we]+"px")}function Z(we){!T&&d[we]==="0"&&(T=!0,D(le,"Hidden iFrame detected, creating visibility listener"),Ve())}function K(we){F(we),Z(we)}var le=d.iframe.id;a[le]&&(a[le].sizeHeight&&K("height"),a[le].sizeWidth&&K("width"))}function Ee(d,F,Z){Z!==F.type&&o?(D(F.id,"Requesting animation frame"),o(d)):d()}function Ae(d,F,Z,K,le){function we(){var B=a[K]&&a[K].targetOrigin;D(K,"["+d+"] Sending msg to iframe["+K+"] ("+F+") targetOrigin: "+B),Z.contentWindow.postMessage(A+F,B)}function $e(){y(K,"["+d+"] IFrame("+K+") not found")}function fe(){Z&&"contentWindow"in Z&&Z.contentWindow!==null?we():$e()}function Ue(){function B(){a[K]&&!a[K].loaded&&!m&&(m=!0,y(K,"IFrame has not responded within "+a[K].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}le&&a[K]&&a[K].warningTimeout&&(a[K].msgTimeout=setTimeout(B,a[K].warningTimeout))}var m=!1;K=K||Z.id,a[K]&&(fe(),Ue())}function Oe(d){return d+":"+a[d].bodyMarginV1+":"+a[d].sizeWidth+":"+a[d].log+":"+a[d].interval+":"+a[d].enablePublicMethods+":"+a[d].autoResize+":"+a[d].bodyMargin+":"+a[d].heightCalculationMethod+":"+a[d].bodyBackground+":"+a[d].bodyPadding+":"+a[d].tolerance+":"+a[d].inPageLinks+":"+a[d].resizeFrom+":"+a[d].widthCalculationMethod}function We(d,F){function Z(){function z(je){a[x][je]!==1/0&&a[x][je]!==0&&(d.style[je]=a[x][je]+"px",D(x,"Set "+je+" = "+a[x][je]+"px"))}function Ce(je){if(a[x]["min"+je]>a[x]["max"+je])throw new Error("Value for min"+je+" can not be greater than max"+je)}Ce("Height"),Ce("Width"),z("maxHeight"),z("minHeight"),z("maxWidth"),z("minWidth")}function K(){var z=F&&F.id||re.id+W++;return document.getElementById(z)!==null&&(z=z+W++),z}function le(z){return z===""&&(d.id=z=K(),b=(F||{}).log,D(z,"Added missing iframe ID: "+z+" ("+d.src+")")),z}function we(){switch(D(x,"IFrame scrolling "+(a[x]&&a[x].scrolling?"enabled":"disabled")+" for "+x),d.style.overflow=(a[x]&&a[x].scrolling)===!1?"hidden":"auto",a[x]&&a[x].scrolling){case!0:d.scrolling="yes";break;case!1:d.scrolling="no";break;default:d.scrolling=a[x]?a[x].scrolling:"no"}}function $e(){(typeof(a[x]&&a[x].bodyMargin)=="number"||(a[x]&&a[x].bodyMargin)==="0")&&(a[x].bodyMarginV1=a[x].bodyMargin,a[x].bodyMargin=""+a[x].bodyMargin+"px")}function fe(){var z=a[x]&&a[x].firstRun,Ce=a[x]&&a[x].heightCalculationMethod in R;!z&&Ce&&qe({iframe:d,height:0,width:0,type:"init"})}function Ue(){Function.prototype.bind&&a[x]&&(a[x].iframe.iFrameResizer={close:j.bind(null,a[x].iframe),resize:Ae.bind(null,"Window resize","resize",a[x].iframe),moveToAnchor:function(z){Ae("Move to anchor","moveToAnchor:"+z,a[x].iframe,x)},sendMessage:function(z){z=JSON.stringify(z),Ae("Send Message","message:"+z,a[x].iframe,x)}})}function m(z){function Ce(){Ae("iFrame.onload",z,d,V,!0),fe()}G(d,"load",Ce),Ae("init",z,d,V,!0)}function B(z){if(typeof z!="object")throw new TypeError("Options is not an object")}function l(z){for(var Ce in re)re.hasOwnProperty(Ce)&&(a[x][Ce]=z.hasOwnProperty(Ce)?z[Ce]:re[Ce])}function w(z){return z===""||z==="file://"?"*":z}function f(z){z=z||{},a[x]={firstRun:!0,iframe:d,remoteHost:d.src.split("/").slice(0,3).join("/")},B(z),l(z),a[x]&&(a[x].targetOrigin=a[x].checkOrigin===!0?w(a[x].remoteHost):"*")}function C(){return x in a&&"iFrameResizer"in d}var x=le(d.id);C()?y(x,"Ignored iFrame, already setup."):(f(F),we(),Z(),$e(),m(Oe(x)),Ue())}function Le(d,F){J===null&&(J=setTimeout(function(){J=null,d()},F))}function Ve(){function d(){function le($e){function fe(m){return(a[$e]&&a[$e].iframe.style[m])==="0px"}function Ue(m){return m.offsetParent!==null}a[$e]&&Ue(a[$e].iframe)&&(fe("height")||fe("width"))&&Ae("Visibility change","resize",a[$e].iframe,$e)}for(var we in a)le(we)}function F(le){D("window","Mutation observed: "+le[0].target+" "+le[0].type),Le(d,16)}function Z(){var le=document.querySelector("body"),we={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},$e=new K(F);$e.observe(le,we)}var K=window.MutationObserver||window.WebKitMutationObserver;K&&Z()}function ze(d){function F(){Ze("Window "+d,"resize")}D("window","Trigger event: "+d),Le(F,16)}function et(){function d(){Ze("Tab Visable","resize")}document.visibilityState!=="hidden"&&(D("document","Trigger event: Visiblity change"),Le(d,16))}function Ze(d,F){function Z(le){return a[le]&&a[le].resizeFrom==="parent"&&a[le].autoResize&&!a[le].firstRun}for(var K in a)Z(K)&&Ae(d,F,document.getElementById(K),K)}function rt(){G(window,"message",H),G(window,"resize",function(){ze("resize")}),G(document,"visibilitychange",et),G(document,"-webkit-visibilitychange",et),G(window,"focusin",function(){ze("focus")}),G(window,"focus",function(){ze("focus")})}function _(){function d(K,le){function we(){if(le.tagName){if(le.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+le.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}le&&(we(),We(le,K),Z.push(le))}function F(K){K&&K.enablePublicMethods&&y("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var Z;return _e(),rt(),function(le,we){switch(Z=[],F(le),typeof we){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(we||"iframe"),d.bind(V,le));break;case"object":d(le,we);break;default:throw new TypeError("Unexpected data type ("+typeof we+")")}return Z}}function X(d){d.fn?d.fn.iFrameResize||(d.fn.iFrameResize=function(Z){function K(le,we){We(we,Z)}return this.filter("iframe").each(K).end()}):h("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&X(window.jQuery),U=[],E=_,ie=typeof E=="function"?E.apply(u,U):E,ie!==V&&(n.exports=ie)})()},683:(n,u,E)=>{u.iframeResizer=E(28),u.iframeResizerContentWindow=E(402)},457:n=>{var u=function(){var E=Math.floor(Math.random()*1000001),U={};function ie(g,O,A,$){function S(a){for(var J=0;J<a.length;J++)if(a[J].win===g)return!0;return!1}var o=!1;if(O==="*"){for(var R in U)if(U.hasOwnProperty(R)&&R!=="*"&&typeof U[R][A]=="object"&&(o=S(U[R][A]),o))break}else U["*"]&&U["*"][A]&&(o=S(U["*"][A])),!o&&U[O]&&U[O][A]&&(o=S(U[O][A]));if(o)throw"A channel is already bound to the same window which overlaps with origin '"+O+"' and has scope '"+A+"'";typeof U[O]!="object"&&(U[O]={}),typeof U[O][A]!="object"&&(U[O][A]=[]),U[O][A].push({win:g,handler:$})}function V(g,O,A){for(var $=U[O][A],S=0;S<$.length;S++)$[S].win===g&&$.splice(S,1);U[O][A].length===0&&delete U[O][A]}function W(g){return Array.isArray?Array.isArray(g):g.constructor.toString().indexOf("Array")!=-1}var b={},T=function(g){try{var O=JSON.parse(g.data);if(typeof O!="object"||O===null)throw"malformed"}catch{return}var A=g.source,$=g.origin,S,o,R;if(typeof O.method=="string"){var a=O.method.split("::");a.length==2?(S=a[0],R=a[1]):R=O.method}if(typeof O.id<"u"&&(o=O.id),typeof R=="string"){var J=!1;if(U[$]&&U[$][S]){for(var re=0;re<U[$][S].length;re++)if(U[$][S][re].win===A){U[$][S][re].handler($,R,O),J=!0;break}}if(!J&&U["*"]&&U["*"][S]){for(var re=0;re<U["*"][S].length;re++)if(U["*"][S][re].win===A){U["*"][S][re].handler($,R,O);break}}}else typeof o<"u"&&b[o]&&b[o]($,R,O)};return window.addEventListener?window.addEventListener("message",T,!1):window.attachEvent&&window.attachEvent("onmessage",T),{build:function(g){var O=function(h){if(g.debugOutput&&window.console&&window.console.log){try{typeof h!="string"&&(h=JSON.stringify(h))}catch{}console.log("["+S+"] "+h)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof g!="object")throw"Channel build invoked without a proper object argument";if(!g.window||!g.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===g.window)throw"target window is same as present window -- not allowed";var A=!1;if(typeof g.origin=="string"){var $;g.origin==="*"?A=!0:($=g.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))!==null&&(g.origin=$[0].toLowerCase(),A=!0)}if(!A)throw"Channel.build() called with an invalid origin";if(typeof g.scope<"u"){if(typeof g.scope!="string")throw"scope, when specified, must be a string";if(g.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var S=function(){for(var h="",y="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",M=0;M<5;M++)h+=y.charAt(Math.floor(Math.random()*y.length));return h}(),o={},R={},a={},J=!1,re=[],G=function(h,y,M){var H=!1,Y=!1;return{origin:y,invoke:function(j,q){if(!a[h])throw"attempting to invoke a callback of a nonexistent transaction: "+h;for(var me=!1,ve=0;ve<M.length;ve++)if(j===M[ve]){me=!0;break}if(!me)throw"request supports no such callback '"+j+"'";oe({id:h,callback:j,params:q})},error:function(j,q){if(Y=!0,!a[h])throw"error called for nonexistent message: "+h;delete a[h],oe({id:h,error:j,message:q})},complete:function(j){if(Y=!0,!a[h])throw"complete called for nonexistent message: "+h;delete a[h],oe({id:h,result:j})},delayReturn:function(j){return typeof j=="boolean"&&(H=j===!0),H},completed:function(){return Y}}},be=function(h,y,M){return window.setTimeout(function(){if(R[h]){var H="timeout ("+y+"ms) exceeded on method '"+M+"'";(0,R[h].error)("timeout_error",H),delete R[h],delete b[h]}},y)},_e=function(h,y,M){if(typeof g.gotMessageObserver=="function")try{g.gotMessageObserver(h,M)}catch(Oe){O("gotMessageObserver() raised an exception: "+Oe.toString())}if(M.id&&y){if(o[y]){var H=G(M.id,h,M.callbacks?M.callbacks:[]);a[M.id]={};try{if(M.callbacks&&W(M.callbacks)&&M.callbacks.length>0)for(var Y=0;Y<M.callbacks.length;Y++){for(var j=M.callbacks[Y],q=M.params,me=j.split("/"),ve=0;ve<me.length-1;ve++){var qe=me[ve];typeof q[qe]!="object"&&(q[qe]={}),q=q[qe]}q[me[me.length-1]]=function(){var Oe=j;return function(We){return H.invoke(Oe,We)}}()}var pe=o[y](H,M.params);!H.delayReturn()&&!H.completed()&&H.complete(pe)}catch(Oe){var Ee="runtime_error",Ae=null;if(typeof Oe=="string"?Ae=Oe:typeof Oe=="object"&&(Oe&&W(Oe)&&Oe.length==2?(Ee=Oe[0],Ae=Oe[1]):typeof Oe.error=="string"&&(Ee=Oe.error,Oe.message?typeof Oe.message=="string"?Ae=Oe.message:Oe=Oe.message:Ae="")),Ae===null)try{Ae=JSON.stringify(Oe),typeof Ae>"u"&&(Ae=Oe.toString())}catch{Ae=Oe.toString()}H.error(Ee,Ae)}}}else M.id&&M.callback?!R[M.id]||!R[M.id].callbacks||!R[M.id].callbacks[M.callback]?O("ignoring invalid callback, id:"+M.id+" ("+M.callback+")"):R[M.id].callbacks[M.callback](M.params):M.id?R[M.id]?(M.error?(0,R[M.id].error)(M.error,M.message):M.result!==void 0?(0,R[M.id].success)(M.result):(0,R[M.id].success)(),delete R[M.id],delete b[M.id]):O("ignoring invalid response: "+M.id):y&&o[y]&&o[y]({origin:h},M.params)};ie(g.window,g.origin,typeof g.scope=="string"?g.scope:"",_e);var Re=function(h){return typeof g.scope=="string"&&g.scope.length&&(h=[g.scope,h].join("::")),h},oe=function(h,y){if(!h)throw"postMessage called with null message";var M=J?"post  ":"queue ";if(O(M+" message: "+JSON.stringify(h)),!y&&!J)re.push(h);else{if(typeof g.postMessageObserver=="function")try{g.postMessageObserver(g.origin,h)}catch(H){O("postMessageObserver() raised an exception: "+H.toString())}g.window.postMessage(JSON.stringify(h),g.origin)}},P=function(h,y){if(O("ready msg received"),J)throw"received ready message while in ready state.  help!";for(y==="ping"?S+="-R":S+="-L",D.unbind("__ready"),J=!0,O("ready msg accepted."),y==="ping"&&D.notify({method:"__ready",params:"pong"});re.length;)oe(re.pop());typeof g.onReady=="function"&&g.onReady(D)},D={unbind:function(h){if(o[h]){if(!delete o[h])throw"can't delete method: "+h;return!0}return!1},bind:function(h,y){if(!h||typeof h!="string")throw"'method' argument to bind must be string";if(!y||typeof y!="function")throw"callback missing from bind params";if(o[h])throw"method '"+h+"' is already bound!";return o[h]=y,this},call:function(h){if(!h)throw"missing arguments to call function";if(!h.method||typeof h.method!="string")throw"'method' argument to call must be string";if(!h.success||typeof h.success!="function")throw"'success' callback missing from call";var y={},M=[],H=[],Y=function(q,me){if(H.indexOf(me)>=0)throw"params cannot be a recursive data structure";if(H.push(me),typeof me=="object"){for(var ve in me)if(me.hasOwnProperty(ve)){var qe=q+(q.length?"/":"")+ve;typeof me[ve]=="function"?(y[qe]=me[ve],M.push(qe),delete me[ve]):typeof me[ve]=="object"&&me[ve]!==null&&Y(qe,me[ve])}}};Y("",h.params);var j={id:E,method:Re(h.method),params:h.params};M.length&&(j.callbacks=M),h.timeout&&be(E,h.timeout,Re(h.method)),R[E]={callbacks:y,error:h.error,success:h.success},b[E]=_e,E++,oe(j)},notify:function(h){if(!h)throw"missing arguments to notify function";if(!h.method||typeof h.method!="string")throw"'method' argument to notify must be string";oe({method:Re(h.method),params:h.params})},destroy:function(){V(g.window,g.origin,typeof g.scope=="string"?g.scope:""),window.removeEventListener?window.removeEventListener("message",_e,!1):window.detachEvent&&window.detachEvent("onmessage",_e),J=!1,o={},a={},R={},g.origin=null,re=[],O("channel destroyed"),S=""}};return D.bind("__ready",P),setTimeout(function(){oe({method:Re("__ready"),params:"ping"},!0)},0),D}}}();n.exports=u},705:(n,u,E)=>{var U=E(639),ie=U.Symbol;n.exports=ie},239:(n,u,E)=>{var U=E(705),ie=E(607),V=E(333),W="[object Null]",b="[object Undefined]",T=U?U.toStringTag:void 0;function g(O){return O==null?O===void 0?b:W:T&&T in Object(O)?ie(O):V(O)}n.exports=g},957:(n,u,E)=>{var U=typeof E.g=="object"&&E.g&&E.g.Object===Object&&E.g;n.exports=U},924:(n,u,E)=>{var U=E(569),ie=U(Object.getPrototypeOf,Object);n.exports=ie},607:(n,u,E)=>{var U=E(705),ie=Object.prototype,V=ie.hasOwnProperty,W=ie.toString,b=U?U.toStringTag:void 0;function T(g){var O=V.call(g,b),A=g[b];try{g[b]=void 0;var $=!0}catch{}var S=W.call(g);return $&&(O?g[b]=A:delete g[b]),S}n.exports=T},333:n=>{var u=Object.prototype,E=u.toString;function U(ie){return E.call(ie)}n.exports=U},569:n=>{function u(E,U){return function(ie){return E(U(ie))}}n.exports=u},639:(n,u,E)=>{var U=E(957),ie=typeof self=="object"&&self&&self.Object===Object&&self,V=U||ie||Function("return this")();n.exports=V},469:n=>{var u=Array.isArray;n.exports=u},5:n=>{function u(E){return E!=null&&typeof E=="object"}n.exports=u},630:(n,u,E)=>{var U=E(239),ie=E(924),V=E(5),W="[object Object]",b=Function.prototype,T=Object.prototype,g=b.toString,O=T.hasOwnProperty,A=g.call(Object);function $(S){if(!V(S)||U(S)!=W)return!1;var o=ie(S);if(o===null)return!0;var R=O.call(o,"constructor")&&o.constructor;return typeof R=="function"&&R instanceof R&&g.call(R)==A}n.exports=$},37:(n,u,E)=>{var U=E(239),ie=E(469),V=E(5),W="[object String]";function b(T){return typeof T=="string"||!ie(T)&&V(T)&&U(T)==W}n.exports=b},353:n=>{function u(E){return E===void 0}n.exports=u}},t={};function i(n){var u=t[n];if(u!==void 0)return u.exports;var E=t[n]={exports:{}};return e[n].call(E.exports,E,E.exports,i),E.exports}i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var r=i(541);v.Addon=r})()})(qt);(()=>{var v={669:(i,r,n)=>{var u=n(218),E=O(u),U=function(){function R(a,J){for(var re=0;re<J.length;re++){var G=J[re];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(a,G.key,G)}}return function(a,J,re){return J&&R(a.prototype,J),re&&R(a,re),a}}(),ie=n(457),V=O(ie),W=n(729),b=O(W),T=n(702),g=n(303);function O(R){return R&&R.__esModule?R:{default:R}}function A(R,a){if(!(R instanceof a))throw new TypeError("Cannot call a class as a function")}function $(R,a){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:R}function S(R,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);R.prototype=Object.create(a&&a.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(R,a):R.__proto__=a)}var o=function(R){S(a,R);function a(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};A(this,a);var re=$(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));if(re.options=J,!J.iframe)throw new Error("Iframe not defined");return(0,g.iframeResizer)({checkOrigin:!0,heightCalculationMethod:window.ieVersion<=10?"max":"lowestElement",resizeFrom:"child",resizedCallback:function(be){re.emit("iframeResized",be)}},J.iframe),re.channel=V.default.build({window:J.iframe.contentWindow,origin:J.origin||"*",scope:J.id||J.iframe.contentWindow.location.origin,postMessageObserver:function(be,_e){re.emit("postMessage",be,_e)},gotMessageObserver:function(be,_e){re.emit("gotMessage",be,_e)}}),["saveData","request","addTransaction","editTransaction","addInstitution","addInvestment","editInstitution","editAsset","editLiability","deleteInstitution","deleteAsset","deleteLiability","downloadDocument","upgradePremium","getSharings","switchUser"].forEach(function(G){re.channel.bind(G,function(be,_e){var Re=G,oe=_e;be.delayReturn(!0);var P=function(h,y){return h?be.error(h):be.complete(y)};re.emit(Re,oe||P,oe?P:void 0)})}),re.channel.call({method:"init",params:J.options,success:function(be){re.emit("init",be)}}),re}return U(a,[{key:"trigger",value:function(re,G){var be=this,_e={eventName:re};return G&&(_e.eventData=G),new T.Promise(function(Re,oe){be.channel.call({method:"_event",params:_e,success:Re,error:oe})})}},{key:"update",value:function(re){var G=this;return new T.Promise(function(be,_e){if(!(0,E.default)(re))throw new Error("Data must be an object");G.channel.call({method:"update",params:re,success:be,error:_e})})}},{key:"reload",value:function(){var re=this;return new T.Promise(function(G,be){re.channel.call({method:"reload",success:G,error:be})})}},{key:"destroy",value:function(){this.channel.destroy()}}]),a}(b.default);i.exports=o},702:function(i,r,n){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(u,E){i.exports=E()})(this,function(){function u(m){var B=typeof m;return m!==null&&(B==="object"||B==="function")}function E(m){return typeof m=="function"}var U=void 0;Array.isArray?U=Array.isArray:U=function(m){return Object.prototype.toString.call(m)==="[object Array]"};var ie=U,V=0,W=void 0,b=void 0,T=function(B,l){_e[V]=B,_e[V+1]=l,V+=2,V===2&&(b?b(Re):P())};function g(m){b=m}function O(m){T=m}var A=typeof window<"u"?window:void 0,$=A||{},S=$.MutationObserver||$.WebKitMutationObserver,o=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",R=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function a(){return function(){return process.nextTick(Re)}}function J(){return typeof W<"u"?function(){W(Re)}:be()}function re(){var m=0,B=new S(Re),l=document.createTextNode("");return B.observe(l,{characterData:!0}),function(){l.data=m=++m%2}}function G(){var m=new MessageChannel;return m.port1.onmessage=Re,function(){return m.port2.postMessage(0)}}function be(){var m=setTimeout;return function(){return m(Re,1)}}var _e=new Array(1e3);function Re(){for(var m=0;m<V;m+=2){var B=_e[m],l=_e[m+1];B(l),_e[m]=void 0,_e[m+1]=void 0}V=0}function oe(){try{var m=Function("return this")().require("vertx");return W=m.runOnLoop||m.runOnContext,J()}catch{return be()}}var P=void 0;o?P=a():S?P=re():R?P=G():A===void 0?P=oe():P=be();function D(m,B){var l=this,w=new this.constructor(M);w[y]===void 0&&X(w);var f=l._state;if(f){var C=arguments[f-1];T(function(){return et(f,w,C,l._result)})}else Ve(l,w,m,B);return w}function h(m){var B=this;if(m&&typeof m=="object"&&m.constructor===B)return m;var l=new B(M);return Ae(l,m),l}var y=Math.random().toString(36).substring(2);function M(){}var H=void 0,Y=1,j=2;function q(){return new TypeError("You cannot resolve a promise with itself")}function me(){return new TypeError("A promises callback cannot return that same promise.")}function ve(m,B,l,w){try{m.call(B,l,w)}catch(f){return f}}function qe(m,B,l){T(function(w){var f=!1,C=ve(l,B,function(x){f||(f=!0,B!==x?Ae(w,x):We(w,x))},function(x){f||(f=!0,Le(w,x))},"Settle: "+(w._label||" unknown promise"));!f&&C&&(f=!0,Le(w,C))},m)}function pe(m,B){B._state===Y?We(m,B._result):B._state===j?Le(m,B._result):Ve(B,void 0,function(l){return Ae(m,l)},function(l){return Le(m,l)})}function Ee(m,B,l){B.constructor===m.constructor&&l===D&&B.constructor.resolve===h?pe(m,B):l===void 0?We(m,B):E(l)?qe(m,B,l):We(m,B)}function Ae(m,B){if(m===B)Le(m,q());else if(u(B)){var l=void 0;try{l=B.then}catch(w){Le(m,w);return}Ee(m,B,l)}else We(m,B)}function Oe(m){m._onerror&&m._onerror(m._result),ze(m)}function We(m,B){m._state===H&&(m._result=B,m._state=Y,m._subscribers.length!==0&&T(ze,m))}function Le(m,B){m._state===H&&(m._state=j,m._result=B,T(Oe,m))}function Ve(m,B,l,w){var f=m._subscribers,C=f.length;m._onerror=null,f[C]=B,f[C+Y]=l,f[C+j]=w,C===0&&m._state&&T(ze,m)}function ze(m){var B=m._subscribers,l=m._state;if(B.length!==0){for(var w=void 0,f=void 0,C=m._result,x=0;x<B.length;x+=3)w=B[x],f=B[x+l],w?et(l,w,f,C):f(C);m._subscribers.length=0}}function et(m,B,l,w){var f=E(l),C=void 0,x=void 0,z=!0;if(f){try{C=l(w)}catch(Ce){z=!1,x=Ce}if(B===C){Le(B,me());return}}else C=w;B._state!==H||(f&&z?Ae(B,C):z===!1?Le(B,x):m===Y?We(B,C):m===j&&Le(B,C))}function Ze(m,B){try{B(function(w){Ae(m,w)},function(w){Le(m,w)})}catch(l){Le(m,l)}}var rt=0;function _(){return rt++}function X(m){m[y]=rt++,m._state=void 0,m._result=void 0,m._subscribers=[]}function d(){return new Error("Array Methods must be provided an Array")}var F=function(){function m(B,l){this._instanceConstructor=B,this.promise=new B(M),this.promise[y]||X(this.promise),ie(l)?(this.length=l.length,this._remaining=l.length,this._result=new Array(this.length),this.length===0?We(this.promise,this._result):(this.length=this.length||0,this._enumerate(l),this._remaining===0&&We(this.promise,this._result))):Le(this.promise,d())}return m.prototype._enumerate=function(l){for(var w=0;this._state===H&&w<l.length;w++)this._eachEntry(l[w],w)},m.prototype._eachEntry=function(l,w){var f=this._instanceConstructor,C=f.resolve;if(C===h){var x=void 0,z=void 0,Ce=!1;try{x=l.then}catch(tt){Ce=!0,z=tt}if(x===D&&l._state!==H)this._settledAt(l._state,w,l._result);else if(typeof x!="function")this._remaining--,this._result[w]=l;else if(f===fe){var je=new f(M);Ce?Le(je,z):Ee(je,l,x),this._willSettleAt(je,w)}else this._willSettleAt(new f(function(tt){return tt(l)}),w)}else this._willSettleAt(C(l),w)},m.prototype._settledAt=function(l,w,f){var C=this.promise;C._state===H&&(this._remaining--,l===j?Le(C,f):this._result[w]=f),this._remaining===0&&We(C,this._result)},m.prototype._willSettleAt=function(l,w){var f=this;Ve(l,void 0,function(C){return f._settledAt(Y,w,C)},function(C){return f._settledAt(j,w,C)})},m}();function Z(m){return new F(this,m).promise}function K(m){var B=this;return ie(m)?new B(function(l,w){for(var f=m.length,C=0;C<f;C++)B.resolve(m[C]).then(l,w)}):new B(function(l,w){return w(new TypeError("You must pass an array to race."))})}function le(m){var B=this,l=new B(M);return Le(l,m),l}function we(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function $e(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var fe=function(){function m(B){this[y]=_(),this._result=this._state=void 0,this._subscribers=[],M!==B&&(typeof B!="function"&&we(),this instanceof m?Ze(this,B):$e())}return m.prototype.catch=function(l){return this.then(null,l)},m.prototype.finally=function(l){var w=this,f=w.constructor;return E(l)?w.then(function(C){return f.resolve(l()).then(function(){return C})},function(C){return f.resolve(l()).then(function(){throw C})}):w.then(l,l)},m}();fe.prototype.then=D,fe.all=Z,fe.race=K,fe.resolve=h,fe.reject=le,fe._setScheduler=g,fe._setAsap=O,fe._asap=T;function Ue(){var m=void 0;if(typeof n.g<"u")m=n.g;else if(typeof self<"u")m=self;else try{m=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var B=m.Promise;if(B){var l=null;try{l=Object.prototype.toString.call(B.resolve())}catch{}if(l==="[object Promise]"&&!B.cast)return}m.Promise=fe}return fe.polyfill=Ue,fe.Promise=fe,fe})},729:i=>{var r=Object.prototype.hasOwnProperty,n="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(n=!1));function E(W,b,T){this.fn=W,this.context=b,this.once=T||!1}function U(W,b,T,g,O){if(typeof T!="function")throw new TypeError("The listener must be a function");var A=new E(T,g||W,O),$=n?n+b:b;return W._events[$]?W._events[$].fn?W._events[$]=[W._events[$],A]:W._events[$].push(A):(W._events[$]=A,W._eventsCount++),W}function ie(W,b){--W._eventsCount===0?W._events=new u:delete W._events[b]}function V(){this._events=new u,this._eventsCount=0}V.prototype.eventNames=function(){var b=[],T,g;if(this._eventsCount===0)return b;for(g in T=this._events)r.call(T,g)&&b.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(T)):b},V.prototype.listeners=function(b){var T=n?n+b:b,g=this._events[T];if(!g)return[];if(g.fn)return[g.fn];for(var O=0,A=g.length,$=new Array(A);O<A;O++)$[O]=g[O].fn;return $},V.prototype.listenerCount=function(b){var T=n?n+b:b,g=this._events[T];return g?g.fn?1:g.length:0},V.prototype.emit=function(b,T,g,O,A,$){var S=n?n+b:b;if(!this._events[S])return!1;var o=this._events[S],R=arguments.length,a,J;if(o.fn){switch(o.once&&this.removeListener(b,o.fn,void 0,!0),R){case 1:return o.fn.call(o.context),!0;case 2:return o.fn.call(o.context,T),!0;case 3:return o.fn.call(o.context,T,g),!0;case 4:return o.fn.call(o.context,T,g,O),!0;case 5:return o.fn.call(o.context,T,g,O,A),!0;case 6:return o.fn.call(o.context,T,g,O,A,$),!0}for(J=1,a=new Array(R-1);J<R;J++)a[J-1]=arguments[J];o.fn.apply(o.context,a)}else{var re=o.length,G;for(J=0;J<re;J++)switch(o[J].once&&this.removeListener(b,o[J].fn,void 0,!0),R){case 1:o[J].fn.call(o[J].context);break;case 2:o[J].fn.call(o[J].context,T);break;case 3:o[J].fn.call(o[J].context,T,g);break;case 4:o[J].fn.call(o[J].context,T,g,O);break;default:if(!a)for(G=1,a=new Array(R-1);G<R;G++)a[G-1]=arguments[G];o[J].fn.apply(o[J].context,a)}}return!0},V.prototype.on=function(b,T,g){return U(this,b,T,g,!1)},V.prototype.once=function(b,T,g){return U(this,b,T,g,!0)},V.prototype.removeListener=function(b,T,g,O){var A=n?n+b:b;if(!this._events[A])return this;if(!T)return ie(this,A),this;var $=this._events[A];if($.fn)$.fn===T&&(!O||$.once)&&(!g||$.context===g)&&ie(this,A);else{for(var S=0,o=[],R=$.length;S<R;S++)($[S].fn!==T||O&&!$[S].once||g&&$[S].context!==g)&&o.push($[S]);o.length?this._events[A]=o.length===1?o[0]:o:ie(this,A)}return this},V.prototype.removeAllListeners=function(b){var T;return b?(T=n?n+b:b,this._events[T]&&ie(this,T)):(this._events=new u,this._eventsCount=0),this},V.prototype.off=V.prototype.removeListener,V.prototype.addListener=V.prototype.on,V.prefixed=n,V.EventEmitter=V,i.exports=V},303:(i,r,n)=>{i.exports=n(683)},402:i=>{(function(r){if(typeof window>"u")return;var n=!0,u=10,E="",U=0,ie="",V=null,W="",b=!1,T={resize:1,click:1},g=128,O=!0,A=1,$="bodyOffset",S=$,o=!0,R="",a={},J=32,re=null,G=!1,be="[iFrameSizer]",_e=be.length,Re="",oe={max:1,min:1,bodyScroll:1,documentElementScroll:1},P="child",D=!0,h=window.parent,y="*",M=0,H=!1,Y=null,j=16,q=1,me="scroll",ve=me,qe=window,pe=function(){X("MessageCallback function not defined")},Ee=function(){},Ae=function(){},Oe={height:function(){return X("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return X("Custom width calculation function not defined"),document.body.scrollWidth}},We={};function Le(k,I,s){"addEventListener"in window?k.addEventListener(I,s,!1):"attachEvent"in window&&k.attachEvent("on"+I,s)}function Ve(k,I,s){"removeEventListener"in window?k.removeEventListener(I,s,!1):"detachEvent"in window&&k.detachEvent("on"+I,s)}function ze(k){return k.charAt(0).toUpperCase()+k.slice(1)}function et(k){var I,s,p,N=null,ae=0,he=function(){ae=Ze(),N=null,p=k.apply(I,s),N||(I=s=null)};return function(){var Me=Ze();ae||(ae=Me);var xe=j-(Me-ae);return I=this,s=arguments,xe<=0||xe>j?(N&&(clearTimeout(N),N=null),ae=Me,p=k.apply(I,s),N||(I=s=null)):N||(N=setTimeout(he,xe)),p}}var Ze=Date.now||function(){return new Date().getTime()};function rt(k){return be+"["+Re+"] "+k}function _(k){G&&typeof window.console=="object"&&console.log(rt(k))}function X(k){typeof window.console=="object"&&console.warn(rt(k))}function d(){F(),_("Initialising iFrame ("+location.href+")"),Z(),we(),le("background",E),le("padding",W),je(),B(),l(),$e(),gt(),w(),a=tt(),pt("init","Init message from host page"),Ee()}function F(){function k(s){return s==="true"}var I=R.substr(_e).split(":");Re=I[0],U=r!==I[1]?Number(I[1]):U,b=r!==I[2]?k(I[2]):b,G=r!==I[3]?k(I[3]):G,J=r!==I[4]?Number(I[4]):J,n=r!==I[6]?k(I[6]):n,ie=I[7],S=r!==I[8]?I[8]:S,E=I[9],W=I[10],M=r!==I[11]?Number(I[11]):M,a.enable=r!==I[12]?k(I[12]):!1,P=r!==I[13]?I[13]:P,ve=r!==I[14]?I[14]:ve}function Z(){function k(){var s=window.iFrameResizer;_("Reading data from page: "+JSON.stringify(s)),pe="messageCallback"in s?s.messageCallback:pe,Ee="readyCallback"in s?s.readyCallback:Ee,y="targetOrigin"in s?s.targetOrigin:y,S="heightCalculationMethod"in s?s.heightCalculationMethod:S,ve="widthCalculationMethod"in s?s.widthCalculationMethod:ve}function I(s,p){return typeof s=="function"&&(_("Setup custom "+p+"CalcMethod"),Oe[p]=s,s="custom"),s}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(k(),S=I(S,"height"),ve=I(ve,"width")),_("TargetOrigin for parent set to: "+y)}function K(k,I){return I.indexOf("-")!==-1&&(X("Negative CSS value ignored for "+k),I=""),I}function le(k,I){r!==I&&I!==""&&I!=="null"&&(document.body.style[k]=I,_("Body "+k+' set to "'+I+'"'))}function we(){r===ie&&(ie=U+"px"),le("margin",K("margin",ie))}function $e(){document.documentElement.style.height="",document.body.style.height="",_('HTML & body height set to "auto"')}function fe(k){var I={add:function(s){function p(){pt(k.eventName,k.eventType)}We[s]=p,Le(window,s,p)},remove:function(s){var p=We[s];delete We[s],Ve(window,s,p)}};k.eventNames&&Array.prototype.map?(k.eventName=k.eventNames[0],k.eventNames.map(I[k.method])):I[k.method](k.eventName),_(ze(k.method)+" event listener: "+k.eventType)}function Ue(k){fe({method:k,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),fe({method:k,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),fe({method:k,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),fe({method:k,eventType:"Input",eventName:"input"}),fe({method:k,eventType:"Mouse Up",eventName:"mouseup"}),fe({method:k,eventType:"Mouse Down",eventName:"mousedown"}),fe({method:k,eventType:"Orientation Change",eventName:"orientationchange"}),fe({method:k,eventType:"Print",eventName:["afterprint","beforeprint"]}),fe({method:k,eventType:"Ready State Change",eventName:"readystatechange"}),fe({method:k,eventType:"Touch Start",eventName:"touchstart"}),fe({method:k,eventType:"Touch End",eventName:"touchend"}),fe({method:k,eventType:"Touch Cancel",eventName:"touchcancel"}),fe({method:k,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),fe({method:k,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),fe({method:k,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),P==="child"&&fe({method:k,eventType:"IFrame Resized",eventName:"resize"})}function m(k,I,s,p){return I!==k&&(k in s||(X(k+" is not a valid option for "+p+"CalculationMethod."),k=I),_(p+' calculation method set to "'+k+'"')),k}function B(){S=m(S,$,Ie,"height")}function l(){ve=m(ve,me,Be,"width")}function w(){n===!0?(Ue("add"),ue()):_("Auto Resize disabled")}function f(){_("Disable outgoing messages"),D=!1}function C(){_("Remove event listener: Message"),Ve(window,"message",At)}function x(){V!==null&&V.disconnect()}function z(){Ue("remove"),x(),clearInterval(re)}function Ce(){f(),C(),n===!0&&z()}function je(){var k=document.createElement("div");k.style.clear="both",k.style.display="block",document.body.appendChild(k)}function tt(){function k(){return{x:window.pageXOffset!==r?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==r?window.pageYOffset:document.documentElement.scrollTop}}function I(xe){var Fe=xe.getBoundingClientRect(),ye=k();return{x:parseInt(Fe.left,10)+parseInt(ye.x,10),y:parseInt(Fe.top,10)+parseInt(ye.y,10)}}function s(xe){function Fe(Te){var Xe=I(Te);_("Moving to in page link (#"+ye+") at x: "+Xe.x+" y: "+Xe.y),ot(Xe.y,Xe.x,"scrollToOffset")}var ye=xe.split("#")[1]||xe,ge=decodeURIComponent(ye),Pe=document.getElementById(ge)||document.getElementsByName(ge)[0];r!==Pe?Fe(Pe):(_("In page link (#"+ye+") not found in iFrame, so sending to parent"),ot(0,0,"inPageLink","#"+ye))}function p(){location.hash!==""&&location.hash!=="#"&&s(location.href)}function N(){function xe(Fe){function ye(ge){ge.preventDefault(),s(this.getAttribute("href"))}Fe.getAttribute("href")!=="#"&&Le(Fe,"click",ye)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),xe)}function ae(){Le(window,"hashchange",p)}function he(){setTimeout(p,g)}function Me(){Array.prototype.forEach&&document.querySelectorAll?(_("Setting up location.hash handlers"),N(),ae(),he()):X("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return a.enable?Me():_("In page linking not enabled"),{findTarget:s}}function gt(){_("Enable public methods"),qe.parentIFrame={autoResize:function(I){return I===!0&&n===!1?(n=!0,w()):I===!1&&n===!0&&(n=!1,z()),n},close:function(){ot(0,0,"close"),Ce()},getId:function(){return Re},getPageInfo:function(I){typeof I=="function"?(Ae=I,ot(0,0,"pageInfo")):(Ae=function(){},ot(0,0,"pageInfoStop"))},moveToAnchor:function(I){a.findTarget(I)},reset:function(){Et("parentIFrame.reset")},scrollTo:function(I,s){ot(s,I,"scrollTo")},scrollToOffset:function(I,s){ot(s,I,"scrollToOffset")},sendMessage:function(I,s){ot(0,0,"message",JSON.stringify(I),s)},setHeightCalculationMethod:function(I){S=I,B()},setWidthCalculationMethod:function(I){ve=I,l()},setTargetOrigin:function(I){_("Set targetOrigin: "+I),y=I},size:function(I,s){var p=""+(I||"")+(s?","+s:"");pt("size","parentIFrame.size("+p+")",I,s)}}}function Ke(){J!==0&&(_("setInterval: "+J+"ms"),re=setInterval(function(){pt("interval","setInterval: "+J)},Math.abs(J)))}function He(){function k(ge){function Pe(Te){Te.complete===!1&&(_("Attach listeners to "+Te.src),Te.addEventListener("load",N,!1),Te.addEventListener("error",ae,!1),xe.push(Te))}ge.type==="attributes"&&ge.attributeName==="src"?Pe(ge.target):ge.type==="childList"&&Array.prototype.forEach.call(ge.target.querySelectorAll("img"),Pe)}function I(ge){xe.splice(xe.indexOf(ge),1)}function s(ge){_("Remove listeners from "+ge.src),ge.removeEventListener("load",N,!1),ge.removeEventListener("error",ae,!1),I(ge)}function p(ge,Pe,Te){s(ge.target),pt(Pe,Te+": "+ge.target.src,r,r)}function N(ge){p(ge,"imageLoad","Image loaded")}function ae(ge){p(ge,"imageLoadFailed","Image load failed")}function he(ge){pt("mutationObserver","mutationObserver: "+ge[0].target+" "+ge[0].type),ge.forEach(k)}function Me(){var ge=document.querySelector("body"),Pe={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return ye=new Fe(he),_("Create body MutationObserver"),ye.observe(ge,Pe),ye}var xe=[],Fe=window.MutationObserver||window.WebKitMutationObserver,ye=Me();return{disconnect:function(){"disconnect"in ye&&(_("Disconnect body MutationObserver"),ye.disconnect(),xe.forEach(s))}}}function ue(){var k=0>J;window.MutationObserver||window.WebKitMutationObserver?k?Ke():V=He():(_("MutationObserver not supported in this browser!"),Ke())}function ee(k,I){function s(N){var ae=/^\d+(px)?$/i;if(ae.test(N))return parseInt(N,u);var he=I.style.left,Me=I.runtimeStyle.left;return I.runtimeStyle.left=I.currentStyle.left,I.style.left=N||0,N=I.style.pixelLeft,I.style.left=he,I.runtimeStyle.left=Me,N}var p=0;return I=I||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(p=document.defaultView.getComputedStyle(I,null),p=p!==null?p[k]:0):p=s(I.currentStyle[k]),parseInt(p,u)}function Q(k){k>j/2&&(j=2*k,_("Event throttle increased to "+j+"ms"))}function te(k,I){for(var s=I.length,p=0,N=0,ae=ze(k),he=Ze(),Me=0;Me<s;Me++)p=I[Me].getBoundingClientRect()[k]+ee("margin"+ae,I[Me]),p>N&&(N=p);return he=Ze()-he,_("Parsed "+s+" HTML elements"),_("Element position calculated in "+he+"ms"),Q(he),N}function ce(k){return[k.bodyOffset(),k.bodyScroll(),k.documentElementOffset(),k.documentElementScroll()]}function Se(k,I){function s(){return X("No tagged elements ("+I+") found on page"),document.querySelectorAll("body *")}var p=document.querySelectorAll("["+I+"]");return p.length===0&&s(),te(k,p)}function ke(){return document.querySelectorAll("body *")}var Ie={bodyOffset:function(){return document.body.offsetHeight+ee("marginTop")+ee("marginBottom")},offset:function(){return Ie.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return Oe.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,ce(Ie))},min:function(){return Math.min.apply(null,ce(Ie))},grow:function(){return Ie.max()},lowestElement:function(){return Math.max(Ie.bodyOffset(),te("bottom",ke()))},taggedElement:function(){return Se("bottom","data-iframe-height")}},Be={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return Oe.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Be.bodyScroll(),Be.documentElementScroll())},max:function(){return Math.max.apply(null,ce(Be))},min:function(){return Math.min.apply(null,ce(Be))},rightMostElement:function(){return te("right",ke())},taggedElement:function(){return Se("right","data-iframe-width")}};function Qe(k,I,s,p){function N(){A=ye,q=ge,ot(A,q,k)}function ae(){function Pe(Te,Xe){var at=Math.abs(Te-Xe)<=M;return!at}return ye=r!==s?s:Ie[S](),ge=r!==p?p:Be[ve](),Pe(A,ye)||b&&Pe(q,ge)}function he(){return!(k in{init:1,interval:1,size:1})}function Me(){return S in oe||b&&ve in oe}function xe(){_("No change in size detected")}function Fe(){he()&&Me()?Et(I):k in{interval:1}||xe()}var ye,ge;ae()||k==="init"?(St(),N()):Fe()}var ut=et(Qe);function pt(k,I,s,p){function N(){k in{reset:1,resetPage:1,init:1}||_("Trigger event: "+I)}function ae(){return H&&k in T}ae()?_("Trigger event cancelled: "+k):(N(),ut(k,I,s,p))}function St(){H||(H=!0,_("Trigger event lock on")),clearTimeout(Y),Y=setTimeout(function(){H=!1,_("Trigger event lock off"),_("--")},g)}function mt(k){A=Ie[S](),q=Be[ve](),ot(A,q,k)}function Et(k){var I=S;S=$,_("Reset trigger event: "+k),St(),mt("reset"),S=I}function ot(k,I,s,p,N){function ae(){r===N?N=y:_("Message targetOrigin: "+N)}function he(){var Me=k+":"+I,xe=Re+":"+Me+":"+s+(r!==p?":"+p:"");_("Sending message to host page ("+xe+")"),h.postMessage(be+xe,N)}D===!0&&(ae(),he())}function At(k){var I={init:function(){function ye(){R=k.data,h=k.source,d(),O=!1,setTimeout(function(){o=!1},g)}document.readyState==="interactive"||document.readyState==="complete"?ye():(_("Waiting for page ready"),Le(window,"readystatechange",I.initFromParent))},reset:function(){o?_("Page reset ignored by init"):(_("Page size reset by host page"),mt("resetPage"))},resize:function(){pt("resizeParent","Parent window requested size check")},moveToAnchor:function(){a.findTarget(N())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var ye=N();_("PageInfoFromParent called from parent: "+ye),Ae(JSON.parse(ye)),_(" --")},message:function(){var ye=N();_("MessageCallback called from parent: "+ye),pe(JSON.parse(ye)),_(" --")}};function s(){return be===(""+k.data).substr(0,_e)}function p(){return k.data.split("]")[1].split(":")[0]}function N(){return k.data.substr(k.data.indexOf(":")+1)}function ae(){return!i.exports&&"iFrameResize"in window}function he(){return k.data.split(":")[2]in{true:1,false:1}}function Me(){var Fe=p();Fe in I?I[Fe]():!ae()&&!he()&&X("Unexpected message ("+k.data+")")}function xe(){O===!1?Me():he()?I.init():_('Ignored message of type "'+p()+'". Received before initialization.')}s()&&xe()}function ct(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}Le(window,"message",At),ct()})()},28:(i,r)=>{var n,u,E;(function(U){if(typeof window>"u")return;var ie=0,V=!1,W=!1,b="message",T=b.length,g="[iFrameSizer]",O=g.length,A=null,$=window.requestAnimationFrame,S={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},o={},R=null,a={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){D("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};function J(_,X,d){"addEventListener"in window?_.addEventListener(X,d,!1):"attachEvent"in window&&_.attachEvent("on"+X,d)}function re(_,X,d){"removeEventListener"in window?_.removeEventListener(X,d,!1):"detachEvent"in window&&_.detachEvent("on"+X,d)}function G(){var _=["moz","webkit","o","ms"],X;for(X=0;X<_.length&&!$;X+=1)$=window[_[X]+"RequestAnimationFrame"];$||oe("setup","RequestAnimationFrame not supported")}function be(_){var X="Host page: "+_;return window.top!==window.self&&(window.parentIFrame&&window.parentIFrame.getId?X=window.parentIFrame.getId()+": "+_:X="Nested host page: "+_),X}function _e(_){return g+"["+be(_)+"]"}function Re(_){return o[_]?o[_].log:V}function oe(_,X){h("log",_,X,Re(_))}function P(_,X){h("info",_,X,Re(_))}function D(_,X){h("warn",_,X,!0)}function h(_,X,d,F){F===!0&&typeof window.console=="object"&&console[_](_e(X),d)}function y(_){function X(){function ee(){ve(He),j(ue),z("resizedCallback",He)}F("Height"),F("Width"),qe(ee,He,"init")}function d(){var ee=Ke.substr(O).split(":");return{iframe:o[ee[0]]&&o[ee[0]].iframe,id:ee[0],height:ee[1],width:ee[2],type:ee[3]}}function F(ee){var Q=Number(o[ue]["max"+ee]),te=Number(o[ue]["min"+ee]),ce=ee.toLowerCase(),Se=Number(He[ce]);oe(ue,"Checking "+ce+" is in range "+te+"-"+Q),Se<te&&(Se=te,oe(ue,"Set "+ce+" to min value")),Se>Q&&(Se=Q,oe(ue,"Set "+ce+" to max value")),He[ce]=""+Se}function Z(){function ee(){function ce(){var ke=0,Ie=!1;for(oe(ue,"Checking connection is from allowed list of origins: "+te);ke<te.length;ke++)if(te[ke]===Q){Ie=!0;break}return Ie}function Se(){var ke=o[ue]&&o[ue].remoteHost;return oe(ue,"Checking connection is from: "+ke),Q===ke}return te.constructor===Array?ce():Se()}var Q=_.origin,te=o[ue]&&o[ue].checkOrigin;if(te&&""+Q!="null"&&!ee())throw new Error("Unexpected message received from: "+Q+" for "+He.iframe.id+". Message was: "+_.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function K(){return g===(""+Ke).substr(0,O)&&Ke.substr(O).split(":")[0]in o}function le(){var ee=He.type in{true:1,false:1,undefined:1};return ee&&oe(ue,"Ignoring init message from meta parent page"),ee}function we(ee){return Ke.substr(Ke.indexOf(":")+T+ee)}function $e(ee){oe(ue,"MessageCallback passed: {iframe: "+He.iframe.id+", message: "+ee+"}"),z("messageCallback",{iframe:He.iframe,message:JSON.parse(ee)}),oe(ue,"--")}function fe(){var ee=document.body.getBoundingClientRect(),Q=He.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:Q.height,iframeWidth:Q.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(Q.top-ee.top,10),offsetLeft:parseInt(Q.left-ee.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function Ue(ee,Q){function te(){pe("Send Page Info","pageInfo:"+fe(),ee,Q)}Oe(te,32)}function m(){function ee(Se,ke){function Ie(){o[ce]?Ue(o[ce].iframe,ce):Q()}["scroll","resize"].forEach(function(Be){oe(ce,Se+Be+" listener for sendPageInfo"),ke(window,Be,Ie)})}function Q(){ee("Remove ",re)}function te(){ee("Add ",J)}var ce=ue;te(),o[ce]&&(o[ce].stopPageInfo=Q)}function B(){o[ue]&&o[ue].stopPageInfo&&(o[ue].stopPageInfo(),delete o[ue].stopPageInfo)}function l(){var ee=!0;return He.iframe===null&&(D(ue,"IFrame ("+He.id+") not found"),ee=!1),ee}function w(ee){var Q=ee.getBoundingClientRect();return Y(ue),{x:Math.floor(Number(Q.left)+Number(A.x)),y:Math.floor(Number(Q.top)+Number(A.y))}}function f(ee){function Q(){A=ke,C(),oe(ue,"--")}function te(){return{x:Number(He.width)+Se.x,y:Number(He.height)+Se.y}}function ce(){window.parentIFrame?window.parentIFrame["scrollTo"+(ee?"Offset":"")](ke.x,ke.y):D(ue,"Unable to scroll to requested position, window.parentIFrame not found")}var Se=ee?w(He.iframe):{x:0,y:0},ke=te();oe(ue,"Reposition requested from iFrame (offset x:"+Se.x+" y:"+Se.y+")"),window.top!==window.self?ce():Q()}function C(){z("scrollCallback",A)!==!1?j(ue):q()}function x(ee){function Q(){var Ie=w(ke);oe(ue,"Moving to in page link (#"+ce+") at x: "+Ie.x+" y: "+Ie.y),A={x:Ie.x,y:Ie.y},C(),oe(ue,"--")}function te(){window.parentIFrame?window.parentIFrame.moveToAnchor(ce):oe(ue,"In page link #"+ce+" not found and window.parentIFrame not found")}var ce=ee.split("#")[1]||"",Se=decodeURIComponent(ce),ke=document.getElementById(Se)||document.getElementsByName(Se)[0];ke?Q():window.top!==window.self?te():oe(ue,"In page link #"+ce+" not found")}function z(ee,Q){return M(ue,ee,Q)}function Ce(){switch(o[ue]&&o[ue].firstRun&&gt(),He.type){case"close":o[ue].closeRequestCallback?M(ue,"closeRequestCallback",o[ue].iframe):H(He.iframe);break;case"message":$e(we(6));break;case"scrollTo":f(!1);break;case"scrollToOffset":f(!0);break;case"pageInfo":Ue(o[ue]&&o[ue].iframe,ue),m();break;case"pageInfoStop":B();break;case"inPageLink":x(we(9));break;case"reset":me(He);break;case"init":X(),z("initCallback",He.iframe);break;default:X()}}function je(ee){var Q=!0;return o[ee]||(Q=!1,D(He.type+" No settings for "+ee+". Message was: "+Ke)),Q}function tt(){for(var ee in o)pe("iFrame requested init",Ee(ee),document.getElementById(ee),ee)}function gt(){o[ue]&&(o[ue].firstRun=!1)}var Ke=_.data,He={},ue=null;Ke==="[iFrameResizerChild]Ready"?tt():K()?(He=d(),ue=He.id,o[ue]&&(o[ue].loaded=!0),!le()&&je(ue)&&(oe(ue,"Received: "+Ke),l()&&Z()&&Ce())):P(ue,"Ignored: "+Ke)}function M(_,X,d){var F=null,Z=null;if(o[_])if(F=o[_][X],typeof F=="function")Z=F(d);else throw new TypeError(X+" on iFrame["+_+"] is not a function");return Z}function H(_){var X=_.id;oe(X,"Removing iFrame: "+X),_.parentNode&&_.parentNode.removeChild(_),M(X,"closedCallback",X),oe(X,"--"),delete o[X]}function Y(_){A===null&&(A={x:window.pageXOffset!==U?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==U?window.pageYOffset:document.documentElement.scrollTop},oe(_,"Get page position: "+A.x+","+A.y))}function j(_){A!==null&&(window.scrollTo(A.x,A.y),oe(_,"Set page position: "+A.x+","+A.y),q())}function q(){A=null}function me(_){function X(){ve(_),pe("reset","reset",_.iframe,_.id)}oe(_.id,"Size reset requested by "+(_.type==="init"?"host page":"iFrame")),Y(_.id),qe(X,_,"reset")}function ve(_){function X(K){_.iframe.style[K]=_[K]+"px",oe(_.id,"IFrame ("+Z+") "+K+" set to "+_[K]+"px")}function d(K){!W&&_[K]==="0"&&(W=!0,oe(Z,"Hidden iFrame detected, creating visibility listener"),We())}function F(K){X(K),d(K)}var Z=_.iframe.id;o[Z]&&(o[Z].sizeHeight&&F("height"),o[Z].sizeWidth&&F("width"))}function qe(_,X,d){d!==X.type&&$?(oe(X.id,"Requesting animation frame"),$(_)):_()}function pe(_,X,d,F,Z){function K(){var Ue=o[F]&&o[F].targetOrigin;oe(F,"["+_+"] Sending msg to iframe["+F+"] ("+X+") targetOrigin: "+Ue),d.contentWindow.postMessage(g+X,Ue)}function le(){D(F,"["+_+"] IFrame("+F+") not found")}function we(){d&&"contentWindow"in d&&d.contentWindow!==null?K():le()}function $e(){function Ue(){o[F]&&!o[F].loaded&&!fe&&(fe=!0,D(F,"IFrame has not responded within "+o[F].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}Z&&o[F]&&o[F].warningTimeout&&(o[F].msgTimeout=setTimeout(Ue,o[F].warningTimeout))}var fe=!1;F=F||d.id,o[F]&&(we(),$e())}function Ee(_){return _+":"+o[_].bodyMarginV1+":"+o[_].sizeWidth+":"+o[_].log+":"+o[_].interval+":"+o[_].enablePublicMethods+":"+o[_].autoResize+":"+o[_].bodyMargin+":"+o[_].heightCalculationMethod+":"+o[_].bodyBackground+":"+o[_].bodyPadding+":"+o[_].tolerance+":"+o[_].inPageLinks+":"+o[_].resizeFrom+":"+o[_].widthCalculationMethod}function Ae(_,X){function d(){function C(z){o[f][z]!==1/0&&o[f][z]!==0&&(_.style[z]=o[f][z]+"px",oe(f,"Set "+z+" = "+o[f][z]+"px"))}function x(z){if(o[f]["min"+z]>o[f]["max"+z])throw new Error("Value for min"+z+" can not be greater than max"+z)}x("Height"),x("Width"),C("maxHeight"),C("minHeight"),C("maxWidth"),C("minWidth")}function F(){var C=X&&X.id||a.id+ie++;return document.getElementById(C)!==null&&(C=C+ie++),C}function Z(C){return C===""&&(_.id=C=F(),V=(X||{}).log,oe(C,"Added missing iframe ID: "+C+" ("+_.src+")")),C}function K(){switch(oe(f,"IFrame scrolling "+(o[f]&&o[f].scrolling?"enabled":"disabled")+" for "+f),_.style.overflow=(o[f]&&o[f].scrolling)===!1?"hidden":"auto",o[f]&&o[f].scrolling){case!0:_.scrolling="yes";break;case!1:_.scrolling="no";break;default:_.scrolling=o[f]?o[f].scrolling:"no"}}function le(){(typeof(o[f]&&o[f].bodyMargin)=="number"||(o[f]&&o[f].bodyMargin)==="0")&&(o[f].bodyMarginV1=o[f].bodyMargin,o[f].bodyMargin=""+o[f].bodyMargin+"px")}function we(){var C=o[f]&&o[f].firstRun,x=o[f]&&o[f].heightCalculationMethod in S;!C&&x&&me({iframe:_,height:0,width:0,type:"init"})}function $e(){Function.prototype.bind&&o[f]&&(o[f].iframe.iFrameResizer={close:H.bind(null,o[f].iframe),resize:pe.bind(null,"Window resize","resize",o[f].iframe),moveToAnchor:function(C){pe("Move to anchor","moveToAnchor:"+C,o[f].iframe,f)},sendMessage:function(C){C=JSON.stringify(C),pe("Send Message","message:"+C,o[f].iframe,f)}})}function fe(C){function x(){pe("iFrame.onload",C,_,U,!0),we()}J(_,"load",x),pe("init",C,_,U,!0)}function Ue(C){if(typeof C!="object")throw new TypeError("Options is not an object")}function m(C){for(var x in a)a.hasOwnProperty(x)&&(o[f][x]=C.hasOwnProperty(x)?C[x]:a[x])}function B(C){return C===""||C==="file://"?"*":C}function l(C){C=C||{},o[f]={firstRun:!0,iframe:_,remoteHost:_.src.split("/").slice(0,3).join("/")},Ue(C),m(C),o[f]&&(o[f].targetOrigin=o[f].checkOrigin===!0?B(o[f].remoteHost):"*")}function w(){return f in o&&"iFrameResizer"in _}var f=Z(_.id);w()?D(f,"Ignored iFrame, already setup."):(l(X),K(),d(),le(),fe(Ee(f)),$e())}function Oe(_,X){R===null&&(R=setTimeout(function(){R=null,_()},X))}function We(){function _(){function Z(le){function we(fe){return(o[le]&&o[le].iframe.style[fe])==="0px"}function $e(fe){return fe.offsetParent!==null}o[le]&&$e(o[le].iframe)&&(we("height")||we("width"))&&pe("Visibility change","resize",o[le].iframe,le)}for(var K in o)Z(K)}function X(Z){oe("window","Mutation observed: "+Z[0].target+" "+Z[0].type),Oe(_,16)}function d(){var Z=document.querySelector("body"),K={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},le=new F(X);le.observe(Z,K)}var F=window.MutationObserver||window.WebKitMutationObserver;F&&d()}function Le(_){function X(){ze("Window "+_,"resize")}oe("window","Trigger event: "+_),Oe(X,16)}function Ve(){function _(){ze("Tab Visable","resize")}document.visibilityState!=="hidden"&&(oe("document","Trigger event: Visiblity change"),Oe(_,16))}function ze(_,X){function d(Z){return o[Z]&&o[Z].resizeFrom==="parent"&&o[Z].autoResize&&!o[Z].firstRun}for(var F in o)d(F)&&pe(_,X,document.getElementById(F),F)}function et(){J(window,"message",y),J(window,"resize",function(){Le("resize")}),J(document,"visibilitychange",Ve),J(document,"-webkit-visibilitychange",Ve),J(window,"focusin",function(){Le("focus")}),J(window,"focus",function(){Le("focus")})}function Ze(){function _(F,Z){function K(){if(Z.tagName){if(Z.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+Z.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}Z&&(K(),Ae(Z,F),d.push(Z))}function X(F){F&&F.enablePublicMethods&&D("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var d;return G(),et(),function(Z,K){switch(d=[],X(Z),typeof K){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(K||"iframe"),_.bind(U,Z));break;case"object":_(Z,K);break;default:throw new TypeError("Unexpected data type ("+typeof K+")")}return d}}function rt(_){_.fn?_.fn.iFrameResize||(_.fn.iFrameResize=function(d){function F(Z,K){Ae(K,d)}return this.filter("iframe").each(F).end()}):P("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&rt(window.jQuery),u=[],n=Ze,E=typeof n=="function"?n.apply(r,u):n,E!==U&&(i.exports=E)})()},683:(i,r,n)=>{r.iframeResizer=n(28),r.iframeResizerContentWindow=n(402)},457:i=>{var r=function(){var n=Math.floor(Math.random()*1000001),u={};function E(b,T,g,O){function A(o){for(var R=0;R<o.length;R++)if(o[R].win===b)return!0;return!1}var $=!1;if(T==="*"){for(var S in u)if(u.hasOwnProperty(S)&&S!=="*"&&typeof u[S][g]=="object"&&($=A(u[S][g]),$))break}else u["*"]&&u["*"][g]&&($=A(u["*"][g])),!$&&u[T]&&u[T][g]&&($=A(u[T][g]));if($)throw"A channel is already bound to the same window which overlaps with origin '"+T+"' and has scope '"+g+"'";typeof u[T]!="object"&&(u[T]={}),typeof u[T][g]!="object"&&(u[T][g]=[]),u[T][g].push({win:b,handler:O})}function U(b,T,g){for(var O=u[T][g],A=0;A<O.length;A++)O[A].win===b&&O.splice(A,1);u[T][g].length===0&&delete u[T][g]}function ie(b){return Array.isArray?Array.isArray(b):b.constructor.toString().indexOf("Array")!=-1}var V={},W=function(b){try{var T=JSON.parse(b.data);if(typeof T!="object"||T===null)throw"malformed"}catch{return}var g=b.source,O=b.origin,A,$,S;if(typeof T.method=="string"){var o=T.method.split("::");o.length==2?(A=o[0],S=o[1]):S=T.method}if(typeof T.id<"u"&&($=T.id),typeof S=="string"){var R=!1;if(u[O]&&u[O][A]){for(var a=0;a<u[O][A].length;a++)if(u[O][A][a].win===g){u[O][A][a].handler(O,S,T),R=!0;break}}if(!R&&u["*"]&&u["*"][A]){for(var a=0;a<u["*"][A].length;a++)if(u["*"][A][a].win===g){u["*"][A][a].handler(O,S,T);break}}}else typeof $<"u"&&V[$]&&V[$](O,S,T)};return window.addEventListener?window.addEventListener("message",W,!1):window.attachEvent&&window.attachEvent("onmessage",W),{build:function(b){var T=function(P){if(b.debugOutput&&window.console&&window.console.log){try{typeof P!="string"&&(P=JSON.stringify(P))}catch{}console.log("["+A+"] "+P)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof b!="object")throw"Channel build invoked without a proper object argument";if(!b.window||!b.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===b.window)throw"target window is same as present window -- not allowed";var g=!1;if(typeof b.origin=="string"){var O;b.origin==="*"?g=!0:(O=b.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))!==null&&(b.origin=O[0].toLowerCase(),g=!0)}if(!g)throw"Channel.build() called with an invalid origin";if(typeof b.scope<"u"){if(typeof b.scope!="string")throw"scope, when specified, must be a string";if(b.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var A=function(){for(var P="",D="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",h=0;h<5;h++)P+=D.charAt(Math.floor(Math.random()*D.length));return P}(),$={},S={},o={},R=!1,a=[],J=function(P,D,h){var y=!1,M=!1;return{origin:D,invoke:function(H,Y){if(!o[P])throw"attempting to invoke a callback of a nonexistent transaction: "+P;for(var j=!1,q=0;q<h.length;q++)if(H===h[q]){j=!0;break}if(!j)throw"request supports no such callback '"+H+"'";_e({id:P,callback:H,params:Y})},error:function(H,Y){if(M=!0,!o[P])throw"error called for nonexistent message: "+P;delete o[P],_e({id:P,error:H,message:Y})},complete:function(H){if(M=!0,!o[P])throw"complete called for nonexistent message: "+P;delete o[P],_e({id:P,result:H})},delayReturn:function(H){return typeof H=="boolean"&&(y=H===!0),y},completed:function(){return M}}},re=function(P,D,h){return window.setTimeout(function(){if(S[P]){var y="timeout ("+D+"ms) exceeded on method '"+h+"'";(0,S[P].error)("timeout_error",y),delete S[P],delete V[P]}},D)},G=function(P,D,h){if(typeof b.gotMessageObserver=="function")try{b.gotMessageObserver(P,h)}catch(Ee){T("gotMessageObserver() raised an exception: "+Ee.toString())}if(h.id&&D){if($[D]){var y=J(h.id,P,h.callbacks?h.callbacks:[]);o[h.id]={};try{if(h.callbacks&&ie(h.callbacks)&&h.callbacks.length>0)for(var M=0;M<h.callbacks.length;M++){for(var H=h.callbacks[M],Y=h.params,j=H.split("/"),q=0;q<j.length-1;q++){var me=j[q];typeof Y[me]!="object"&&(Y[me]={}),Y=Y[me]}Y[j[j.length-1]]=function(){var Ee=H;return function(Ae){return y.invoke(Ee,Ae)}}()}var ve=$[D](y,h.params);!y.delayReturn()&&!y.completed()&&y.complete(ve)}catch(Ee){var qe="runtime_error",pe=null;if(typeof Ee=="string"?pe=Ee:typeof Ee=="object"&&(Ee&&ie(Ee)&&Ee.length==2?(qe=Ee[0],pe=Ee[1]):typeof Ee.error=="string"&&(qe=Ee.error,Ee.message?typeof Ee.message=="string"?pe=Ee.message:Ee=Ee.message:pe="")),pe===null)try{pe=JSON.stringify(Ee),typeof pe>"u"&&(pe=Ee.toString())}catch{pe=Ee.toString()}y.error(qe,pe)}}}else h.id&&h.callback?!S[h.id]||!S[h.id].callbacks||!S[h.id].callbacks[h.callback]?T("ignoring invalid callback, id:"+h.id+" ("+h.callback+")"):S[h.id].callbacks[h.callback](h.params):h.id?S[h.id]?(h.error?(0,S[h.id].error)(h.error,h.message):h.result!==void 0?(0,S[h.id].success)(h.result):(0,S[h.id].success)(),delete S[h.id],delete V[h.id]):T("ignoring invalid response: "+h.id):D&&$[D]&&$[D]({origin:P},h.params)};E(b.window,b.origin,typeof b.scope=="string"?b.scope:"",G);var be=function(P){return typeof b.scope=="string"&&b.scope.length&&(P=[b.scope,P].join("::")),P},_e=function(P,D){if(!P)throw"postMessage called with null message";var h=R?"post  ":"queue ";if(T(h+" message: "+JSON.stringify(P)),!D&&!R)a.push(P);else{if(typeof b.postMessageObserver=="function")try{b.postMessageObserver(b.origin,P)}catch(y){T("postMessageObserver() raised an exception: "+y.toString())}b.window.postMessage(JSON.stringify(P),b.origin)}},Re=function(P,D){if(T("ready msg received"),R)throw"received ready message while in ready state.  help!";for(D==="ping"?A+="-R":A+="-L",oe.unbind("__ready"),R=!0,T("ready msg accepted."),D==="ping"&&oe.notify({method:"__ready",params:"pong"});a.length;)_e(a.pop());typeof b.onReady=="function"&&b.onReady(oe)},oe={unbind:function(P){if($[P]){if(!delete $[P])throw"can't delete method: "+P;return!0}return!1},bind:function(P,D){if(!P||typeof P!="string")throw"'method' argument to bind must be string";if(!D||typeof D!="function")throw"callback missing from bind params";if($[P])throw"method '"+P+"' is already bound!";return $[P]=D,this},call:function(P){if(!P)throw"missing arguments to call function";if(!P.method||typeof P.method!="string")throw"'method' argument to call must be string";if(!P.success||typeof P.success!="function")throw"'success' callback missing from call";var D={},h=[],y=[],M=function(Y,j){if(y.indexOf(j)>=0)throw"params cannot be a recursive data structure";if(y.push(j),typeof j=="object"){for(var q in j)if(j.hasOwnProperty(q)){var me=Y+(Y.length?"/":"")+q;typeof j[q]=="function"?(D[me]=j[q],h.push(me),delete j[q]):typeof j[q]=="object"&&j[q]!==null&&M(me,j[q])}}};M("",P.params);var H={id:n,method:be(P.method),params:P.params};h.length&&(H.callbacks=h),P.timeout&&re(n,P.timeout,be(P.method)),S[n]={callbacks:D,error:P.error,success:P.success},V[n]=G,n++,_e(H)},notify:function(P){if(!P)throw"missing arguments to notify function";if(!P.method||typeof P.method!="string")throw"'method' argument to notify must be string";_e({method:be(P.method),params:P.params})},destroy:function(){U(b.window,b.origin,typeof b.scope=="string"?b.scope:""),window.removeEventListener?window.removeEventListener("message",G,!1):window.detachEvent&&window.detachEvent("onmessage",G),R=!1,$={},o={},S={},b.origin=null,a=[],T("channel destroyed"),A=""}};return oe.bind("__ready",Re),setTimeout(function(){_e({method:be("__ready"),params:"ping"},!0)},0),oe}}}();i.exports=r},218:i=>{function r(n){var u=typeof n;return n!=null&&(u=="object"||u=="function")}i.exports=r}},e={};function t(i){var r=e[i];if(r!==void 0)return r.exports;var n=e[i]={exports:{}};return v[i].call(n.exports,n,n.exports,t),n.exports}t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),t(669)})();var Zt=qt.Addon;class en{constructor(){this.addon=new Zt,this.addon.on("init",e=>{this.addon.options=e})}fetch_user(){try{return this.addon.api.getUser()}catch(e){throw e}}fetch_currencies(){try{return this.addon.request({method:"GET",endpoint:"currencies"})}catch(e){throw e}}fetch_institutions(){try{return this.addon.api.getInstitutions(this.get_options_query(this.addon.options))}catch(e){throw e}}fetch_positions(){try{return this.addon.api.getPositions(this.get_options_query(this.addon.options))}catch(e){throw e}}fetch_transactions(){try{let e=new Date("2000-01-01").toISOString().split("T")[0],t=new Date().toISOString().split("T")[0],i={from:e,to:t,deleted:!1};return this.addon.api.getTransactions(i)}catch(e){throw e}}fetch_historical_data(e){try{return this.addon.request({method:"GET",endpoint:`securities/${e}/history`})}catch(t){throw t}}fetch_stock_prices(e,t){return fetch("https://data.wealthica.com/api/streams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e,symbols:t})}).then(n=>n.json()).catch(n=>{throw n})}async delete_transaction(e){const t={deleted:!0};return await this.addon.api.updateTransaction(e,t)}async update_transaction(e,t){return await this.addon.api.updateTransaction(e,t)}get_options_query(e){return{from:e.dateRangeFilter&&e.dateRangeFilter[0],to:e.dateRangeFilter&&e.dateRangeFilter[1],groups:e.groupsFilter,institutions:e.institutionsFilter,investments:e.investmentsFilter==="all"?null:e.investmentsFilter}}}function tn(v){return null}function nn(v){v=Array.isArray(v)?v:[v],v.forEach(e=>{localStorage.removeItem(e)})}const vt=!1,Pt=[{name:"INVESTOR - CELI",account_number:"22981483",order:1,type:null,no_holdings:!1,exluded:!1},{name:"INVESTOR - RESP",account_number:"21921430",order:2,type:null,no_holdings:!1,exluded:!1},{name:"NESBITT - NON-ENRG",account_number:"31015145",order:3,type:null,no_holdings:!1,exluded:!0},{name:"NESBITT - BELSKI",account_number:"31107566",order:4,type:null,no_holdings:!1,exluded:vt},{name:"NESBITT - FONDS",account_number:"31107567",order:5,type:null,no_holdings:!1,exluded:vt},{name:"NESBITT - ACTIONS (REER)",account_number:"31107798",order:6,type:null,no_holdings:!1,exluded:vt},{name:"NESBITT - ACTIONS (CELI)",account_number:"78124230",order:7,type:null,no_holdings:!1,exluded:vt},{name:"CGI - ACTIONS (REER)",account_number:"197287703264",order:8,type:null,no_holdings:!0,exluded:vt},{name:"CGI - ACTIONS (NON-ENRG)",account_number:"197287499339",order:8,type:"NRG",no_holdings:!0,exluded:vt},{name:"FTQ - REER",account_number:"107935800-01R",order:9,type:"RRSP",no_holdings:!0,exluded:vt},{name:"BMO - INVEST",account_number:"XXXX6679",order:10,type:"CASH",no_holdings:!0,exluded:vt}];function rn(v,e){const t=Pt.find(i=>i.account_number===v);return t?t.type||e.toUpperCase():""}function on(v){var e=Pt.find(t=>t.account_number===v);return e?e.exluded:!0}function an(v){var e=Pt.find(t=>t.account_number===v);return e?e.order:999}function sn(v){var e=Pt.find(t=>t.account_number===v);return e?e.no_holdings:!1}const Ht={dev:!0,prod:!1,log_all:!0},ln=[{id:"user",enabled:!1},{id:"currencies",enabled:!1},{id:"institutions",enabled:!1},{id:"positions",enabled:!1},{id:"transactions",enabled:!1},{id:"accounts",enabled:!1},{id:"holdings",enabled:!1},{id:"totals",enabled:!1},{id:"currency",enabled:!1}];function un(){return Yt()&&Ht.prod}function Lt(v,e,t){var i;un()&&((i=ln.find(r=>r.id===v))!=null&&i.enabled||Ht.log_all)&&(t?console.log(v,`<${t}>`,e):console.log(v,e))}const bt={unknown:"unknown",memory:"memory",store:"store",fetched:"fetched",loading:"loading",refreshed:"refreshed"},Ne={user:"user",currencies:"currencies",institutions:"institutions",positions:"positions",transactions:"transactions",accounts:"accounts",holdings:"holdings",holdings_totals:"holdings_totals",transactions_list:"transactions_list",statements:"statements",x_usd:"x_usd"};class cn{constructor(){dt(this,"user",null);dt(this,"currencies",null);dt(this,"institutions",null);dt(this,"positions",null);dt(this,"transactions",null);dt(this,"accounts",null);dt(this,"holdings",null);dt(this,"holdings_totals",null);dt(this,"transactions_list",null);dt(this,"statements",null);dt(this,"x_usd",null);this.wealthica=new en}async load(e){let t=bt.unknown;this[e]?this[e]instanceof Promise?(t=bt.loading,await this[e]):t=bt.memory:(this[e]=tn())?t=bt.store:(t=bt.fetched,this[e]=this.retrieve_data(e),this[e]=await this[e],this[e],void 0),t!=bt.loading&&Lt(e,this[e],t)}retrieve_data(e){switch(e){case"user":return this.wealthica.fetch_user();case"currencies":return this.wealthica.fetch_currencies();case"institutions":return this.wealthica.fetch_institutions();case"positions":return this.wealthica.fetch_positions();case"accounts":return this.retrieve_accounts_data();case"holdings":return this.retrieve_holdings_data();case"holdings_totals":return this.retrieve_holdings_totals();case"transactions":return this.retrieve_transactions();case"transactions_list":return this.retrieve_transactions_list();case"statements":return this.retrieve_statements();case"x_usd":return this.retrieve_x_usd_data();default:throw`No such data to fetch (${e})`}}clear_data(e){e=Array.isArray(e)?e:[e],e.forEach(t=>{this[t]=null,nn(t)})}async retrieve_accounts_data(){return await this.load(Ne.institutions),this.institutions.flatMap(t=>{const i=new Map;return t.investments.forEach(r=>{let n=this.get_account_number(r);if(!r.ignored&&!on(n)){let u=i.get(n)??{institution:{name:t.name,type:t.type},number:n,name:r.name,type:rn(n,r.type),order:an(n),value_CAD:0,no_holdings:sn(n),subaccounts:[]};u.value_CAD+=r.currency_value*this.xrate(r.currency),u.subaccounts.push({id:r._id,name:r.name,currency:r.currency,value:r.currency_value,no_holdings:u.no_holdings}),i.set(n,u)}}),Array.from(i.values())}).sort((t,i)=>t.order-i.order)}get_account_number(e){return(e.account_number?e.account_number:e.id).toUpperCase()}async retrieve_holdings_totals(){let e={accounts:{},portfolio:{}};return await Promise.all([this.load(Ne.accounts),this.load(Ne.holdings)]),this.accounts.forEach(t=>{t.subaccounts.forEach(i=>{e.accounts[t.number]=e.accounts[t.number]||{},e.accounts[t.number][i.id]=this.calc_subaccount_holdings_totals(i)}),e.accounts[t.number]={...e.accounts[t.number]||{},...this.calc_account_holdings_totals(t,e)}}),this.calc_portfolio_holdings_totals(e),e}calc_subaccount_holdings_totals(e){let t={book_value:0,close_amount:0,gain_daily_amount:0,gain_daily_percent:0,gain_period_percent:0,gain_period_amount:0,gain_overall_amount:0,gain_overall_percent:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_total_CAD:0,weight_account:0};if(!e.no_holdings)t=this.holdings.filter(i=>i.subaccount_id==e.id).reduce((i,r)=>(i.book_value+=r.values.book_value,i.close_amount+=r.values.close_amount,i.gain_daily_amount+=r.values.gain_daily_amount,i.gain_period_amount+=r.values.gain_period_amount,i.gain_overall_amount+=r.values.gain_overall_amount,i.market_value+=r.values.market_value,i.market_value_USD+=r.currency=="usd"?r.values.market_value:0,i.market_value_CAD+=r.currency!="usd"?r.values.market_value:0,i.market_total_CAD+=r.values.market_value_CAD,i.weight_account+=r.values.weight_account,i),t),t.gain_daily_percent=t.market_value/(t.market_value-t.gain_daily_amount)-1,t.gain_period_percent=t.market_value/(t.market_value-t.gain_period_amount)-1,t.gain_overall_percent=t.market_value/(t.market_value-t.gain_overall_amount)-1;else{const i=e.currency=="usd";t.market_value_CAD=i?0:e.value,t.market_value_USD=i?e.value:0,t.market_total_CAD=i?cad(e.value):e.value}return t}calc_account_holdings_totals(e,t){let i={book_value_CAD:0,close_amount_CAD:0,gain_daily_amount_CAD:0,gain_daily_percent:0,gain_period_amount_CAD:0,gain_period_percent:0,gain_overall_amount_CAD:0,gain_overall_percent:0,market_value_USD:0,market_value_CAD:0,market_total_CAD:0,weight_portfolio:0,weight_account:0};return e.subaccounts.forEach(r=>{const n=r.currency=="usd";let u=t.accounts[e.number][r.id];i.book_value_CAD+=n?this.cad(u.book_value):u.book_value,i.close_amount_CAD+=n?this.cad(u.close_amount):u.close_amount,i.gain_daily_amount_CAD+=n?this.cad(u.gain_daily_amount):u.gain_daily_amount,i.gain_period_amount_CAD+=n?this.cad(u.gain_period_amount):u.gain_period_amount,i.gain_overall_amount_CAD+=n?this.cad(u.gain_overall_amount):u.gain_overall_amount,i.market_value_CAD+=u.market_value_CAD,i.market_value_USD+=u.market_value_USD,i.market_total_CAD+=u.market_total_CAD,i.weight_account+=u.weight_account}),i.gain_daily_percent=i.market_total_CAD/(i.market_total_CAD-i.gain_daily_amount_CAD)-1,i.gain_period_percent=i.market_total_CAD/(i.market_total_CAD-i.gain_period_amount_CAD)-1,i.gain_overall_percent=i.market_total_CAD/(i.market_total_CAD-i.gain_overall_amount_CAD)-1,i}calc_portfolio_holdings_totals(e){e.portfolio={book_value_CAD:0,close_amount_CAD:0,gain_daily_amount_CAD:0,gain_daily_percent:0,gain_period_amount_CAD:0,gain_period_percent:0,gain_overall_amount_CAD:0,gain_overall_percent:0,market_value_USD:0,market_value_CAD:0,market_total_CAD:0,weight_portfolio:0},Object.keys(e.accounts).map(i=>{let r=e.accounts[i];e.portfolio.book_value_CAD+=r.book_value_CAD,e.portfolio.close_amount_CAD+=r.close_amount_CAD,e.portfolio.gain_daily_amount_CAD+=r.gain_daily_amount_CAD,e.portfolio.gain_period_amount_CAD+=r.gain_period_amount_CAD,e.portfolio.gain_overall_amount_CAD+=r.gain_overall_amount_CAD,e.portfolio.market_value_CAD+=r.market_value_CAD,e.portfolio.market_value_USD+=r.market_value_USD,e.portfolio.market_total_CAD+=r.market_total_CAD,e.portfolio.gain_daily_percent=e.portfolio.market_total_CAD/(e.portfolio.market_total_CAD-e.portfolio.gain_daily_amount_CAD)-1,e.portfolio.gain_period_percent=e.portfolio.market_total_CAD/(e.portfolio.market_total_CAD-e.portfolio.gain_period_amount_CAD)-1,e.portfolio.gain_overall_percent=e.portfolio.market_total_CAD/(e.portfolio.market_total_CAD-e.portfolio.gain_overall_amount_CAD)-1}),Object.keys(e.accounts).map(i=>{e.accounts[i].weight_portfolio=e.accounts[i].market_total_CAD/e.portfolio.market_total_CAD,e.portfolio.weight_portfolio+=e.accounts[i].weight_portfolio})}async retrieve_holdings_data(){await Promise.all([this.load(Ne.positions),this.load(Ne.x_usd)]);let e=[];return this.positions.forEach(t=>{t.investments.forEach(i=>{let r=this.create_holding(t,i);e.push(r)})}),await Promise.all(e.map(async t=>{t.history=await t.history})),await this.update_holdings_stock_prices(e),e}create_holding(e,t){return{account_number:t.investment.split(":")[0],subaccount_id:t.investment,market:t.currency.substring(0,2).toUpperCase(),symbol:e.security.symbol,symbol_mrkt:t.currency.substring(0,2).toUpperCase()+":"+e.security.symbol,name:e.security.name,currency:t.currency,xrate:t.currency==="usd"?1/this.x_usd.rate:1,quantity:t.quantity,cash:e.security.symbol=="REALCASH",history:this.wealthica.fetch_historical_data(e.security._id),values:{book_price:t.book_value/t.quantity,book_value:t.book_value,close_date:null,close_price:0,close_amount:0,daily_change:0,daily_date:null,gain_daily_amount:0,gain_daily_percent:0,gain_period_amount:0,gain_period_percent:0,gain_overall_amount:t.quantity*e.security.last_price-t.book_value,gain_overall_percent:(t.quantity*e.security.last_price-t.book_value)/t.book_value,market_date:e.security.last_date,market_price:e.security.last_price,market_value:t.quantity*e.security.last_price,market_price_CAD:e.security.last_price*(t.currency==="usd"?1/this.x_usd.rate:1),market_value_CAD:t.quantity*e.security.last_price*(t.currency==="usd"?1/this.x_usd.rate:1)}}}initialized_holdings_totals(){return{book_value:0,close_amount:0,gain_daily_amount:0,gain_daily_percent:0,gain_period_percent:0,gain_period_amount:0,gain_overall_amount:0,gain_overall_percent:0,market_value:0,market_value_CAD:0,market_value_USD:0,weight_account:0}}async update_holdings_stock_prices(e){await this.load(Ne.user);let t=e.map(r=>r.symbol_mrkt);(await this.wealthica.fetch_stock_prices(this.user.email,t)).securities.forEach(r=>{let n=`${r.market}:${r.symbol.split(":")[1]}`;e.filter(u=>u.symbol_mrkt===n).forEach(u=>{u.values.close_price=r.price-r.change,u.values.close_amount=u.quantity*(r.price-r.change),u.values.daily_change=r.change,u.values.daily_date=r.update_date,u.values.gain_daily_amount=u.quantity*r.change,u.values.gain_daily_percent=(r.price-r.change)/(r.price-r.change-r.change)-1,u.values.gain_period_amount=0,u.values.gain_period_percent=0,u.values.gain_overall_amount=u.quantity*r.price-u.values.book_value,u.values.gain_overall_percent=(u.quantity*r.price-u.values.book_value)/u.values.book_value,u.values.market_price=r.price,u.values.market_value=u.quantity*r.price,u.values.market_date=r.quote_date,u.values.market_price_CAD=r.price*(u.currency==="usd"?1/this.x_usd.rate:1),u.values.market_value_CAD=u.quantity*r.price*(u.currency==="usd"?1/this.x_usd.rate:1)})}),this.calc_holdings_weigth(e)}calc_holdings_weigth(e){[...new Set(e.map(i=>i.account_number))].forEach(i=>{let r=e.filter(u=>u.account_number===i),n=r.reduce((u,E)=>u+E.values.market_value_CAD,0);r.forEach(u=>{u.values.weight_account=u.values.market_value_CAD/n})})}async refresh_holdings_stock_prices(){await this.update_holdings_stock_prices(this.holdings),Ne.holdings,this.holdings,Lt(Ne.holdings,this.holdings,bt.refreshed)}async get_stock_prices(e){return await this.load(Ne.user),this.wealthica.fetch_stock_prices(this.user.email,e)}async retrieve_transactions(){let e=await this.wealthica.fetch_transactions();return e.forEach(t=>{t.subaccount_id=t.investment,t.amount=t.currency_amount,t.price=Math.abs(t.currency_amount/t.quantity),t.total_amount=t.currency_amount-(t.fee||0),t.security&&(t.symbol_mrkt=t.security.currency.substring(0,2).toUpperCase()+":"+t.security.symbol)}),e}async retrieve_transactions_list(){await this.load(Ne.transactions);let e={};this.transactions.filter(t=>t.hasOwnProperty("investment")).sort((t,i)=>new Date(t.settlement_date)-new Date(i.settlement_date)).forEach((t,i)=>{const r=t.subaccount_id,n=new Date(t.settlement_date),u=`${n.getUTCFullYear()}-${("0"+(n.getUTCMonth()+1)).slice(-2)}`;e[r]=e[r]||{transactions:{},total:{total_amount:0,total_amount_CAD:0,fees:0,fees_CAD:0}},e[r].transactions[u]=e[r].transactions[u]||[],e[r].total.total_amount+=t.total_amount,e[r].total.total_amount_CAD+=t.total_amount*this.xrate(t.investment.split(":").pop()),e[r].total.fees+=t.fee||0,e[r].total.fees_CAD+=(t.fee||0)*this.xrate(t.investment.split(":").pop()),e[r].transactions[u].push({transaction:{...t,index:i},total:e[r].total.total_amount})});for(let t in e)e[t].transactions=Object.entries(e[t].transactions).sort(([i],[r])=>r.localeCompare(i)).reduce((i,[r,n])=>(i[r]=n.sort((u,E)=>E.transaction.index-u.transaction.index),i),{});return e}delete_transaction(e){this.wealthica.delete_transaction(e)}async retrieve_statements(){await this.load(Ne.transactions);let e={},t=this.transactions.filter(i=>i.hasOwnProperty("investment")).sort((i,r)=>new Date(i.settlement_date)-new Date(r.settlement_date));for(let i of t){let r=this.get_subaccount_statement(i.subaccount_id,e);if(i.security&&i.security.symbol){let n=this.get_holding_statement(i,r);switch(n.transactions.push(i),i.type){case"buy":n.quantity+=i.quantity,n.cost_value-=i.amount,n.cost_price=n.cost_value/n.quantity;break;case"sell":n.quantity+=i.quantity,n.gain_realized+=(i.price-n.cost_price)*Math.abs(i.quantity);break;case"split":n.quantity+=i.quantity,n.cost_price=n.cost_value/n.quantity;break;case"dividend":n.dividend+=i.amount;break;case"interest":n.interest+=i.amount;case"tax":n.taxes-=i.amount;break}n.fees+=i.fee||0,n.return=n.dividend+n.interest+n.gain_realized+n.gain_unrealized-n.taxes-n.fees}}for(let i in e)e[i].holdings.sort((r,n)=>(r.quantity===0)-(n.quantity===0)||r.symbol.localeCompare(n.symbol)),e[i].holdings.forEach(r=>{r.transactions.sort((n,u)=>new Date(u.settlement_date)-new Date(n.settlement_date))});return this.update_statements_stock_prices(e),e}update_statements_stock_prices(e){}get_subaccount_statement(e,t){return t[e]=t[e]||{total:{deposit:0,withdrawal:0,transfer_in:0,transfer_out:0,investment:0,gain_total:0,gain_realized:0,gain_unrealized:0,interest:0,dividend:0,taxes:0,fees:0,amount:0},active:!0,inactive:!1,holdings:[]},t[e]}get_holding_statement(e,t){let i=t.holdings.find(r=>r.symbol_mrkt===e.symbol_mrkt);return i||(i={symbol_mrkt:e.symbol_mrkt,symbol:e.symbol_mrkt.split(":")[1],market:e.symbol_mrkt.split(":")[0],name:e.security.name,quantity:0,cost_value:0,cost_price:0,fees:0,dividend:0,interest:0,taxes:0,gain_realized:0,gain_unrealized:0,return:0,transactions:[]},t.holdings.push(i)),i}async retrieve_x_usd_data(){await this.load(Ne.currencies);let e=this.currencies.find(t=>t._id==="usd");return e?{id:e._id,rate:e.exchange_rate,date:e.update_date}:null}cad(e){return e/this.x_usd.rate}usd(e){return e*this.x_usd.rate}xrate(e){return e!="cad"?1/this.x_usd.rate:1}}const yt=(v,e)=>{const t=v.__vccOpts||v;for(const[i,r]of e)t[i]=r;return t},dn={name:"tab_dashboard"},fn={class:"tab-container"},hn=c("div",{class:"tab-logo-container"},[c("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-dashboard-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),gn=[hn];function mn(v,e,t,i,r,n){return ne(),se("div",fn,gn)}const zt=yt(dn,[["render",mn]]),_n={props:{span:{type:Number,default:1},value:{type:String,default:""},background:{type:Boolean,default:!1}}},pn=["colspan"],vn={class:"header-centered"};function yn(v,e,t,i,r,n){return ne(),se("th",{colspan:t.span},[c("div",vn,[c("div",{class:Ye(["header-value",[{background:t.background}]])},ht(t.value),3)])],8,pn)}const ft=yt(_n,[["render",yn]]),bn={props:{span:{type:Number,default:5},institution:{type:String,default:""},name:{type:String,default:""},number:{type:String,default:""},type:{type:String,default:""},currency:{type:String,default:""},show_expand:{type:Boolean,default:!0},expanded:{type:Boolean,default:!1}},emits:["toggle"],methods:{toggle(){this.$emit("toggle")}},computed:{institution_icon(){if(this.institution=="--")switch(this.currency){case"cad":return"https://portfoliotech.github.io/investify/static/img/cad.png";case"usd":return"https://portfoliotech.github.io/investify/static/img/usd.png";default:return"https://portfoliotech.github.io/investify/static/expanded.png"}else return"https://app.wealthica.com/images/institutions/"+this.institution+".png"}}},wn=["colspan"],kn={class:"account-data-wraper"},Tn={class:"account-identifier"},Cn=["src"],En={class:"account-name"},An={key:0,class:"toggle-arrow"},On={class:"account-details"},Mn={class:"account-number"},Sn={class:"account-type"};function xn(v,e,t,i,r,n){return ne(),se("td",{class:"account-cell",colspan:t.span},[c("div",kn,[c("div",Tn,[c("div",null,[c("img",{src:n.institution_icon,class:"institution-icon"},null,8,Cn)]),c("div",En,ht(t.name),1),t.show_expand?(ne(),se("div",An,[c("img",{src:"https://app.wealthica.com/img/arrow_down.f6ca09b2.svg",width:"13",height:"8",class:Ye({expanded:t.expanded}),onClick:e[0]||(e[0]=Dt((...u)=>n.toggle&&n.toggle(...u),["stop"]))},null,2)])):De("",!0)]),c("div",On,[c("div",Mn,ht(t.number),1),c("div",Sn,ht(t.type),1)])])],8,wn)}const Ct=yt(bn,[["render",xn]]),Fn={props:{market:{type:String,default:""},symbol:{type:String,default:""},name:{type:String,default:""},show_expand:{type:Boolean,default:!1},expanded:{type:Boolean,default:!0}},emits:["toggle"],data(){return{default_logo_path:"https://portfoliotech.github.io/investify/static/img/default_logo.png",logo_path:"https://portfoliotech.github.io/investify/static/img/default_logo.png"}},methods:{toggle(){this.$emit("toggle")},update_logo_path(){this.logo_path=this.get_logo_path()},reset_logo_path(){this.logo_path=this.default_logo_path},get_logo_path(){return this.symbol=="REALCASH"?"https://portfoliotech.github.io/investify/static/img/cash.png":"https://data.wealthica.com/api/securities/"+this.market.substr(0,2)+":"+this.symbol+"/logo"}},computed:{company_symbol(){return this.symbol=="REALCASH"?"CASH":this.symbol},company_name(){return this.symbol=="REALCASH"?"CASH BALANCE":this.name},tooltip(){return this.symbol=="REALCASH"?"CASH BALANCE":`${this.market}:${this.symbol}`}}},Pn=["title"],In={class:"company-data-wraper"},Dn={class:""},Rn=["src"],Ln={class:"company-data"},zn={class:"company-symbol"},Nn={class:"company-name"},jn={key:0,class:"toggle-arrow"};function $n(v,e,t,i,r,n){return ne(),se("td",{class:"company-cell",title:n.tooltip},[c("div",In,[c("div",Dn,[c("img",{src:r.logo_path,onLoad:e[0]||(e[0]=(...u)=>n.update_logo_path&&n.update_logo_path(...u)),onError:e[1]||(e[1]=(...u)=>n.reset_logo_path&&n.reset_logo_path(...u)),alt:"company_symbol",class:"company-logo"},null,40,Rn)]),c("div",Ln,[c("div",zn,ht(n.company_symbol),1),c("div",Nn,ht(n.company_name),1)]),t.show_expand?(ne(),se("div",jn,[c("img",{src:"https://app.wealthica.com/img/arrow_down.f6ca09b2.svg",width:"13",height:"8",class:Ye({expand:t.expanded}),onClick:e[2]||(e[2]=Dt((...u)=>n.toggle&&n.toggle(...u),["stop"]))},null,2)])):De("",!0)])],8,Pn)}const It=yt(Fn,[["render",$n]]),Wn={props:{value:{default:null},formatter:{type:Function,default:null},align:{type:String,validator:function(v){return["left","center","right"].includes(v)},default:"left"},bold:{type:Boolean,default:!1},colored:{type:Boolean,default:!1},highlighted:{type:Boolean,default:!1},arrow:{type:Boolean,default:!1},span:{type:Number,default:1},tooltip:{default:null},visible:{type:Boolean,default:!0},show_zero:{type:Boolean,default:!0},show_null:{type:Boolean,default:!0}},computed:{formatted_value(){return!this.show_null&&!this.value||typeof this.value=="number"&&!this.show_zero&&this.value==0?"":this.formatter?this.formatter(this.value):this.value},font_color(){return this.colored&&typeof this.value=="number"?this.value>0?"green":this.value<0?"red":"black":"black"},show_arrow(){return this.arrow&&typeof this.value=="number"&&this.value!=0}}},Bn=["colspan","title"],qn=c("path",{"data-v-ae951afa":"",d:"M5.79 15.013H3.778V7.806H.813L4.808.398l4.004 7.408H5.791v7.207z",fill:"currentColor"},null,-1),Hn=[qn];function Un(v,e,t,i,r,n){return ne(),se("td",{class:Ye(["cell-custom",[t.align]]),colspan:t.span,title:t.tooltip},[t.visible?(ne(),se("div",{key:0,class:Ye(["cell-content",[t.align]])},[c("span",{class:Ye(["cell-value text-color",[n.font_color,{highlighted:t.highlighted,bold:t.bold}]])},ht(n.formatted_value),3),n.show_arrow?(ne(),se("svg",{key:0,viewBox:"0 0 9 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:Ye(["arrow-icon",[n.font_color]])},Hn,2)):De("",!0)],2)):De("",!0)],10,Bn)}const it=yt(Wn,[["render",Un]]),_t={number:new Intl.NumberFormat("en-US"),money:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),price:new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2}),xrate:new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}),date:new Intl.DateTimeFormat("en-CA",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"UTC"}),long_date:new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}),long_datetime:new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"}),month_year:new Intl.DateTimeFormat("default",{month:"long",year:"numeric"})},Je={number(v){return _t.number.format(v)},money(v){return _t.money.format(v)},money_plus(v){return(v>0?"+":"")+_t.money.format(v)},price(v){return _t.price.format(v)},percent(v){return _t.percent.format(v)},date(v){let e=new Date(v);return isNaN(e.getTime())?"Invalid":_t.date.format(e)},long_date(v){let e=new Date(v);return isNaN(e.getTime())?"Invalid":_t.long_date.format(e)},long_datetime(v){let e=new Date(v);return isNaN(e.getTime())?"Invalid":_t.long_datetime.format(e)},month_year(v){let e=new Date(`${v}-01T12:00`);return isNaN(e.getTime())?"Invalid":_t.month_year.format(e)},xrate_cad(v){return`1 USD = ${_t.xrate.format(v)} CAD`},tip_daily_change(v,e){return Je.money_plus(v)+" on "+Je.long_datetime(e)},tip_xrate(v,e){return v==="usd"?`1 USD = ${Je.xrate_cad(e)} CAD`:null}},Vn={components:{custom_cell:it},props:{...it.props,formatter:{type:Function,default:Je.number},align:{default:"right"}}},Ft=Object.assign(Vn,{__name:"number",setup(v){return(e,t)=>(ne(),wt(it,Mt(e.$props,{formatter:v.formatter,align:v.align}),null,16,["formatter","align"]))}}),Jn={components:{custom_cell:it},props:{...it.props,formatter:{type:Function,default:Je.money},align:{default:"right"}}},de=Object.assign(Jn,{__name:"money",setup(v){return(e,t)=>(ne(),wt(it,Mt(e.$props,{formatter:v.formatter,align:v.align}),null,16,["formatter","align"]))}}),Gn={components:{custom_cell:it},props:{...it.props,align:{default:"right"}}},nt=Object.assign(Gn,{__name:"percent",setup(v){return(e,t)=>(ne(),wt(it,Mt(e.$props,{formatter:st(Je).percent,align:v.align}),null,16,["formatter","align"]))}}),Yn={key:0,id:"portfolio"},Kn={class:"portfolio"},Qn={id:"tr_accounts_header_1",class:"line_height_1_2"},Xn=c("th",{colspan:"5"},null,-1),Zn=c("th",{colspan:"7"},null,-1),ei=c("tr",{id:"tr_accounts_header_2",class:"show-separator-line"},[c("th",{colspan:"5",class:"justify-left"},"Accounts"),c("th",null,"Gain $"),c("th",null,"Gain %"),c("th",null,"Gain $"),c("th",null,"Gain %"),c("th",{colspan:"2"},"CAD"),c("th",{colspan:"2"},"USD"),c("th",{colspan:"2"},"Total CAD"),c("th",null,"Portfolio")],-1),ti={key:0,class:"spacer"},ni={key:1,id:"holdings_header_1",class:"line_height_1_2"},ii=c("th",null,null,-1),ri=c("th",null,null,-1),oi=c("th",null,null,-1),ai=c("th",null,null,-1),si={key:2,id:"holdings_header_2",class:"show-separator-line"},li=c("th",{class:"justify-left"},"Company",-1),ui=c("th",null,null,-1),ci=c("th",{class:"justify-center"},"Qty",-1),di=c("th",null,"Price",-1),fi=c("th",null,"Value",-1),hi=c("th",null,"Gain $",-1),gi=c("th",null,"Gain %",-1),mi=c("th",null,"Gain $",-1),_i=c("th",null,"Gain %",-1),pi=c("th",null,"low",-1),vi=c("th",null,"high",-1),yi=c("th",null,"Price",-1),bi=c("th",null,"Value",-1),wi=c("th",null,"Price",-1),ki=c("th",null,"Value",-1),Ti=c("th",null,"Weigth",-1),Ci=[li,ui,ci,di,fi,hi,gi,mi,_i,pi,vi,yi,bi,wi,ki,Ti],Ei={id:"holdings",class:"holdings"},Ai=c("td",{class:"fill-space"},null,-1),Oi={id:"cash",class:"holdings"},Mi=c("td",{class:"fill-space"},null,-1),Si=c("td",{colspan:"10"},null,-1),xi=c("td",null,null,-1),Fi={key:5,id:"holdings_totals",class:"show-total-line"},Pi=c("td",{colspan:"4",class:"justify-left"},"Total",-1),Ii=c("td",null,null,-1),Di=c("td",null,null,-1),Ri=c("td",null,null,-1),Li=c("td",null,null,-1),zi={key:1,id:"accounts_footer_spacing",class:"accounts-footer"},Ni=c("td",{colspan:"16"},null,-1),ji=[Ni],$i={id:"portfolio_totals",class:"show-total-line"},Wi=c("td",{colspan:"5",class:"justify-left"},"Total",-1),Bi={id:"footer"},qi=c("div",{style:{height:"20px"}},null,-1),Hi={style:{display:"flex","justify-content":"space-between"}},Ui=["title"],Vi={inject:["data_store","state"],data(){return{x_usd:null,accounts:null,holdings:null,holdings_totals:null,expanded:{accounts:{},subaccounts:{}}}},created(){this.load_data()},methods:{load_data(){this.state.loading=!0,this.data_store.load(Ne.x_usd).then(()=>{this.x_usd=this.data_store[Ne.x_usd]}),Promise.all([this.data_store.load(Ne.accounts),this.data_store.load(Ne.holdings),this.data_store.load(Ne.holdings_totals)]).then(()=>{this.accounts=this.data_store[Ne.accounts],this.holdings=this.data_store[Ne.holdings],this.holdings_totals=this.data_store[Ne.holdings_totals],this.initialize_toggle_states(),this.state.loading=!1})},initialize_toggle_states(){this.expanded.subaccounts=this.accounts.flatMap(v=>v.subaccounts).reduce((v,e)=>({...v,[e.id]:!0}),{})},refresh_all(){this.state.loading=!0,this.data_store.clear_data(Object.keys(Ne)),this.load_data()},refresh_stock_prices(){this.state.loading=!0,this.data_store.refresh_holdings_stock_prices().then(()=>{this.state.loading=!1})}},computed:{currency_info(){if(this.x_usd){let v=this.x_usd.id.toUpperCase(),e=(1/this.x_usd.rate).toFixed(4),t=this.x_usd.rate.toFixed(4);return`1 ${v} = ${e} CAD, 1 CAD = ${t} ${v}`}else return"undefined"},currency_date(){return this.x_usd?Je.long_datetime(this.x_usd.date):"undefined"}}},Nt=Object.assign(Vi,{__name:"portfolio",setup(v){return(e,t)=>(ne(),se(Ge,null,[e.accounts&&e.accounts.length?(ne(),se("div",Yn,[c("table",Kn,[c("thead",null,[c("tr",Qn,[Xn,L(ft,{span:2,value:"Daily CAD",background:!0}),L(ft,{span:2,value:"Overall CAD",background:!0}),Zn]),ei]),e.accounts?(ne(!0),se(Ge,{key:0},lt(e.accounts,i=>(ne(),se("tbody",{key:i.account_number},[c("tr",{id:"accounts",class:Ye(["accounts",[{expanded:e.expanded.accounts[i.number]}]])},[L(Ct,{institution:i.institution.type,name:i.name,number:i.number,type:i.type,show_expand:!i.no_holdings,expanded:e.expanded.accounts[i.number],onToggle:r=>e.expanded.accounts[i.number]=!e.expanded.accounts[i.number]},null,8,["institution","name","number","type","show_expand","expanded","onToggle"]),L(de,{value:e.holdings_totals.accounts[i.number].gain_daily_amount_CAD,colored:!0,highlighted:!0},null,8,["value"]),L(nt,{value:e.holdings_totals.accounts[i.number].gain_daily_percent,colored:!0,arrow:!0},null,8,["value"]),L(de,{value:e.holdings_totals.accounts[i.number].gain_overall_amount_CAD,colored:!0,highlighted:!0},null,8,["value"]),L(nt,{value:e.holdings_totals.accounts[i.number].gain_overall_percent,colored:!0,arrow:!0},null,8,["value"]),L(de,{span:2,value:e.holdings_totals.accounts[i.number].market_value_CAD},null,8,["value"]),L(de,{span:2,value:e.holdings_totals.accounts[i.number].market_value_USD},null,8,["value"]),L(de,{span:2,value:e.holdings_totals.accounts[i.number].market_total_CAD,colored:!0},null,8,["value"]),L(nt,{value:e.holdings_totals.accounts[i.number].weight_portfolio},null,8,["value"])],2),e.expanded.accounts[i.number]&&i.subaccounts&&i.subaccounts.length?(ne(!0),se(Ge,{key:0},lt(i.subaccounts,r=>(ne(),se(Ge,{key:r.id},[c("tr",{id:"subaccounts",class:Ye(["subaccounts",[{expanded:e.expanded.subaccounts[r.id]}]])},[L(Ct,{institution:"--",name:r.name,currency:r.currency,expanded:e.expanded.subaccounts[r.id],onToggle:n=>e.expanded.subaccounts[r.id]=!e.expanded.subaccounts[r.id]},null,8,["name","currency","expanded","onToggle"]),L(de,{value:e.holdings_totals.accounts[i.number][r.id].gain_daily_amount,colored:!0,highlighted:!0,visible:!e.expanded.subaccounts[r.id]},null,8,["value","visible"]),L(nt,{value:e.holdings_totals.accounts[i.number][r.id].gain_daily_percent,colored:!0,arrow:!0,visible:!e.expanded.subaccounts[r.id]},null,8,["value","visible"]),L(de,{value:e.holdings_totals.accounts[i.number][r.id].gain_overall_amount,colored:!0,highlighted:!0,visible:!e.expanded.subaccounts[r.id]},null,8,["value","visible"]),L(nt,{value:e.holdings_totals.accounts[i.number][r.id].gain_overall_percent,colored:!0,arrow:!0,visible:!e.expanded.subaccounts[r.id]},null,8,["value","visible"]),L(de,{span:2,value:e.holdings_totals.accounts[i.number][r.id].market_value_CAD,visible:!e.expanded.subaccounts[r.id]},null,8,["value","visible"]),L(de,{span:2,value:e.holdings_totals.accounts[i.number][r.id].market_value_USD,visible:!e.expanded.subaccounts[r.id]},null,8,["value","visible"]),L(de,{span:2,value:e.holdings_totals.accounts[i.number][r.id].market_total_CAD,colored:!0,visible:!e.expanded.subaccounts[r.id]},null,8,["value","visible"]),L(nt,{value:e.holdings_totals.accounts[i.number][r.id].weight_account,visible:!e.expanded.subaccounts[r.id]},null,8,["value","visible"])],2),e.expanded.subaccounts[r.id]?(ne(),se("tr",ti)):De("",!0),e.expanded.subaccounts[r.id]?(ne(),se("tr",ni,[ii,ri,oi,L(ft,{span:2,value:"Book",background:!0}),L(ft,{span:2,value:"Daily",background:!0}),L(ft,{span:2,value:"Overall",background:!0}),L(ft,{span:2,value:"52 weeks",background:!0}),L(ft,{span:2,value:"Market",background:!0}),L(ft,{span:2,value:"Market CAD",background:!0}),ai])):De("",!0),e.expanded.subaccounts[r.id]?(ne(),se("tr",si,Ci)):De("",!0),e.expanded.subaccounts[r.id]?(ne(!0),se(Ge,{key:3},lt(e.holdings.filter(n=>n.subaccount_id==r.id&&!n.cash),n=>(ne(),se("tr",Ei,[L(It,{market:n.market,symbol:n.symbol,name:n.name},null,8,["market","symbol","name"]),Ai,L(Ft,{value:n.quantity,align:"center"},null,8,["value"]),L(de,{value:n.values.book_price,tooltip:st(Je).price(n.values.book_price)},null,8,["value","tooltip"]),L(de,{value:n.values.book_value},null,8,["value"]),L(de,{value:n.values.gain_daily_amount,colored:!0,highlighted:!0,tooltip:st(Je).tip_daily_change(n.values.daily_change,n.values.market_date)},null,8,["value","tooltip"]),L(nt,{value:n.values.gain_daily_percent,colored:!0,arrow:!0,tooltip:st(Je).tip_daily_change(n.values.daily_change,n.values.market_date)},null,8,["value","tooltip"]),L(de,{value:n.values.gain_overall_amount,colored:!0,highlighted:!0},null,8,["value"]),L(nt,{value:n.values.gain_overall_percent,colored:!0,arrow:!0},null,8,["value"]),L(de,{value:n.history.low.value,tooltip:st(Je).long_date(n.history.low.date)},null,8,["value","tooltip"]),L(de,{value:n.history.high.value,tooltip:st(Je).long_date(n.history.high.date)},null,8,["value","tooltip"]),L(de,{value:n.values.market_price,tooltip:st(Je).long_datetime(n.values.market_date)},null,8,["value","tooltip"]),L(de,{value:n.values.market_value},null,8,["value"]),L(de,{value:n.values.market_price_CAD,colored:!0,tooltip:st(Je).tip_xrate(n.currency,n.xrate)},null,8,["value","tooltip"]),L(de,{value:n.values.market_value_CAD,colored:!0,tooltip:st(Je).tip_xrate(n.currency,n.xrate)},null,8,["value","tooltip"]),L(nt,{value:n.values.weight_account},null,8,["value"])]))),256)):De("",!0),e.expanded.subaccounts[r.id]?(ne(!0),se(Ge,{key:4},lt(e.holdings.filter(n=>n.subaccount_id==r.id&&n.cash),n=>(ne(),se("tr",Oi,[L(It,{market:n.market,symbol:n.symbol,name:n.name},null,8,["market","symbol","name"]),Mi,Si,L(de,{value:n.values.market_value},null,8,["value"]),xi,L(de,{value:n.values.market_value_CAD,colored:!0},null,8,["value"]),L(nt,{value:n.values.weight_account},null,8,["value"])]))),256)):De("",!0),e.expanded.subaccounts[r.id]?(ne(),se("tr",Fi,[Pi,L(de,{value:e.holdings_totals.accounts[i.number][r.id].book_value},null,8,["value"]),L(de,{value:e.holdings_totals.accounts[i.number][r.id].gain_daily_amount,colored:!0,highlighted:!0},null,8,["value"]),L(nt,{value:e.holdings_totals.accounts[i.number][r.id].gain_daily_percent,colored:!0,arrow:!0},null,8,["value"]),L(de,{value:e.holdings_totals.accounts[i.number][r.id].gain_overall_amount,colored:!0,highlighted:!0},null,8,["value"]),L(nt,{value:e.holdings_totals.accounts[i.number][r.id].gain_overall_percent,colored:!0,arrow:!0},null,8,["value"]),Ii,Di,Ri,L(de,{value:e.holdings_totals.accounts[i.number][r.id].market_value},null,8,["value"]),Li,L(de,{value:e.holdings_totals.accounts[i.number][r.id].market_total_CAD,colored:!0},null,8,["value"]),L(nt,{value:e.holdings_totals.accounts[i.number][r.id].weight_account,colored:!1},null,8,["value"])])):De("",!0)],64))),128)):De("",!0),i.expanded?(ne(),se("tr",zi,ji)):De("",!0)]))),128)):De("",!0),c("tfoot",null,[c("tr",$i,[Wi,L(de,{value:e.holdings_totals.portfolio.gain_daily_amount_CAD,colored:!0,highlighted:!0},null,8,["value"]),L(nt,{value:e.holdings_totals.portfolio.gain_daily_percent,colored:!0,arrow:!0},null,8,["value"]),L(de,{value:e.holdings_totals.portfolio.gain_overall_amount_CAD,colored:!0,highlighted:!0},null,8,["value"]),L(nt,{value:e.holdings_totals.portfolio.gain_overall_percent,colored:!0,arrow:!0},null,8,["value"]),L(de,{span:2,value:e.holdings_totals.portfolio.market_value_CAD},null,8,["value"]),L(de,{span:2,value:e.holdings_totals.portfolio.market_value_USD},null,8,["value"]),L(de,{span:2,value:e.holdings_totals.portfolio.market_total_CAD,colored:!0},null,8,["value"]),L(nt,{value:e.holdings_totals.portfolio.weight_portfolio},null,8,["value"])])])])])):De("",!0),c("div",Bi,[qi,c("div",Hi,[c("div",null,[e.x_usd?(ne(),se("div",{key:0,class:"x-rate-info",title:e.currency_date},ht(e.currency_info),9,Ui)):De("",!0)]),c("div",null,[c("button",{onClick:t[0]||(t[0]=(...i)=>e.refresh_all&&e.refresh_all(...i))},"Refresh All"),Rt("  "),c("button",{onClick:t[1]||(t[1]=(...i)=>e.refresh_stock_prices&&e.refresh_stock_prices(...i))},"Refresh Prices")])])])],64))}}),Ji={name:"tab_performance"},Gi={class:"tab-container"},Yi=c("div",{class:"tab-logo-container"},[c("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-performance-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),Ki=[Yi];function Qi(v,e,t,i,r,n){return ne(),se("div",Gi,Ki)}const jt=yt(Ji,[["render",Qi]]),Xi={name:"tab_wealth"},Zi={class:"tab-container"},er=c("div",{class:"tab-logo-container"},[c("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-wealth-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),tr=[er];function nr(v,e,t,i,r,n){return ne(),se("div",Zi,tr)}const $t=yt(Xi,[["render",nr]]),ir={props:{span:{type:Number,default:5},icon:{type:String,default:""},name:{type:String,default:""},show_expand:{type:Boolean,default:!0},expanded:{type:Boolean,default:!0},fix_width:{type:String,default:""}},emits:["toggle"],methods:{toggle(){this.$emit("toggle")}},computed:{section_icon(){return this.icon||"https://portfoliotech.github.io/investify/static/img/tab-transactions-icon.png"},get_width(){return!this.fix_width==""?this.fix_width:"auto"}}},rr=["colspan"],or={class:"section-identifier"},ar=["src"],sr={class:"section-name"},lr={key:0,class:"toggle-arrow"};function ur(v,e,t,i,r,n){return ne(),se("td",{class:"section-cell",colspan:t.span},[c("div",{class:"section-data-wraper",style:Kt({width:n.get_width})},[c("div",or,[c("div",null,[c("img",{src:n.section_icon,class:"section-icon"},null,8,ar)]),c("div",sr,ht(t.name),1)]),c("div",null,[t.show_expand?(ne(),se("div",lr,[c("img",{src:"https://app.wealthica.com/img/arrow_down.f6ca09b2.svg",width:"13",height:"8",class:Ye({expanded:t.expanded}),onClick:e[0]||(e[0]=Dt((...u)=>n.toggle&&n.toggle(...u),["stop"]))},null,2)])):De("",!0)])],4)],8,rr)}const xt=yt(ir,[["render",ur]]),cr={components:{custom_cell:it},props:{...it.props,align:{default:"left"}}},Ut=Object.assign(cr,{__name:"date",setup(v){return(e,t)=>(ne(),wt(it,Mt(e.$props,{formatter:st(Je).date,align:v.align}),null,16,["formatter","align"]))}}),dr={components:{custom_cell:it},props:{...it.props,align:{default:"left"}}},Ot=Object.assign(dr,{__name:"text",setup(v){return(e,t)=>(ne(),wt(it,Mt(e.$props,{formatter:null,align:v.align}),null,16,["align"]))}}),fr={key:0,id:"statements"},hr={id:"statement_listing",class:"listing statements-listing"},gr=c("thead",null,[c("tr",{id:"accounts_header",class:"show-separator-line"},[c("th",null,"Accounts")])],-1),mr={key:0,id:"summary_section",class:"summary-section"},_r={id:"holdings_section",class:"holdings-section"},pr={key:0,id:"holdings_listing"},vr={id:"holding_table",class:"listing holdings-listing"},yr={id:"holdings-header_1"},br=c("th",null,null,-1),wr=c("th",null,null,-1),kr=c("th",null,null,-1),Tr=c("tr",{id:"holdings-header_2"},[c("th",{class:"justify-left"},"Company"),c("th",{class:"justify-center"},"Qty"),c("th",{class:"justify-right"},"Price"),c("th",{class:"justify-right"},"Value"),c("th",{class:"justify-right"},"Price"),c("th",{class:"justify-right"},"Value"),c("th",{class:"justify-right"},"Realized"),c("th",{class:"justify-right"},"Unrealized"),c("th",{class:"justify-right"},"Dividend"),c("th",{class:"justify-right"},"Interest"),c("th",{class:"justify-right"},"Fees"),c("th",{class:"justify-right"},"Taxes"),c("th",{class:"justify-right"},"Return")],-1),Cr={key:0,id:"section-holdings",class:"holdings-section"},Er={id:"holding",class:"holding"},Ar={key:0,id:"transactions-listing"},Or={colspan:"13"},Mr={class:"listing"},Sr=c("thead",null,[c("tr",{id:"transactions_header",class:"show-separator-line show-top-line transactions-header"},[c("th",{class:"justify-left"},"Date"),c("th",{class:"justify-left"},"Description"),c("th",{class:"justify-left"},"Type"),c("th",{class:"justify-center"},"Qte"),c("th",{class:"justify-right"},"Price"),c("th",{class:"justify-right"},"Amount"),c("th",{class:"justify-right"},"Fee"),c("th",{class:"justify-right"},"Total")])],-1),xr={id:"transactions",class:"transactions"},Fr={key:1,id:"holding_spacer",class:"spacer show-top-line"},Pr=c("td",{colspan:"13"},null,-1),Ir=[Pr],Dr={key:1,id:"holdings_spacer",class:"spacer"},Rr=c("td",{colspan:"13"},null,-1),Lr=[Rr],zr={key:2,id:"subbacount_transactions_section",class:"subbacount_transactions-section"},Nr={key:3,id:"subaccount_footer",class:"subaccount-footer"},jr=c("td",null,null,-1),$r=[jr],Wr={key:1,id:"account_footer",class:"account-footer"},Br=c("td",null,null,-1),qr=[Br],Hr=c("tfoot",null,[c("tr",{id:"totals",class:"show-total-line"},[c("td",{class:"justify-left"},"Total")])],-1),Ur={id:"footer"},Vr=c("div",{style:{height:"20px"}},null,-1),Jr={style:{display:"flex","justify-content":"space-between"}},Gr=["title"],Yr={inject:["data_store","state"],data(){return{x_usd:null,accounts:null,statements:null,expanded:{accounts:{},subaccounts:{},holdings:{},section_summaries:{},section_holdings:{},section_transactions:{}}}},created(){this.load_data()},methods:{load_data(){this.state.loading=!0,this.data_store.load(Ne.x_usd).then(()=>{this.x_usd=this.data_store[Ne.x_usd]}),Promise.all([this.data_store.load(Ne.accounts),this.data_store.load(Ne.statements)]).then(()=>{this.accounts=this.data_store[Ne.accounts],this.statements=this.data_store[Ne.statements],this.initialize_toggle_states(),this.state.loading=!1})},refresh_data(){this.state.loading=!0,this.data_store.clear_data(Object.keys(Ne)),this.state.loading=!1,this.load_data()},initialize_toggle_states(){this.accounts.flatMap(v=>v.subaccounts).forEach(v=>this.expanded.holdings[v.id]={})},filter_holdings(v,e){return e.filter(t=>v==="active"?t.quantity>0:t.quantity===0)},account_amount_cad(v){return v.subaccounts.reduce((e,t)=>{var r,n;let i=((n=(r=this.listing[t.id])==null?void 0:r.total)==null?void 0:n.total_amount)??t.value;return e+(t.currency=="cad"?i:0)},0)},account_amount_usd(v){return v.subaccounts.reduce((e,t)=>{var r,n;let i=((n=(r=this.listing[t.id])==null?void 0:r.total)==null?void 0:n.total_amount)??t.value;return e+(t.currency!="cad"?i:0)},0)},account_total_cad(v){return v.subaccounts.reduce((e,t)=>{var i;return e+(((i=this.listing[t.id])==null?void 0:i.total.total_amount_CAD)??0)},0)},account_fees_cad(v){return v.subaccounts.reduce((e,t)=>{var i;return e-(((i=this.listing[t.id])==null?void 0:i.total.fees_CAD)??0)},0)},listing_amount_cad(v){return v.reduce((e,t)=>e+this.account_amount_cad(t),0)},listing_amount_usd(v){return v.reduce((e,t)=>e+this.account_amount_usd(t),0)},listing_total_cad(v){return v.reduce((e,t)=>e+this.account_total_cad(t),0)},listing_fees_cad(v){return v.reduce((e,t)=>e+this.account_fees_cad(t),0)},security_symbol(v){return v.security&&v.security.symbol?v.security.symbol:""},tooltip_security_name(v){return v.security&&v.security.name?v.security.name:""},tooltip_transaction_date(v){return`trade: ${Je.date(v.date)}
settlement: ${Je.date(v.settlement_date)}`},update_transactions(){let v=this.statements["22981483:tfsa:cad"].holdings;console.log("holdings",v);let e=v.find(i=>i.symbol_mrkt==="CA:INTC"),t={security:"563cbdb4d8cf3dd7316c416c"};e.transactions.forEach(i=>{this.data_store.wealthica.update_transaction(i.id,t),console.log("updated:",i.id,t)})}},computed:{currency_info(){if(this.x_usd){let v=this.x_usd.id.toUpperCase(),e=(1/this.x_usd.rate).toFixed(4),t=this.x_usd.rate.toFixed(4);return`1 ${v} = ${e} CAD, 1 CAD = ${t} ${v}`}else return"undefined"},currency_date(){return this.x_usd?Je.long_datetime(this.x_usd.date):"undefined"}}},Wt=Object.assign(Yr,{__name:"statements",setup(v){return(e,t)=>(ne(),se(Ge,null,[e.accounts&&e.accounts.length?(ne(),se("div",fr,[c("table",hr,[gr,e.accounts?(ne(!0),se(Ge,{key:0},lt(e.accounts,i=>(ne(),se("tbody",{id:"accounts",key:i.number,class:"accounts"},[c("tr",{id:"account",class:Ye(["account",[{expanded:e.expanded.accounts[i.number]}]])},[L(Ct,{institution:i.institution.type,name:i.name,number:i.number,type:i.type,expanded:e.expanded.accounts[i.number],onToggle:r=>e.expanded.accounts[i.number]=!e.expanded.accounts[i.number]},null,8,["institution","name","number","type","expanded","onToggle"])],2),e.expanded.accounts[i.number]&&i.subaccounts&&i.subaccounts.length?(ne(!0),se(Ge,{key:0},lt(i.subaccounts,r=>(ne(),se(Ge,{key:r.id},[c("tr",{id:"subaccount",class:Ye(["section-header subaccount-section",[{expanded:e.expanded.subaccounts[r.id]}]])},[L(Ct,{institution:"--",name:r.name,currency:r.currency,expanded:e.expanded.subaccounts[r.id],onToggle:n=>e.expanded.subaccounts[r.id]=!e.expanded.subaccounts[r.id]},null,8,["name","currency","expanded","onToggle"])],2),e.expanded.subaccounts[r.id]?(ne(),se("tr",mr,[L(xt,{name:"Summary",class:Ye([{expanded:e.expanded.section_summaries[r.id]}]),expanded:e.expanded.section_summaries[r.id],onToggle:n=>e.expanded.section_summaries[r.id]=!e.expanded.section_summaries[r.id],icon:"https://investify.simple-url.com:8085/static/img/statement-section.png"},null,8,["class","expanded","onToggle","icon"])])):De("",!0),e.expanded.subaccounts[r.id]?(ne(),se(Ge,{key:1},[c("tr",_r,[L(xt,{name:"Holdings",class:Ye([{expanded:e.expanded.section_holdings[r.id]}]),expanded:e.expanded.section_holdings[r.id],onToggle:n=>e.expanded.section_holdings[r.id]=!e.expanded.section_holdings[r.id],icon:"https://investify.simple-url.com:8085/static/img/holdings-section.png"},null,8,["class","expanded","onToggle","icon"])]),e.expanded.section_holdings[r.id]?(ne(),se("tr",pr,[c("td",null,[c("table",vr,[c("thead",null,[c("tr",yr,[br,wr,L(ft,{span:2,value:"Cost",background:!0}),L(ft,{span:2,value:"Market",background:!0}),L(ft,{span:4,value:"Gain",background:!0}),L(ft,{span:2,value:"Charges",background:!0}),kr]),Tr]),c("tbody",null,[(ne(),se(Ge,null,lt(["active","inactive"],n=>(ne(),se(Ge,null,[n!="active"?(ne(),se("tr",Cr,[L(xt,{span:13,name:n.charAt(0).toUpperCase()+n.slice(1),expanded:e.statements[r.id][n],onToggle:u=>e.statements[r.id][n]=!e.statements[r.id][n],icon:"https://investify.simple-url.com:8085/static/img/expanded.png"},null,8,["name","expanded","onToggle","icon"])])):De("",!0),e.statements[r.id][n]?(ne(!0),se(Ge,{key:1},lt(e.filter_holdings(n,e.statements[r.id].holdings),u=>(ne(),se(Ge,null,[c("tr",Er,[L(It,{symbol:u.symbol,name:u.name,market:u.market,show_expand:"true",class:Ye([{expanded:e.expanded.holdings[r.id][u.symbol_mrkt]}]),expanded:e.expanded.holdings[r.id][u.symbol_mrkt],onToggle:E=>e.expanded.holdings[r.id][u.symbol_mrkt]=!e.expanded.holdings[r.id][u.symbol_mrkt]},null,8,["symbol","name","market","class","expanded","onToggle"]),L(Ft,{value:u.quantity,align:"center"},null,8,["value"]),L(de,{value:u.cost_price},null,8,["value"]),L(de,{value:u.cost_value},null,8,["value"]),L(de,{value:0}),L(de,{value:0}),L(de,{value:u.gain_realized,colored:!0,arrow:"true"},null,8,["value"]),L(de,{value:u.gain_unrealized},null,8,["value"]),L(de,{value:u.dividend},null,8,["value"]),L(de,{value:u.interest},null,8,["value"]),L(de,{value:u.fees},null,8,["value"]),L(de,{value:u.taxes},null,8,["value"]),L(de,{value:u.return,colored:!0},null,8,["value"])]),e.expanded.holdings[r.id][u.symbol_mrkt]?(ne(),se("tr",Ar,[c("td",Or,[c("table",Mr,[Sr,c("tbody",null,[(ne(!0),se(Ge,null,lt(u.transactions,E=>(ne(),se("tr",xr,[L(Ut,{value:E.settlement_date,tooltip:e.tooltip_transaction_date(E)},null,8,["value","tooltip"]),L(Ot,{value:E.description,class:"transaction-description",tooltip:E.description},null,8,["value","tooltip"]),L(Ot,{value:E.type.toUpperCase()},null,8,["value"]),L(Ft,{value:E.quantity,align:"center",show_zero:!1,show_null:!1},null,8,["value"]),L(de,{value:E.price,formatter:st(Je).price,show_zero:!1,show_null:!1},null,8,["value","formatter"]),L(de,{value:E.total_amount,colored:!0},null,8,["value"]),L(de,{value:-E.fee,show_zero:!1,show_null:!1},null,8,["value"]),L(de,{value:e.total,bold:!0},null,8,["value"])]))),256))])])])])):De("",!0),e.expanded.holdings[r.id][u.symbol_mrkt]?(ne(),se("tr",Fr,Ir)):De("",!0)],64))),256)):De("",!0)],64))),64))])])])])):De("",!0),e.expanded.section_holdings[r.id]?(ne(),se("tr",Dr,Lr)):De("",!0)],64)):De("",!0),e.expanded.subaccounts[r.id]?(ne(),se("tr",zr,[L(xt,{name:"Transactions",class:Ye([{expanded:e.expanded.section_transactions[r.id]}]),expanded:e.expanded.section_transactions[r.id],onToggle:n=>e.expanded.section_transactions[r.id]=!e.expanded.section_transactions[r.id]},null,8,["class","expanded","onToggle"])])):De("",!0),e.expanded.subaccounts[r.id]?(ne(),se("tr",Nr,$r)):De("",!0)],64))),128)):De("",!0),e.expanded.accounts[i.number]?(ne(),se("tr",Wr,qr)):De("",!0)]))),128)):De("",!0),Hr])])):De("",!0),c("div",Ur,[Vr,c("div",Jr,[c("div",null,[e.x_usd?(ne(),se("div",{key:0,class:"x-rate-info",title:e.currency_date},ht(e.currency_info),9,Gr)):De("",!0)]),c("div",null,[c("button",{onClick:t[0]||(t[0]=(...i)=>e.update_transactions&&e.update_transactions(...i))},"Transaction"),Rt(" "),c("button",{onClick:t[1]||(t[1]=(...i)=>e.refresh_data&&e.refresh_data(...i))},"Refresh")])])])],64))}}),Kr={key:0,id:"transactions_listing"},Qr={class:"transactions-listing"},Xr=c("thead",null,[c("tr",{id:"tr_accounts_header_2",class:"show-separator-line"},[c("th",{colspan:"5"},"Accounts"),c("th",{colspan:"1",class:"justify-right"},"Fees CAD"),c("th",{colspan:"1",class:"justify-right"},"CAD"),c("th",{colspan:"1",class:"justify-right"},"USD"),c("th",{colspan:"1",class:"justify-right"},"Total CAD")])],-1),Zr=c("tr",{id:"transactions_header",class:"transactions-header show-separator-line"},[c("th",{class:"justify-left"},"Date"),c("th",{class:"justify-left"},"Description"),c("th",{class:"justify-left"},"Company"),c("th",{class:"justify-left"},"Type"),c("th",{class:"justify-center"},"Qte"),c("th",{class:"justify-right"},"Price"),c("th",{class:"justify-right"},"Amount"),c("th",{class:"justify-right"},"Fee"),c("th",{class:"justify-right"},"Total")],-1),eo={class:"transactions-month"},to={colspan:"9"},no={id:"transactions",class:"transactions"},io={key:0,class:"spacer"},ro={key:1,id:"accounts_footer_spacing",class:"accounts-footer"},oo=c("td",{colspan:"9"},null,-1),ao=[oo],so={id:"portfolio_totals",class:"show-total-line"},lo=c("td",{colspan:"5",class:"justify-left"},"Total",-1),uo={id:"footer"},co=c("div",{style:{height:"20px"}},null,-1),fo={style:{display:"flex","justify-content":"space-between"}},ho=["title"],go={inject:["data_store","state"],data(){return{x_usd:null,accounts:null,listing:null,expanded:{accounts:{},subaccounts:{}}}},created(){this.load_data()},methods:{load_data(){this.state.loading=!0,this.data_store.load(Ne.x_usd).then(()=>{this.x_usd=this.data_store[Ne.x_usd]}),Promise.all([this.data_store.load(Ne.accounts),this.data_store.load(Ne.transactions_list)]).then(()=>{this.accounts=this.data_store[Ne.accounts],this.listing=this.data_store[Ne.transactions_list],this.state.loading=!1})},refresh_data(){this.state.loading=!0,this.data_store.clear_data(Object.keys(Ne)),this.state.loading=!1,this.load_data()},account_amount_cad(v){return v.subaccounts.reduce((e,t)=>{var r,n;let i=((n=(r=this.listing[t.id])==null?void 0:r.total)==null?void 0:n.total_amount)??t.value;return e+(t.currency=="cad"?i:0)},0)},account_amount_usd(v){return v.subaccounts.reduce((e,t)=>{var r,n;let i=((n=(r=this.listing[t.id])==null?void 0:r.total)==null?void 0:n.total_amount)??t.value;return e+(t.currency!="cad"?i:0)},0)},account_total_cad(v){return v.subaccounts.reduce((e,t)=>{var i;return e+(((i=this.listing[t.id])==null?void 0:i.total.total_amount_CAD)??0)},0)},account_fees_cad(v){return v.subaccounts.reduce((e,t)=>{var i;return e-(((i=this.listing[t.id])==null?void 0:i.total.fees_CAD)??0)},0)},listing_amount_cad(v){return v.reduce((e,t)=>e+this.account_amount_cad(t),0)},listing_amount_usd(v){return v.reduce((e,t)=>e+this.account_amount_usd(t),0)},listing_total_cad(v){return v.reduce((e,t)=>e+this.account_total_cad(t),0)},listing_fees_cad(v){return v.reduce((e,t)=>e+this.account_fees_cad(t),0)},security_symbol(v){return v.security&&v.security.symbol?v.security.symbol:""},tooltip_security_name(v){return v.security&&v.security.name?v.security.name:""},tooltip_transaction_date(v){return`trade: ${Je.date(v.date)}
settlement: ${Je.date(v.settlement_date)}`},delete_trns(){[].forEach(e=>{this.data_store.delete_transaction(e),console.log("transaction deleted: "+e)})}},computed:{currency_info(){if(this.x_usd){let v=this.x_usd.id.toUpperCase(),e=(1/this.x_usd.rate).toFixed(4),t=this.x_usd.rate.toFixed(4);return`1 ${v} = ${e} CAD, 1 CAD = ${t} ${v}`}else return"undefined"},currency_date(){return this.x_usd?Je.long_datetime(this.x_usd.date):"undefined"}}},Bt=Object.assign(go,{__name:"transactions",setup(v){return(e,t)=>(ne(),se(Ge,null,[e.accounts&&e.accounts.length?(ne(),se("div",Kr,[c("table",Qr,[Xr,e.accounts?(ne(!0),se(Ge,{key:0},lt(e.accounts,i=>(ne(),se("tbody",{key:i.account_number},[c("tr",{id:"accounts",class:Ye(["accounts",[{expanded:e.expanded.accounts[i.number]}]])},[L(Ct,{span:5,institution:i.institution.type,name:i.name,number:i.number,type:i.type,expanded:e.expanded.accounts[i.number],onToggle:r=>e.expanded.accounts[i.number]=!e.expanded.accounts[i.number]},null,8,["institution","name","number","type","expanded","onToggle"]),L(de,{value:e.account_fees_cad(i),show_zero:!1},null,8,["value"]),L(de,{value:e.account_amount_cad(i),show_zero:!0},null,8,["value"]),L(de,{value:e.account_amount_usd(i),show_zero:!0},null,8,["value"]),L(de,{value:e.account_total_cad(i),colored:!0,class:"justify-right"},null,8,["value"])],2),e.expanded.accounts[i.number]&&i.subaccounts&&i.subaccounts.length?(ne(!0),se(Ge,{key:0},lt(i.subaccounts,r=>(ne(),se(Ge,{key:r.id},[c("tr",{id:"subaccounts",class:Ye(["subaccounts",[{expanded:e.expanded.subaccounts[r.id]}]])},[L(Ct,{span:8,institution:"--",name:r.name,currency:r.currency,expanded:e.expanded.subaccounts[r.id],onToggle:n=>e.expanded.subaccounts[r.id]=!e.expanded.subaccounts[r.id]},null,8,["name","currency","expanded","onToggle"]),L(de,{value:e.listing[r.id].total.total_amount,bold:!0,colored:!0},null,8,["value"])],2),e.expanded.subaccounts[r.id]?(ne(),se(Ge,{key:0},[Zr,(ne(!0),se(Ge,null,lt(e.listing[r.id].transactions,(n,u)=>(ne(),se(Ge,{key:u},[c("tr",eo,[c("td",to,ht(st(Je).month_year(u)),1)]),(ne(!0),se(Ge,null,lt(n,E=>(ne(),se("tr",no,[L(Ut,{value:E.transaction.settlement_date,tooltip:e.tooltip_transaction_date(E.transaction)},null,8,["value","tooltip"]),L(Ot,{value:E.transaction.description,class:"transaction-description",tooltip:E.transaction.description},null,8,["value","tooltip"]),L(Ot,{value:e.security_symbol(E.transaction),tooltip:e.tooltip_security_name(E.transaction)},null,8,["value","tooltip"]),L(Ot,{value:E.transaction.type.toUpperCase()},null,8,["value"]),L(Ft,{value:E.transaction.quantity,align:"center",show_zero:!1,show_null:!1},null,8,["value"]),L(de,{value:E.transaction.price,formatter:st(Je).price,show_zero:!1,show_null:!1},null,8,["value","formatter"]),L(de,{value:E.transaction.total_amount,colored:!0},null,8,["value"]),L(de,{value:-E.transaction.fee,show_zero:!1,show_null:!1},null,8,["value"]),L(de,{value:E.total,bold:!0},null,8,["value"])]))),256))],64))),128)),e.expanded.subaccounts[r.id]?(ne(),se("tr",io)):De("",!0)],64)):De("",!0)],64))),128)):De("",!0),e.expanded.accounts[i.number]?(ne(),se("tr",ro,ao)):De("",!0)]))),128)):De("",!0),c("tfoot",null,[c("tr",so,[lo,L(de,{value:e.listing_fees_cad(e.accounts),show_zero:!1},null,8,["value"]),L(de,{value:e.listing_amount_cad(e.accounts),show_zero:!1},null,8,["value"]),L(de,{value:e.listing_amount_usd(e.accounts),show_zero:!1},null,8,["value"]),L(de,{value:e.listing_total_cad(e.accounts),colored:!0,class:"justify-right"},null,8,["value"])])])])])):De("",!0),c("div",uo,[co,c("div",fo,[c("div",null,[e.x_usd?(ne(),se("div",{key:0,class:"x-rate-info",title:e.currency_date},ht(e.currency_info),9,ho)):De("",!0)]),c("div",null,[c("button",{onClick:t[0]||(t[0]=(...i)=>e.delete_trns&&e.delete_trns(...i))},"delete"),Rt(" "),c("button",{onClick:t[1]||(t[1]=(...i)=>e.refresh_data&&e.refresh_data(...i))},"Refresh")])])])],64))}}),mo={class:"tabs-container"},_o={class:"tabs"},po=c("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-dashboard-icon.png",alt:"",class:"tab-img"},null,-1),vo=c("span",null,"Dashboard",-1),yo=[po,vo],bo=c("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-portfolio-icon.png",alt:"",class:"tab-img"},null,-1),wo=c("span",null,"Portfolio",-1),ko=[bo,wo],To=c("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-performance-icon.png",alt:"",class:"tab-img"},null,-1),Co=c("span",null,"Performance",-1),Eo=[To,Co],Ao=c("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-wealth-icon.png",alt:"",class:"tab-img"},null,-1),Oo=c("span",null,"Wealth",-1),Mo=[Ao,Oo],So=c("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-statements-icon.png",alt:"",class:"tab-img"},null,-1),xo=c("span",null,"Statements",-1),Fo=[So,xo],Po=c("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-transactions-icon.png",alt:"",class:"tab-img"},null,-1),Io=c("span",null,"Transactions",-1),Do=[Po,Io],Ro={class:"state"},Lo={key:0,src:"https://portfoliotech.github.io/investify/static/img/loading.gif",alt:"Loading...",class:"loading-gif"},zo=c("div",{class:"top-space"},null,-1),No={name:"App",components:{Dashboard:zt,Portfolio:Nt,Performance:jt,Wealth:$t,Statements:Wt,Transactions:Bt},data(){return{state:{loading:!0},active_tab:"Statements",tabs:{Dashboard:Tt(zt),Portfolio:Tt(Nt),Performance:Tt(jt),Wealth:Tt($t),Statements:Tt(Wt),Transactions:Tt(Bt)}}},provide(){return{data_store:new cn,state:this.state}},computed:{get_active_tab(){return this.tabs[this.active_tab]}}},Wo=Object.assign(No,{setup(v){return(e,t)=>(ne(),se("div",null,[c("div",mo,[c("div",_o,[c("div",{onClick:t[0]||(t[0]=i=>e.active_tab="Dashboard"),class:Ye(["tab",{"tab-active":e.active_tab==="Dashboard"}])},yo,2),c("div",{onClick:t[1]||(t[1]=i=>e.active_tab="Portfolio"),class:Ye(["tab",{"tab-active":e.active_tab==="Portfolio"}])},ko,2),c("div",{onClick:t[2]||(t[2]=i=>e.active_tab="Performance"),class:Ye(["tab",{"tab-active":e.active_tab==="Performance"}])},Eo,2),c("div",{onClick:t[3]||(t[3]=i=>e.active_tab="Wealth"),class:Ye(["tab",{"tab-active":e.active_tab==="Wealth"}])},Mo,2),c("div",{onClick:t[4]||(t[4]=i=>e.active_tab="Statements"),class:Ye(["tab",{"tab-active":e.active_tab==="Statements"}])},Fo,2),c("div",{onClick:t[5]||(t[5]=i=>e.active_tab="Transactions"),class:Ye(["tab",{"tab-active":e.active_tab==="Transactions"}])},Do,2)]),c("div",Ro,[e.state.loading?(ne(),se("img",Lo)):De("",!0)])]),zo,c("div",null,[(ne(),wt(Xt,null,[(ne(),wt(Qt(e.get_active_tab)))],1024))])]))}});export{Wo as default};
